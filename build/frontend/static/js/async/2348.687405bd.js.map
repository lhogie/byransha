{"version":3,"file":"static/js/async/2348.687405bd.js","sources":["webpack://login_page/./src/Components/View/ModalComponent.tsx","webpack://login_page/./src/global/CustomCodeBlock.tsx","webpack://login_page/./src/Components/View/BNodeNavigatorDisplay.tsx","webpack://login_page/./src/Components/View/Charts/MemoizedBarChart.tsx","webpack://login_page/./src/Components/View/Charts/MemoizedLineChart.tsx","webpack://login_page/./src/Components/View/CytoscapeGraph.tsx","webpack://login_page/./src/Components/View/Charts/MemoizedNetworkChart.tsx","webpack://login_page/./src/Components/View/ChartDisplay.tsx","webpack://login_page/./src/Components/View/ClassAttributeFieldDisplay.tsx","webpack://login_page/./src/Components/View/MermaidDisplay.tsx","webpack://login_page/./src/Components/View/ContentDisplay.tsx","webpack://login_page/./src/Components/View/ViewContent.tsx","webpack://login_page/./src/Components/Common/View.tsx","webpack://login_page/./src/Components/HomePage/HomePage.tsx","webpack://login_page/./src/global/useTitle.tsx"],"sourcesContent":["interface ModalComponentProps {\n\tdataForModal: any;\n\tisModalOpen: boolean;\n\tsetIsModalOpen: (isOpen: boolean) => void;\n}\n\nexport const ModalComponent = ({\n\tdataForModal: _dataForModal,\n\tisModalOpen: _isModalOpen,\n\tsetIsModalOpen: _setIsModalOpen,\n}: ModalComponentProps) => {\n\treturn null;\n};\n\nexport default ModalComponent;\n","interface CustomCodeBlockProps {\n\tcode: string;\n\tlanguage: string;\n}\n\nconst CustomCodeBlock = ({ code, language }: CustomCodeBlockProps) => {\n\treturn (\n\t\t<code\n\t\t\tstyle={{\n\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\tpadding: \"10px\",\n\t\t\t\tborderRadius: \"5px\",\n\t\t\t\tfontFamily: \"Monaco, 'Courier New', monospace\",\n\t\t\t\tfontSize: \"14px\",\n\t\t\t\tbackgroundColor: \"#f5f5f5\",\n\t\t\t\tdisplay: \"block\",\n\t\t\t\toverflow: \"auto\",\n\t\t\t}}\n\t\t\tclassName={`language-${language}`}\n\t\t>\n\t\t\t{code.trim()}\n\t\t</code>\n\t);\n};\n\nexport default CustomCodeBlock;\n","import { Box, Button } from \"@mui/material\";\nimport { useVirtualizer } from \"@tanstack/react-virtual\";\nimport { useCallback, useRef } from \"react\";\n\ninterface BNodeNavigatorDisplayProps {\n\tcontent: any;\n\tjumpToNode: (nodeId: number | string) => void;\n}\n\ninterface VirtualNavigatorProps {\n\tallNodes: Array<{\n\t\tkey: string;\n\t\tid: number | string;\n\t\ttype: \"in\" | \"out\";\n\t}>;\n\thandleButtonClick: (\n\t\tevent: React.MouseEvent<HTMLButtonElement>,\n\t\tnodeId: number | string,\n\t) => void;\n}\n\nconst VirtualNavigator = ({\n\tallNodes,\n\thandleButtonClick,\n}: VirtualNavigatorProps) => {\n\t\"use no memo\";\n\tconst parentRef = useRef<HTMLDivElement>(null);\n\tconst rowVirtualizer = useVirtualizer({\n\t\tcount: allNodes.length,\n\t\testimateSize: () => 56,\n\t\tgetScrollElement: () => parentRef.current,\n\t\toverscan: 10,\n\t});\n\n\treturn (\n\t\t<Box\n\t\t\tref={parentRef}\n\t\t\tsx={{\n\t\t\t\theight: 400,\n\t\t\t\toverflowY: \"auto\",\n\t\t\t\tposition: \"relative\",\n\t\t\t\tborder: \"1px solid #e0e0e0\",\n\t\t\t\tborderRadius: 1,\n\t\t\t\tp: 1,\n\t\t\t}}\n\t\t>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\theight: `${rowVirtualizer.getTotalSize()}px`,\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{rowVirtualizer.getVirtualItems().map((virtualItem) => {\n\t\t\t\t\tconst node = allNodes[virtualItem.index];\n\t\t\t\t\tif (!node) return null;\n\n\t\t\t\t\tconst isInNode = node.type === \"in\";\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tkey={virtualItem.key}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\theight: `${virtualItem.size}px`,\n\t\t\t\t\t\t\t\ttransform: `translateY(${virtualItem.start}px)`,\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tpx: 1,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={(e) => handleButtonClick(e, node.id)}\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tbgcolor: isInNode ? \"#3949ab\" : \"#00897b\",\n\t\t\t\t\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\t\t\tbgcolor: isInNode ? \"#5c6bc0\" : \"#26a69a\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{node.key} ({node.id})\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n\nexport const BNodeNavigatorDisplay = ({\n\tcontent,\n\tjumpToNode,\n}: BNodeNavigatorDisplayProps) => {\n\tconst handleButtonClick = useCallback(\n\t\t(event: React.MouseEvent<HTMLButtonElement>, nodeId: number | string) => {\n\t\t\tevent.stopPropagation();\n\t\t\tevent.preventDefault();\n\t\t\tjumpToNode(nodeId);\n\t\t},\n\t\t[jumpToNode],\n\t);\n\n\tconst inNodes = Object.keys(content.ins || {});\n\tconst outNodes = Object.keys(content.outs || {});\n\tconst allNodes = [\n\t\t...inNodes.map((node) => ({\n\t\t\tkey: node,\n\t\t\tid: content.ins[node],\n\t\t\ttype: \"in\" as const,\n\t\t})),\n\t\t...outNodes.map((node) => ({\n\t\t\tkey: node,\n\t\t\tid: content.outs[node],\n\t\t\ttype: \"out\" as const,\n\t\t})),\n\t];\n\n\tif (allNodes.length <= 50) {\n\t\treturn (\n\t\t\t<Box sx={{ p: 1 }}>\n\t\t\t\t<Box sx={{ mb: 2 }}>\n\t\t\t\t\t{inNodes.map((inNode) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey={inNode}\n\t\t\t\t\t\t\tonClick={(e) => handleButtonClick(e, content.ins[inNode])}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tbgcolor: \"#3949ab\",\n\t\t\t\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\t\t\t\tmr: 1,\n\t\t\t\t\t\t\t\tmb: 1,\n\t\t\t\t\t\t\t\t\"&:hover\": { bgcolor: \"#5c6bc0\" },\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{inNode} ({content.ins[inNode]})\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t))}\n\t\t\t\t</Box>\n\t\t\t\t<Box sx={{ paddingY: \"10px\" }}>\n\t\t\t\t\t{outNodes.map((outNode) => (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey={outNode}\n\t\t\t\t\t\t\tonClick={(e) => handleButtonClick(e, content.outs[outNode])}\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tbgcolor: \"#00897b\",\n\t\t\t\t\t\t\t\tcolor: \"#fff\",\n\t\t\t\t\t\t\t\tmr: 1,\n\t\t\t\t\t\t\t\tmb: 1,\n\t\t\t\t\t\t\t\t\"&:hover\": { bgcolor: \"#26a69a\" },\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{outNode} ({content.outs[outNode]})\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t))}\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<VirtualNavigator\n\t\t\tallNodes={allNodes}\n\t\t\thandleButtonClick={handleButtonClick}\n\t\t/>\n\t);\n};\n","import ReactECharts from \"echarts-for-react\";\nimport { memo, useMemo } from \"react\";\n\ninterface MemoizedBarChartProps {\n\tprettyName: string | undefined;\n\tdata: Record<string, any>;\n\tkeys: string[];\n}\n\nexport const MemoizedBarChart = memo(\n\t({ prettyName, data, keys }: MemoizedBarChartProps) => {\n\t\tconst option = useMemo(\n\t\t\t() => ({\n\t\t\t\ttooltip: {\n\t\t\t\t\tconfine: true,\n\t\t\t\t\ttrigger: \"axis\",\n\t\t\t\t\taxisPointer: {\n\t\t\t\t\t\ttype: \"shadow\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tgrid: {\n\t\t\t\t\tcontainLabel: false,\n\t\t\t\t},\n\t\t\t\txAxis: {\n\t\t\t\t\tdata: keys,\n\t\t\t\t\taxisLabel: {\n\t\t\t\t\t\trotate: 45,\n\t\t\t\t\t\tformatter: (value: string) =>\n\t\t\t\t\t\t\tvalue.length > 10 ? `${value.substring(0, 10)}...` : value,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tyAxis: {\n\t\t\t\t\ttype: \"value\",\n\t\t\t\t},\n\t\t\t\tseries: {\n\t\t\t\t\tname: prettyName,\n\t\t\t\t\ttype: \"bar\",\n\t\t\t\t\tdata: keys.map((key) => {\n\t\t\t\t\t\treturn data[key];\n\t\t\t\t\t}),\n\t\t\t\t\temphasis: {\n\t\t\t\t\t\tfocus: \"series\",\n\t\t\t\t\t\tblurScope: \"coordinateSystem\",\n\t\t\t\t\t},\n\t\t\t\t\tanimationDuration: 300,\n\t\t\t\t},\n\t\t\t}),\n\t\t\t[data, keys, prettyName],\n\t\t);\n\n\t\treturn (\n\t\t\t<ReactECharts\n\t\t\t\tlazyUpdate\n\t\t\t\toption={option}\n\t\t\t\tstyle={{ height: \"100%\", minHeight: \"300px\", width: \"100%\" }}\n\t\t\t/>\n\t\t);\n\t},\n);\n\nMemoizedBarChart.displayName = \"MemoizedBarChart\";\n","import ReactECharts from \"echarts-for-react\";\nimport { memo, useMemo } from \"react\";\n\ninterface MemoizedLineChartProps {\n\tdata: Array<{\n\t\tid: string;\n\t\tdata: Array<{ x: number; y: number }>;\n\t}>;\n}\n\nexport const MemoizedLineChart = memo(({ data }: MemoizedLineChartProps) => {\n\tconst option = useMemo(\n\t\t() => ({\n\t\t\ttooltip: {\n\t\t\t\ttrigger: \"axis\",\n\t\t\t\tconfine: true,\n\t\t\t},\n\t\t\tcolor: [\n\t\t\t\t\"#5470c6\",\n\t\t\t\t\"#91cc75\",\n\t\t\t\t\"#fac858\",\n\t\t\t\t\"#ee6666\",\n\t\t\t\t\"#73c0de\",\n\t\t\t\t\"#3ba272\",\n\t\t\t\t\"#fc8452\",\n\t\t\t\t\"#9a60b4\",\n\t\t\t\t\"#ea7ccc\",\n\t\t\t],\n\t\t\tlegend: {\n\t\t\t\tdata: data.map((series: any) => series.id),\n\t\t\t\torient: \"vertical\",\n\t\t\t\tright: 10,\n\t\t\t\ttop: \"center\",\n\t\t\t},\n\t\t\tgrid: {\n\t\t\t\tleft: \"5%\",\n\t\t\t\tright: \"15%\",\n\t\t\t\tbottom: \"10%\",\n\t\t\t\ttop: \"10%\",\n\t\t\t\tcontainLabel: true,\n\t\t\t},\n\t\t\txAxis: {\n\t\t\t\ttype: \"value\",\n\t\t\t\tname: \"X Axis\",\n\t\t\t\tnameLocation: \"middle\",\n\t\t\t\tnameGap: 30,\n\t\t\t},\n\t\t\tyAxis: {\n\t\t\t\ttype: \"value\",\n\t\t\t\tname: \"Y Axis\",\n\t\t\t\tmin: -1,\n\t\t\t\tmax: 1,\n\t\t\t\tnameLocation: \"middle\",\n\t\t\t\tnameGap: 50,\n\t\t\t},\n\t\t\tseries: data.map((series: any) => ({\n\t\t\t\tname: series.id,\n\t\t\t\ttype: \"line\",\n\t\t\t\tdata: series.data.map((point: any) => [point.x, point.y]),\n\t\t\t\tshowSymbol: false,\n\t\t\t\tsymbolSize: 8,\n\t\t\t\temphasis: {\n\t\t\t\t\tfocus: \"series\",\n\t\t\t\t},\n\t\t\t\tanimationDuration: 300,\n\t\t\t})),\n\t\t}),\n\t\t[data],\n\t);\n\n\treturn (\n\t\t<ReactECharts\n\t\t\tlazyUpdate\n\t\t\toption={option}\n\t\t\tstyle={{ height: \"100%\", minHeight: \"300px\", width: \"100%\" }}\n\t\t/>\n\t);\n});\n\nMemoizedLineChart.displayName = \"MemoizedLineChart\";\n","import Cytoscape, { type Core, type ElementDefinition } from \"cytoscape\";\nimport fcose from \"cytoscape-fcose\";\nimport { useCallback, useEffect, useRef } from \"react\";\n\nCytoscape.use(fcose);\n\nexport interface CytoscapeGraphProps {\n\telements: ElementDefinition[];\n\tstyle?: React.CSSProperties;\n\tstylesheet?: any[];\n\tlayout?: any;\n\tonNodeClick?: (node: any, event: any) => void;\n}\n\nexport const CytoscapeGraph = ({\n\telements,\n\tstyle,\n\tstylesheet,\n\tlayout,\n\tonNodeClick,\n}: CytoscapeGraphProps) => {\n\tconst containerRef = useRef<HTMLDivElement>(null);\n\tconst cyRef = useRef<Core | null>(null);\n\n\tconst handleNodeClick = useCallback(\n\t\t(event: any) => {\n\t\t\tconst node = event.target;\n\t\t\tif (onNodeClick) {\n\t\t\t\tonNodeClick({ id: node.id() }, event);\n\t\t\t}\n\t\t},\n\t\t[onNodeClick],\n\t);\n\n\tconst handleNodeMouseOver = useCallback((event: any) => {\n\t\tconst node = event.target;\n\t\tnode.style(\"label\", node.data(\"label\"));\n\t}, []);\n\n\tconst handleNodeMouseOut = useCallback((event: any) => {\n\t\tconst node = event.target;\n\t\tnode.style(\"label\", \"\");\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!containerRef.current) return;\n\n\t\t// Initialize Cytoscape instance\n\t\tconst cy = Cytoscape({\n\t\t\tcontainer: containerRef.current,\n\t\t\telements,\n\t\t\tstyle: stylesheet || [\n\t\t\t\t{\n\t\t\t\t\tselector: \"node\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\"background-color\": \"data(color)\",\n\t\t\t\t\t\twidth: \"data(size)\",\n\t\t\t\t\t\theight: \"data(size)\",\n\t\t\t\t\t\t\"text-valign\": \"top\",\n\t\t\t\t\t\t\"text-halign\": \"center\",\n\t\t\t\t\t\t\"text-margin-y\": -5,\n\t\t\t\t\t\t\"font-size\": \"12px\",\n\t\t\t\t\t\tcolor: \"#000000\",\n\t\t\t\t\t\t\"text-outline-width\": 2,\n\t\t\t\t\t\t\"text-outline-color\": \"#ffffff\",\n\t\t\t\t\t\t\"z-index\": 1,\n\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tselector: \"edge\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\twidth: 2,\n\t\t\t\t\t\t\"line-color\": \"#cccccc\",\n\t\t\t\t\t\t\"target-arrow-color\": \"#cccccc\",\n\t\t\t\t\t\t\"target-arrow-shape\": \"triangle\",\n\t\t\t\t\t\t\"curve-style\": \"bezier\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tlayout: layout || {\n\t\t\t\tname: \"fcose\",\n\t\t\t\tanimate: false,\n\t\t\t\tsamplingType: false,\n\t\t\t\tanimationDuration: 1500,\n\t\t\t\tfit: true,\n\t\t\t\tpadding: 30,\n\t\t\t},\n\t\t});\n\n\t\tcyRef.current = cy;\n\n\t\t// Set up event listeners\n\t\tcy.on(\"tap\", \"node\", handleNodeClick);\n\t\tcy.on(\"mouseover\", \"node\", handleNodeMouseOver);\n\t\tcy.on(\"mouseout\", \"node\", handleNodeMouseOut);\n\n\t\t// Cleanup function\n\t\treturn () => {\n\t\t\tif (cyRef.current) {\n\t\t\t\tcyRef.current.destroy();\n\t\t\t\tcyRef.current = null;\n\t\t\t}\n\t\t};\n\t}, [\n\t\telements,\n\t\tstylesheet,\n\t\tlayout,\n\t\thandleNodeClick,\n\t\thandleNodeMouseOver,\n\t\thandleNodeMouseOut,\n\t]);\n\n\t// Update elements when they change\n\tuseEffect(() => {\n\t\tif (cyRef.current && elements) {\n\t\t\tcyRef.current.elements().remove();\n\t\t\tcyRef.current.add(elements);\n\n\t\t\t// Re-run layout\n\t\t\tconst layoutOptions = layout || {\n\t\t\t\tname: \"fcose\",\n\t\t\t\tanimate: false,\n\t\t\t\tsamplingType: false,\n\t\t\t\tanimationDuration: 1500,\n\t\t\t\tfit: true,\n\t\t\t\tpadding: 30,\n\t\t\t};\n\n\t\t\tcyRef.current.layout(layoutOptions).run();\n\t\t}\n\t}, [elements, layout]);\n\n\treturn (\n\t\t<div\n\t\t\tref={containerRef}\n\t\t\tstyle={{ width: \"100%\", height: \"100%\", ...style }}\n\t\t/>\n\t);\n};\n","import { Box } from \"@mui/material\";\nimport type { ElementDefinition } from \"cytoscape\";\nimport type { FcoseLayoutOptions } from \"cytoscape-fcose\";\nimport { memo, useMemo } from \"react\";\nimport { CytoscapeGraph } from \"../CytoscapeGraph\";\n\ninterface NetworkData {\n\tnodes: Array<{\n\t\tid: string;\n\t\tlabel: string;\n\t\tsize?: number;\n\t\tcolor?: string;\n\t\tx?: number;\n\t\ty?: number;\n\t}>;\n\tlinks: Array<{\n\t\tsource: string;\n\t\ttarget: string;\n\t}>;\n}\n\ninterface MemoizedNetworkChartProps {\n\tdata: NetworkData;\n\tonNodeClick: (node: any, event: any) => void;\n}\n\nexport const MemoizedNetworkChart = memo(\n\t({ data, onNodeClick }: MemoizedNetworkChartProps) => {\n\t\tconst processedData = useMemo(() => {\n\t\t\treturn data;\n\t\t}, [data]);\n\n\t\tconst elements = useMemo(\n\t\t\t() => [\n\t\t\t\t...processedData.nodes.map((node: any) => ({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tid: node.id,\n\t\t\t\t\t\tlabel: node.label,\n\t\t\t\t\t\tsize: node.size || 30,\n\t\t\t\t\t\tcolor: node.color || \"#1f77b4\",\n\t\t\t\t\t\tx: node.x,\n\t\t\t\t\t\ty: node.y,\n\t\t\t\t\t},\n\t\t\t\t})),\n\t\t\t\t...processedData.links.map((link: any) => ({\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tid: `${link.source}-${link.target}`,\n\t\t\t\t\t\tsource: link.source,\n\t\t\t\t\t\ttarget: link.target,\n\t\t\t\t\t},\n\t\t\t\t})),\n\t\t\t],\n\t\t\t[processedData],\n\t\t);\n\n\t\tconst cytoscapeStyles = useMemo(\n\t\t\t() => [\n\t\t\t\t{\n\t\t\t\t\tselector: \"node\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\"background-color\": \"data(color)\",\n\t\t\t\t\t\twidth: \"data(size)\",\n\t\t\t\t\t\theight: \"data(size)\",\n\t\t\t\t\t\t\"text-valign\": \"top\",\n\t\t\t\t\t\t\"text-halign\": \"center\",\n\t\t\t\t\t\t\"text-margin-y\": -5,\n\t\t\t\t\t\t\"font-size\": \"12px\",\n\t\t\t\t\t\tcolor: \"#000000\",\n\t\t\t\t\t\t\"text-outline-width\": 2,\n\t\t\t\t\t\t\"text-outline-color\": \"#ffffff\",\n\t\t\t\t\t\t\"z-index\": 1,\n\t\t\t\t\t\tlabel: \"\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tselector: \"edge\",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\twidth: 2,\n\t\t\t\t\t\t\"line-color\": \"#cccccc\",\n\t\t\t\t\t\t\"target-arrow-color\": \"#cccccc\",\n\t\t\t\t\t\t\"target-arrow-shape\": \"triangle\",\n\t\t\t\t\t\t\"curve-style\": \"bezier\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\t[],\n\t\t);\n\n\t\treturn (\n\t\t\t<Box sx={{ height: \"100%\", minHeight: \"300px\", width: \"100%\" }}>\n\t\t\t\t<CytoscapeGraph\n\t\t\t\t\telements={elements as ElementDefinition[]}\n\t\t\t\t\tstyle={{ width: \"100%\", height: \"100%\" }}\n\t\t\t\t\tstylesheet={cytoscapeStyles}\n\t\t\t\t\tlayout={\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: processedData.nodes.length > 1000 ? \"random\" : \"fcose\",\n\t\t\t\t\t\t\tanimate: false,\n\t\t\t\t\t\t\tsamplingType: false,\n\t\t\t\t\t\t\tanimationDuration: 1500,\n\t\t\t\t\t\t\tfit: true,\n\t\t\t\t\t\t\tpadding: 30,\n\t\t\t\t\t\t} as FcoseLayoutOptions\n\t\t\t\t\t}\n\t\t\t\t\tonNodeClick={onNodeClick}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t);\n\t},\n);\n\nMemoizedNetworkChart.displayName = \"MemoizedNetworkChart\";\n","import { CircularProgress } from \"@mui/material\";\nimport { Suspense, useCallback } from \"react\";\nimport {\n\tMemoizedBarChart,\n\tMemoizedLineChart,\n\tMemoizedNetworkChart,\n} from \"./Charts\";\n\ninterface ChartDisplayProps {\n\tviewId: string;\n\tcontent: any;\n\tonNodeClick: (nodeId: number | string) => void;\n\tprettyName?: string;\n}\n\nexport const ChartDisplay = ({\n\tviewId,\n\tcontent,\n\tonNodeClick,\n\tprettyName,\n}: ChartDisplayProps) => {\n\tconst parseNivoChartData = useCallback((chartContent: any) => {\n\t\tif (!chartContent) return [];\n\n\t\tconst result = [];\n\t\tfor (const key of Object.keys(chartContent)) {\n\t\t\tconst cosData = chartContent?.[key] || {};\n\t\t\tconst cosLine = {\n\t\t\t\tid: key,\n\t\t\t\tdata: cosData.map((val: any) => {\n\t\t\t\t\tconst k = Object.keys(val)[0];\n\t\t\t\t\treturn {\n\t\t\t\t\t\tx: parseFloat(k),\n\t\t\t\t\t\ty: parseFloat(val[k]),\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t};\n\t\t\tresult.push(cosLine);\n\t\t}\n\t\treturn result;\n\t}, []);\n\n\tconst parseBarChartData = useCallback(\n\t\t(chartContent: { [s: string]: { [s2: string]: string } }) => {\n\t\t\tif (!chartContent) return {};\n\n\t\t\tconst result = {};\n\t\t\tfor (const value of Object.values(chartContent)) {\n\t\t\t\tfor (const key of Object.keys(value)) {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tresult[key] = value?.[key] || {};\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t[],\n\t);\n\n\tconst getDistributionKeys = useCallback(\n\t\t(chartContent: { [s: string]: any } | ArrayLike<unknown>) => {\n\t\t\tif (!chartContent || Object.values(chartContent).length === 0) return [];\n\t\t\tconst keySet = new Set<string>();\n\t\t\tObject.values(chartContent).forEach((obj: string) => {\n\t\t\t\tObject.keys(obj).forEach((key) => keySet.add(key));\n\t\t\t});\n\t\t\treturn Array.from(keySet).sort();\n\t\t},\n\t\t[],\n\t);\n\n\tconst getNetworkData = useCallback((chartContent: any) => {\n\t\tif (!chartContent || !chartContent.nodes) return { nodes: [], links: [] };\n\n\t\tconst uniqueNodesMap = new Map();\n\n\t\tchartContent.nodes.forEach((node: any) => {\n\t\t\tconst nodeId = node.id || node.label;\n\n\t\t\tconst transformedNode = {\n\t\t\t\t...node,\n\t\t\t\tid: nodeId,\n\t\t\t\tlabel: node.label || nodeId,\n\t\t\t\tsize: node.size || 30,\n\t\t\t\tcolor: node.color || \"#1f77b4\",\n\t\t\t};\n\n\t\t\tif (!uniqueNodesMap.has(transformedNode.id)) {\n\t\t\t\tuniqueNodesMap.set(transformedNode.id, transformedNode);\n\t\t\t}\n\t\t});\n\n\t\tconst transformedLinks = chartContent.links.map((link: any) => {\n\t\t\tconst sourceId =\n\t\t\t\ttypeof link.source === \"object\"\n\t\t\t\t\t? link.source.id || link.source.label\n\t\t\t\t\t: link.source;\n\n\t\t\tconst targetId =\n\t\t\t\ttypeof link.target === \"object\"\n\t\t\t\t\t? link.target.id || link.target.label\n\t\t\t\t\t: link.target;\n\n\t\t\treturn {\n\t\t\t\t...link,\n\t\t\t\tsource: sourceId,\n\t\t\t\ttarget: targetId,\n\t\t\t};\n\t\t});\n\n\t\tconst processedData = {\n\t\t\tnodes: Array.from(uniqueNodesMap.values()),\n\t\t\tlinks: transformedLinks,\n\t\t};\n\n\t\treturn processedData;\n\t}, []);\n\n\tconst handleNetworkNodeClick = useCallback(\n\t\t(node: any, event: MouseEvent) => {\n\t\t\tif (event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t}\n\t\t\tif (node?.id) {\n\t\t\t\tconst nodeId = node.id.includes(\"@\") ? node.id.split(\"@\")[1] : node.id;\n\t\t\t\tonNodeClick(nodeId);\n\t\t\t}\n\t\t},\n\t\t[onNodeClick],\n\t);\n\n\tif (viewId === \"char_example_xy\") {\n\t\tconst parsedChartData = parseNivoChartData(content);\n\n\t\treturn (\n\t\t\t// biome-ignore lint/a11y/noStaticElementInteractions: This is a controlled click handler\n\t\t\t<div\n\t\t\t\tclassName=\"graph\"\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Suspense fallback={<CircularProgress />}>\n\t\t\t\t\t<MemoizedLineChart data={parsedChartData} />\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t);\n\t} else if (viewId.endsWith(\"_distribution\")) {\n\t\tconst barChartData = parseBarChartData(content);\n\t\tconst keys = getDistributionKeys(content);\n\t\treturn (\n\t\t\t// biome-ignore lint/a11y/noStaticElementInteractions: This is a controlled click handler\n\t\t\t<div\n\t\t\t\tclassName=\"graph\"\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Suspense fallback={<CircularProgress />}>\n\t\t\t\t\t<MemoizedBarChart\n\t\t\t\t\t\tprettyName={prettyName}\n\t\t\t\t\t\tdata={barChartData}\n\t\t\t\t\t\tkeys={keys}\n\t\t\t\t\t/>\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t);\n\t} else if (viewId.endsWith(\"nivo_view\")) {\n\t\tconst networkData = getNetworkData(content);\n\n\t\treturn (\n\t\t\t// biome-ignore lint/a11y/noStaticElementInteractions: This is a controlled click handler\n\t\t\t<div\n\t\t\t\tclassName=\"graph\"\n\t\t\t\tonClick={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Suspense fallback={<CircularProgress />}>\n\t\t\t\t\t<MemoizedNetworkChart\n\t\t\t\t\t\tdata={networkData}\n\t\t\t\t\t\tonNodeClick={handleNetworkNodeClick}\n\t\t\t\t\t/>\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn null;\n\t}\n};\n","import {\n\tBox,\n\tCard,\n\tCardContent,\n\tCardMedia,\n\tGrid,\n\tTypography,\n} from \"@mui/material\";\nimport { useVirtualizer } from \"@tanstack/react-virtual\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\n\ninterface ClassAttributeFieldDisplayProps {\n\tcontent: any;\n}\n\nexport const ClassAttributeFieldDisplay = ({\n\tcontent,\n}: ClassAttributeFieldDisplayProps) => {\n\tconst parentRef = useRef<HTMLDivElement>(null);\n\tconst [containerWidth, setContainerWidth] = useState(0);\n\n\tconst filteredAttributes = useMemo(\n\t\t() =>\n\t\t\tcontent?.attributes?.filter((node: any) => node.name !== \"graph\") || [],\n\t\t[content?.attributes],\n\t);\n\n\tuseEffect(() => {\n\t\tconst updateWidth = () => {\n\t\t\tif (parentRef.current) {\n\t\t\t\tsetContainerWidth(parentRef.current.offsetWidth);\n\t\t\t}\n\t\t};\n\n\t\tupdateWidth();\n\t\twindow.addEventListener(\"resize\", updateWidth);\n\t\treturn () => window.removeEventListener(\"resize\", updateWidth);\n\t}, []);\n\n\tconst itemsPerRow = useMemo(() => {\n\t\tif (containerWidth === 0) return 1;\n\t\tif (containerWidth >= 600) return 2;\n\t\treturn 1;\n\t}, [containerWidth]);\n\n\tconst rows = useMemo(() => {\n\t\tconst result: any[][] = [];\n\t\tfor (let i = 0; i < filteredAttributes.length; i += itemsPerRow) {\n\t\t\tresult.push(filteredAttributes.slice(i, i + itemsPerRow));\n\t\t}\n\t\treturn result;\n\t}, [filteredAttributes, itemsPerRow]);\n\n\tconst rowVirtualizer = useVirtualizer({\n\t\tcount: rows.length,\n\t\tgetScrollElement: () => parentRef.current,\n\t\testimateSize: useCallback(() => 300, []),\n\t\toverscan: 2,\n\t});\n\n\tconst renderCard = useCallback((outNode: any) => {\n\t\tconst isImage = outNode.mimeType?.startsWith(\"image/\") && outNode.value;\n\t\tconst hasValue =\n\t\t\tObject.hasOwn(outNode, \"value\") &&\n\t\t\toutNode.value !== null &&\n\t\t\toutNode.value !== undefined;\n\n\t\treturn (\n\t\t\t<Card\n\t\t\t\tsx={{\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\theight: 260,\n\t\t\t\t\tmaxHeight: 260,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<CardContent\n\t\t\t\t\tsx={{ flexGrow: 1, display: \"flex\", flexDirection: \"column\" }}\n\t\t\t\t>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tvariant=\"h6\"\n\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\tsx={{ wordBreak: \"break-word\" }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{outNode.name}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{isImage && (\n\t\t\t\t\t\t<CardMedia\n\t\t\t\t\t\t\tcomponent=\"img\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tmaxHeight: 200,\n\t\t\t\t\t\t\t\twidth: \"auto\",\n\t\t\t\t\t\t\t\tobjectFit: \"contain\",\n\t\t\t\t\t\t\t\tmt: 1,\n\t\t\t\t\t\t\t\tborder: \"1px solid #eee\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\timage={`data:${outNode.mimeType};base64,${outNode.value}`}\n\t\t\t\t\t\t\talt={`Output value for ${outNode.name}`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{!isImage && hasValue && (\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\tcomponent=\"pre\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\t\t\t\t\twordBreak: \"break-all\",\n\t\t\t\t\t\t\t\tmt: 1,\n\t\t\t\t\t\t\t\tp: 1,\n\t\t\t\t\t\t\t\tbackgroundColor: \"#f5f5f5\",\n\t\t\t\t\t\t\t\tborderRadius: 1,\n\t\t\t\t\t\t\t\toverflow: \"auto\",\n\t\t\t\t\t\t\t\tmaxHeight: 160,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{typeof outNode.value === \"object\"\n\t\t\t\t\t\t\t\t? JSON.stringify(outNode.value, null, 2)\n\t\t\t\t\t\t\t\t: String(outNode.value)}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\t\t\t\t\t{!hasValue && !isImage && (\n\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tfontStyle: \"italic\",\n\t\t\t\t\t\t\t\tmt: 1,\n\t\t\t\t\t\t\t\tp: 1,\n\t\t\t\t\t\t\t\tbackgroundColor: \"#f5f5f5\",\n\t\t\t\t\t\t\t\tborderRadius: 1,\n\t\t\t\t\t\t\t\tflexGrow: 1,\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\t\tminHeight: 40,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t(No displayable value)\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t);\n\t}, []);\n\n\tif (!Array.isArray(content?.attributes)) {\n\t\treturn (\n\t\t\t<Typography sx={{ p: 2 }} color=\"error\">\n\t\t\t\tError: Expected an array for 'class_attribute_field' data, but received\n\t\t\t\ttype {typeof content?.attributes}.\n\t\t\t</Typography>\n\t\t);\n\t}\n\n\tif (content?.attributes.length === 0) {\n\t\treturn <Typography sx={{ p: 2 }}>No output nodes connected.</Typography>;\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tref={parentRef}\n\t\t\tsx={{\n\t\t\t\theight: \"400px\",\n\t\t\t\toverflow: \"auto\",\n\t\t\t\tp: 1,\n\t\t\t\twidth: \"100%\",\n\t\t\t}}\n\t\t>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\theight: `${rowVirtualizer.getTotalSize()}px`,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{rowVirtualizer.getVirtualItems().map((virtualRow) => {\n\t\t\t\t\tconst rowItems = rows[virtualRow.index];\n\t\t\t\t\tif (!rowItems) return null;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tkey={virtualRow.key}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\theight: `${virtualRow.size}px`,\n\t\t\t\t\t\t\t\ttransform: `translateY(${virtualRow.start}px)`,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Grid container spacing={2} sx={{ width: \"100%\" }}>\n\t\t\t\t\t\t\t\t{rowItems.map((outNode) => (\n\t\t\t\t\t\t\t\t\t<Grid\n\t\t\t\t\t\t\t\t\t\tkey={outNode.id}\n\t\t\t\t\t\t\t\t\t\tsize={{ xs: 12, sm: 6 }}\n\t\t\t\t\t\t\t\t\t\tsx={{ display: \"flex\" }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{renderCard(outNode)}\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n","import { CenterFocusStrong, ZoomIn, ZoomOut } from \"@mui/icons-material\";\nimport {\n\tBox,\n\tIconButton,\n\tPaper,\n\tToolbar,\n\tTooltip,\n\tTypography,\n} from \"@mui/material\";\nimport mermaid from \"mermaid\";\nimport type React from \"react\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\n\ninterface MermaidDisplayProps {\n\tchart: string;\n}\n\nconst MermaidDisplay: React.FC<MermaidDisplayProps> = ({ chart }) => {\n\tconst containerRef = useRef<HTMLDivElement>(null);\n\tconst mermaidRef = useRef<HTMLDivElement>(null);\n\tconst [zoom, setZoom] = useState(1);\n\tconst [position, setPosition] = useState({ x: 0, y: 0 });\n\tconst [isDragging, setIsDragging] = useState(false);\n\tconst [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n\n\tuseEffect(() => {\n\t\tmermaid.initialize({\n\t\t\tstartOnLoad: false,\n\t\t\ttheme: \"dark\",\n\t\t\tsecurityLevel: \"loose\",\n\n\t\t\tfontFamily: \"Fira Code\",\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst renderMermaid = async () => {\n\t\t\tif (mermaidRef.current && chart) {\n\t\t\t\ttry {\n\t\t\t\t\tconst id = `mermaid-${Date.now()}`;\n\n\t\t\t\t\t// Clear previous content\n\t\t\t\t\tmermaidRef.current.innerHTML = \"\";\n\n\t\t\t\t\t// Parse and render the chart\n\t\t\t\t\tconst { svg } = await mermaid.render(id, chart);\n\t\t\t\t\tmermaidRef.current.innerHTML = svg;\n\n\t\t\t\t\t// Reset zoom and position when chart changes\n\t\t\t\t\tsetZoom(1);\n\t\t\t\t\tsetPosition({ x: 0, y: 0 });\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(\"Mermaid rendering error:\", error);\n\t\t\t\t\tmermaidRef.current.innerHTML = `<div style=\"color: red; padding: 20px;\">Error rendering diagram: ${error}</div>`;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\trenderMermaid();\n\t}, [chart]);\n\n\t// Prevent page scrolling when mouse is over the container\n\tuseEffect(() => {\n\t\tconst container = containerRef.current;\n\t\tif (!container) return;\n\n\t\tconst preventScroll = (e: WheelEvent) => {\n\t\t\te.preventDefault();\n\t\t};\n\n\t\tcontainer.addEventListener(\"wheel\", preventScroll, { passive: false });\n\n\t\treturn () => {\n\t\t\tcontainer.removeEventListener(\"wheel\", preventScroll);\n\t\t};\n\t}, []);\n\n\tconst handleZoomIn = useCallback(() => {\n\t\tsetZoom((prev) => Math.min(prev * 1.2, 3));\n\t}, []);\n\n\tconst handleZoomOut = useCallback(() => {\n\t\tsetZoom((prev) => Math.max(prev / 1.2, 0.3));\n\t}, []);\n\n\tconst handleResetView = useCallback(() => {\n\t\tsetZoom(1);\n\t\tsetPosition({ x: 0, y: 0 });\n\t}, []);\n\n\tconst handleMouseDown = useCallback(\n\t\t(e: React.MouseEvent) => {\n\t\t\tif (e.button === 0) {\n\t\t\t\tsetIsDragging(true);\n\t\t\t\tsetDragStart({\n\t\t\t\t\tx: e.clientX - position.x,\n\t\t\t\t\ty: e.clientY - position.y,\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[position],\n\t);\n\n\tconst handleMouseMove = useCallback(\n\t\t(e: React.MouseEvent) => {\n\t\t\tif (isDragging) {\n\t\t\t\tsetPosition({\n\t\t\t\t\tx: e.clientX - dragStart.x,\n\t\t\t\t\ty: e.clientY - dragStart.y,\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[isDragging, dragStart],\n\t);\n\n\tconst handleMouseUp = useCallback(() => {\n\t\tsetIsDragging(false);\n\t}, []);\n\n\tconst handleWheel = useCallback(\n\t\t(e: React.WheelEvent) => {\n\t\t\tif (containerRef.current) {\n\t\t\t\tconst rect = containerRef.current.getBoundingClientRect();\n\t\t\t\tconst centerX = rect.width / 2;\n\t\t\t\tconst centerY = rect.height / 2;\n\n\t\t\t\tconst delta = e.deltaY > 0 ? 0.9 : 1.1;\n\t\t\t\tconst newZoom = Math.max(0.3, Math.min(10, zoom * delta));\n\n\t\t\t\t// Adjust position to zoom towards mouse cursor\n\t\t\t\tconst mouseX = e.clientX - rect.left;\n\t\t\t\tconst mouseY = e.clientY - rect.top;\n\n\t\t\t\tconst deltaX = (mouseX - centerX) * (1 - delta);\n\t\t\t\tconst deltaY = (mouseY - centerY) * (1 - delta);\n\n\t\t\t\tsetZoom(newZoom);\n\t\t\t\tsetPosition((prev) => ({\n\t\t\t\t\tx: prev.x + deltaX,\n\t\t\t\t\ty: prev.y + deltaY,\n\t\t\t\t}));\n\t\t\t}\n\t\t},\n\t\t[zoom],\n\t);\n\n\treturn (\n\t\t<Paper\n\t\t\televation={2}\n\t\t\tsx={{\n\t\t\t\theight: 600,\n\t\t\t\twidth: \"100%\",\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tflexDirection: \"column\",\n\t\t\t\toverflow: \"hidden\",\n\t\t\t}}\n\t\t>\n\t\t\t<Toolbar\n\t\t\t\tvariant=\"dense\"\n\t\t\t\tsx={{\n\t\t\t\t\tbackgroundColor: \"background.paper\",\n\t\t\t\t\tborderBottom: 1,\n\t\t\t\t\tborderColor: \"divider\",\n\t\t\t\t\tminHeight: 48,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n\t\t\t\t\tMermaid Diagram\n\t\t\t\t</Typography>\n\n\t\t\t\t<Box sx={{ display: \"flex\", gap: 1 }}>\n\t\t\t\t\t<Tooltip title=\"Zoom In\">\n\t\t\t\t\t\t<IconButton onClick={handleZoomIn} size=\"small\">\n\t\t\t\t\t\t\t<ZoomIn />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t<Tooltip title=\"Zoom Out\">\n\t\t\t\t\t\t<IconButton onClick={handleZoomOut} size=\"small\">\n\t\t\t\t\t\t\t<ZoomOut />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t<Tooltip title=\"Reset View\">\n\t\t\t\t\t\t<IconButton onClick={handleResetView} size=\"small\">\n\t\t\t\t\t\t\t<CenterFocusStrong />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</Box>\n\t\t\t</Toolbar>\n\n\t\t\t<Box\n\t\t\t\tref={containerRef}\n\t\t\t\tsx={{\n\t\t\t\t\tflex: 1,\n\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\tcursor: isDragging ? \"grabbing\" : \"grab\",\n\t\t\t\t\tbackgroundColor: \"background.default\",\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tuserSelect: \"none\",\n\t\t\t\t}}\n\t\t\t\tonMouseDown={handleMouseDown}\n\t\t\t\tonMouseMove={handleMouseMove}\n\t\t\t\tonMouseUp={handleMouseUp}\n\t\t\t\tonMouseLeave={handleMouseUp}\n\t\t\t\tonWheel={handleWheel}\n\t\t\t>\n\t\t\t\t<Box\n\t\t\t\t\tref={mermaidRef}\n\t\t\t\t\tsx={{\n\t\t\t\t\t\ttransform: `translate(${position.x}px, ${position.y}px) scale(${zoom})`,\n\t\t\t\t\t\ttransformOrigin: \"center center\",\n\t\t\t\t\t\ttransition: isDragging ? \"none\" : \"transform 0.1s ease-out\",\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\"& svg\": {\n\t\t\t\t\t\t\tmaxWidth: \"none\",\n\t\t\t\t\t\t\tmaxHeight: \"none\",\n\t\t\t\t\t\t\tpointerEvents: \"none\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t/>\n\n\t\t\t\t{/* Zoom indicator */}\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\tbottom: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbackgroundColor: \"background.paper\",\n\t\t\t\t\t\tpx: 1,\n\t\t\t\t\t\tpy: 0.5,\n\t\t\t\t\t\tborderRadius: 1,\n\t\t\t\t\t\tfontSize: \"0.75rem\",\n\t\t\t\t\t\topacity: 0.8,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{Math.round(zoom * 100)}%\n\t\t\t\t</Box>\n\t\t\t</Box>\n\t\t</Paper>\n\t);\n};\n\nexport default MermaidDisplay;\n","import CustomCodeBlock from \"@global/CustomCodeBlock\";\nimport { CircularProgress } from \"@mui/material\";\nimport { graphviz } from \"d3-graphviz\";\nimport { Suspense, useCallback, useEffect, useRef } from \"react\";\nimport { ChromePicker } from \"react-color\";\nimport { collapseAllNested, JsonView } from \"react-json-view-lite\";\nimport { BNodeNavigatorDisplay } from \"./BNodeNavigatorDisplay\";\nimport { ChartDisplay } from \"./ChartDisplay\";\nimport { ClassAttributeFieldDisplay } from \"./ClassAttributeFieldDisplay\";\nimport MermaidDisplay from \"./MermaidDisplay\";\n\ninterface ContentDisplayProps {\n\tviewId: string;\n\tcontent: any;\n\tcontentType: string;\n\tbackgroundColor: string;\n\tjumpToNode: (nodeId: number | string) => void;\n\thexColor: string;\n\tonHexColorChange: (color: { hex: string }) => void;\n\tprettyName?: string;\n}\n\nexport const ContentDisplay = ({\n\tviewId,\n\tcontent,\n\tcontentType,\n\tbackgroundColor,\n\tjumpToNode,\n\thexColor,\n\tonHexColorChange,\n\tprettyName,\n}: ContentDisplayProps) => {\n\tconst graphvizRef = useRef<HTMLDivElement>(null);\n\n\tconst renderGraphviz = useCallback(() => {\n\t\tif (contentType === \"text/dot\" && graphvizRef.current) {\n\t\t\tgraphviz(graphvizRef.current, {\n\t\t\t\tengine: \"dot\",\n\t\t\t\tfit: true,\n\t\t\t\tzoom: true,\n\t\t\t}).renderDot(content);\n\t\t}\n\t}, [content, contentType]);\n\n\tuseEffect(() => {\n\t\trenderGraphviz();\n\t}, [renderGraphviz]);\n\n\tif (!content) {\n\t\treturn <div className=\"error-message\">No content available.</div>;\n\t}\n\n\tif (contentType === \"application/json\") {\n\t\tif (viewId === \"class_attribute_field\") {\n\t\t\treturn <ClassAttributeFieldDisplay content={content} />;\n\t\t} else if (\n\t\t\tviewId === \"char_example_xy\" ||\n\t\t\tviewId.endsWith(\"_distribution\") ||\n\t\t\tviewId.endsWith(\"nivo_view\")\n\t\t) {\n\t\t\treturn (\n\t\t\t\t// biome-ignore lint/a11y/noStaticElementInteractions: This is a controlled click handler\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"graph\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}}\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Suspense fallback={<CircularProgress />}>\n\t\t\t\t\t\t<ChartDisplay\n\t\t\t\t\t\t\tviewId={viewId}\n\t\t\t\t\t\t\tcontent={content}\n\t\t\t\t\t\t\tonNodeClick={jumpToNode}\n\t\t\t\t\t\t\tprettyName={prettyName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else if (viewId === \"bnode_navigator\") {\n\t\t\treturn (\n\t\t\t\t<BNodeNavigatorDisplay content={content} jumpToNode={jumpToNode} />\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"content-container\"\n\t\t\t\t\tstyle={{ background: backgroundColor }}\n\t\t\t\t>\n\t\t\t\t\t<Suspense fallback={<CircularProgress />}>\n\t\t\t\t\t\t<JsonView data={content} shouldExpandNode={collapseAllNested} />\n\t\t\t\t\t</Suspense>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t} else if (contentType === \"text/dot\") {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"content-container graphviz-container\"\n\t\t\t\tstyle={{ background: backgroundColor }}\n\t\t\t>\n\t\t\t\t<div ref={graphvizRef} />\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"text/mermaid\") {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"mermaid-container\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackground: backgroundColor,\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"600px\",\n\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\tborderRadius: \"4px\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<MermaidDisplay chart={content} />\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"text/html\") {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"content-container html-content\"\n\t\t\t\tstyle={{ background: backgroundColor }}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\t// biome-ignore lint/security/noDangerouslySetInnerHtml: This is safe as we control the content\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: content }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"image/svg\") {\n\t\treturn (\n\t\t\t<div className=\"content-container\" style={{ background: \"transparent\" }}>\n\t\t\t\t<div\n\t\t\t\t\t// biome-ignore lint/security/noDangerouslySetInnerHtml: t\n\t\t\t\t\tdangerouslySetInnerHTML={{ __html: content }}\n\t\t\t\t\tstyle={{ background: \"transparent\" }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"image/svg+xml\") {\n\t\treturn (\n\t\t\t<div className=\"content-container\" style={{ background: \"transparent\" }}>\n\t\t\t\t<img\n\t\t\t\t\tsrc={`data:image/svg+xml;base64,${content}`}\n\t\t\t\t\talt=\"Graphviz\"\n\t\t\t\t\tstyle={{ background: \"transparent\" }}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"image/png\" || contentType === \"image/jpeg\") {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"content-container\"\n\t\t\t\tstyle={{ background: backgroundColor }}\n\t\t\t>\n\t\t\t\t<img src={`data:${contentType};base64,${content}`} alt=\"Content\" />\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"image/jsondot\") {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"content-container\"\n\t\t\t\tstyle={{ background: backgroundColor }}\n\t\t\t>\n\t\t\t\t<Suspense fallback={<CircularProgress />}>\n\t\t\t\t\t<JsonView data={content} />\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"text/java\") {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"content-container\"\n\t\t\t\tstyle={{ background: backgroundColor }}\n\t\t\t>\n\t\t\t\t<Suspense fallback={<CircularProgress />}>\n\t\t\t\t\t<CustomCodeBlock language=\"java\" code={content} />\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"text/hex\") {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"content-container\"\n\t\t\t\tstyle={{ background: backgroundColor }}\n\t\t\t>\n\t\t\t\t<ChromePicker\n\t\t\t\t\tcolor={hexColor}\n\t\t\t\t\tdisableAlpha\n\t\t\t\t\tonChangeComplete={onHexColorChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t} else if (contentType === \"text/plain\") {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"content-container\"\n\t\t\t\tstyle={{ background: backgroundColor }}\n\t\t\t>\n\t\t\t\t<Suspense fallback={<CircularProgress />}>\n\t\t\t\t\t<CustomCodeBlock language=\"plaintext\" code={content} />\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t);\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"error-message\">\n\t\t\t\tUnsupported content type: {contentType}\n\t\t\t</div>\n\t\t);\n\t}\n};\n","import { Box, CircularProgress } from \"@mui/material\";\nimport { useMemo } from \"react\";\nimport { ContentDisplay } from \"./ContentDisplay\";\n\ninterface ViewContentProps {\n\tloading: boolean;\n\terror: Error | null;\n\trawApiData: any;\n\tdataContent: any;\n\tbackgroundColor: string;\n\tjumpToNode: (nodeId: number | string) => void;\n\thexColor: string;\n\tonHexColorChange: (color: { hex: string }) => void;\n\tviewId: string;\n}\n\nexport const ViewContent = ({\n\tloading,\n\terror,\n\trawApiData,\n\tdataContent,\n\tbackgroundColor,\n\tjumpToNode,\n\thexColor,\n\tonHexColorChange,\n\tviewId,\n}: ViewContentProps) => {\n\tconst resultData = useMemo(\n\t\t() => dataContent?.results?.[0]?.result?.data,\n\t\t[dataContent],\n\t);\n\tconst resultContentType = useMemo(\n\t\t() => dataContent?.results?.[0]?.result?.contentType?.split(\";\")?.[0],\n\t\t[dataContent],\n\t);\n\tconst prettyName = useMemo(\n\t\t() => dataContent?.results?.[0]?.pretty_name,\n\t\t[dataContent],\n\t);\n\n\tif (loading) {\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tclassName=\"view-container\"\n\t\t\t\tsx={{\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tpadding: 2,\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tminHeight: \"300px\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<CircularProgress />\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (error) {\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tclassName=\"view-container information-page\"\n\t\t\t\tsx={{ position: \"relative\", padding: 2 }}\n\t\t\t>\n\t\t\t\t<div className=\"error-message\" style={{ marginTop: \"40px\" }}>\n\t\t\t\t\tError fetching data: {error.message}\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (!rawApiData) {\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tclassName=\"view-container information-page\"\n\t\t\t\tsx={{ position: \"relative\", padding: 2 }}\n\t\t\t>\n\t\t\t\t<div className=\"error-message\" style={{ marginTop: \"40px\" }}>\n\t\t\t\t\tNo data available.\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (dataContent?.results?.[0]?.error !== undefined) {\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tclassName=\"view-container information-page\"\n\t\t\t\tsx={{ position: \"relative\", padding: 2 }}\n\t\t\t>\n\t\t\t\t<div className=\"error-message\" style={{ marginTop: \"40px\" }}>\n\t\t\t\t\tBackend Error: {dataContent.results[0].error}\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\tif (!resultData || !resultContentType) {\n\t\treturn (\n\t\t\t<Box\n\t\t\t\tclassName=\"view-container information-page\"\n\t\t\t\tsx={{ position: \"relative\", padding: 2 }}\n\t\t\t>\n\t\t\t\t<div className=\"error-message\" style={{ marginTop: \"40px\" }}>\n\t\t\t\t\tResult data or content type missing in the response.\n\t\t\t\t</div>\n\t\t\t</Box>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Box\n\t\t\tsx={{\n\t\t\t\tposition: \"relative\",\n\t\t\t\tpadding: 2,\n\t\t\t\tflex: 1,\n\t\t\t\tminHeight: \"300px\",\n\t\t\t\tdisplay: \"flex\",\n\t\t\t\tflexDirection: \"column\",\n\t\t\t\toverflow: \"hidden\",\n\t\t\t}}\n\t\t>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tmt: 4,\n\t\t\t\t\tflex: 1,\n\t\t\t\t\toverflow: \"auto\",\n\t\t\t\t\t\"&::-webkit-scrollbar\": {\n\t\t\t\t\t\twidth: \"8px\",\n\t\t\t\t\t\theight: \"8px\",\n\t\t\t\t\t},\n\t\t\t\t\t\"&::-webkit-scrollbar-track\": {\n\t\t\t\t\t\tbackground: \"#f1f1f1\",\n\t\t\t\t\t\tborderRadius: \"4px\",\n\t\t\t\t\t},\n\t\t\t\t\t\"&::-webkit-scrollbar-thumb\": {\n\t\t\t\t\t\tbackground: \"#888\",\n\t\t\t\t\t\tborderRadius: \"4px\",\n\t\t\t\t\t},\n\t\t\t\t\t\"&::-webkit-scrollbar-thumb:hover\": {\n\t\t\t\t\t\tbackground: \"#555\",\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ContentDisplay\n\t\t\t\t\tviewId={viewId}\n\t\t\t\t\tcontent={resultData}\n\t\t\t\t\tcontentType={resultContentType}\n\t\t\t\t\tbackgroundColor={backgroundColor}\n\t\t\t\t\tjumpToNode={jumpToNode}\n\t\t\t\t\thexColor={hexColor}\n\t\t\t\t\tonHexColorChange={onHexColorChange}\n\t\t\t\t\tprettyName={prettyName}\n\t\t\t\t/>\n\t\t\t</Box>\n\t\t</Box>\n\t);\n};\n","import ErrorBoundary from \"@components/ErrorBoundary\";\nimport {\n\tLoadingStates,\n\tuseLoadingState,\n} from \"@components/Loading/LoadingComponents\";\nimport {\n\tstartTransition,\n\tuseDeferredValue,\n\tuseOptimizedDebounce,\n\tuseOptimizedState,\n} from \"@hooks/react19\";\nimport { useApiData, useApiMutation } from \"@hooks/useApiData\";\nimport { Alert, Box, Button, Paper, Typography, useTheme } from \"@mui/material\";\nimport { useQueryClient } from \"@tanstack/react-query\";\nimport { memo, Suspense, useCallback, useEffect, useMemo } from \"react\";\nimport { ModalComponent } from \"../View/ModalComponent\";\nimport { ViewContent } from \"../View/ViewContent\";\n\ninterface ViewProps {\n\tviewId: string;\n\tsx?: any;\n}\n\nexport const View = memo(({ viewId, sx }: ViewProps) => {\n\tconst theme = useTheme();\n\tconst {\n\t\tdata: rawApiData,\n\t\tisLoading: loading,\n\t\terror,\n\t\trefetch,\n\t} = useApiData(\n\t\tviewId,\n\t\t{},\n\t\t{\n\t\t\tstaleTime: 30000,\n\t\t\tgcTime: 5 * 60 * 1000,\n\t\t\trefetchOnWindowFocus: false,\n\t\t\trefetchOnReconnect: true,\n\t\t\tretry: 3,\n\t\t\tretryDelay: (attemptIndex: number) =>\n\t\t\t\tMath.min(1000 * 2 ** attemptIndex, 30000),\n\t\t},\n\t);\n\n\tconst queryClient = useQueryClient();\n\tconst { isLoading: isMutating, withLoading } = useLoadingState();\n\n\tconst [isModalOpen, setIsModalOpen, isModalUpdating] = useOptimizedState(\n\t\tfalse,\n\t\t{\n\t\t\ttransitionUpdates: true,\n\t\t},\n\t);\n\n\tconst [hex, setHex, isColorUpdating] = useOptimizedState(\"#ffffff\", {\n\t\ttransitionUpdates: true,\n\t\tdebounceMs: 300,\n\t});\n\n\tconst [viewError, setViewError, isViewErrorUpdating] = useOptimizedState<\n\t\tstring | null\n\t>(null, {\n\t\ttransitionUpdates: true,\n\t});\n\n\tconst deferredViewId = useDeferredValue(viewId);\n\tconst deferredHex = useDeferredValue(hex);\n\tconst [debouncedColor] = useOptimizedDebounce(hex, 500);\n\n\tconst saveColour = useApiMutation(\"update_colour\", {\n\t\tonSuccess: () => {\n\t\t\tstartTransition(() => {\n\t\t\t\tqueryClient.setQueryData([\"apiData\", viewId], (oldData: unknown) => {\n\t\t\t\t\tif (!oldData) return oldData;\n\t\t\t\t\tconst typedData = oldData as any;\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...typedData,\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t...typedData.data,\n\t\t\t\t\t\t\tresults: typedData.data.results?.map((result: any) => ({\n\t\t\t\t\t\t\t\t...result,\n\t\t\t\t\t\t\t\tcolor: debouncedColor,\n\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsetViewError(null);\n\t\t\t});\n\t\t},\n\t\tonError: (error: unknown) => {\n\t\t\tconsole.error(\"Failed to save color:\", error);\n\t\t\tstartTransition(() => {\n\t\t\t\tsetViewError(\"Failed to save color changes\");\n\t\t\t\tsetHex(\"#ffffff\");\n\t\t\t});\n\t\t},\n\t});\n\n\tconst jumpMutation = useApiMutation(\"jump\", {\n\t\tonSuccess: async () => {\n\t\t\tstartTransition(() => {\n\t\t\t\tqueryClient.invalidateQueries({ queryKey: [\"apiData\"] });\n\t\t\t\tsetViewError(null);\n\t\t\t});\n\t\t},\n\t\tonError: (error: unknown) => {\n\t\t\tconsole.error(\"Failed to jump to node:\", error);\n\t\t\tstartTransition(() => {\n\t\t\t\tsetViewError(\"Failed to navigate to node\");\n\t\t\t});\n\t\t},\n\t});\n\n\t// Optimized color change handler with debouncing\n\tconst handleHexChange = useCallback(\n\t\t(colour: { hex: string }) => {\n\t\t\tsetHex(colour.hex);\n\t\t},\n\t\t[setHex],\n\t);\n\n\t// Effect to handle debounced color saves\n\tuseEffect(() => {\n\t\tif (debouncedColor !== \"#ffffff\" && debouncedColor !== hex) {\n\t\t\twithLoading(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait saveColour.mutateAsync({\n\t\t\t\t\t\tview_id: deferredViewId,\n\t\t\t\t\t\tvalue: debouncedColor,\n\t\t\t\t\t});\n\t\t\t\t} catch (error: unknown) {\n\t\t\t\t\tconsole.error(\"Color update failed:\", error);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [debouncedColor, deferredViewId, saveColour, withLoading, hex]);\n\n\t// Optimized jump to node handler\n\tconst jumpToNode = useCallback(\n\t\t(nodeId: number | string) => {\n\t\t\twithLoading(async () => {\n\t\t\t\ttry {\n\t\t\t\t\tawait jumpMutation.mutateAsync({ node_id: nodeId });\n\t\t\t\t} catch (error: unknown) {\n\t\t\t\t\tconsole.error(\"Jump to node failed:\", error);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t[jumpMutation, withLoading],\n\t);\n\n\t// Memoized modal handlers\n\tconst handleModalChange = useCallback(\n\t\t(opened: boolean) => {\n\t\t\tstartTransition(() => {\n\t\t\t\tsetIsModalOpen(opened);\n\t\t\t});\n\t\t},\n\t\t[setIsModalOpen],\n\t);\n\n\t// Retry handler for failed requests\n\tconst handleRetry = useCallback(() => {\n\t\twithLoading(async () => {\n\t\t\ttry {\n\t\t\t\tawait refetch();\n\t\t\t\tsetViewError(null);\n\t\t\t} catch (error: unknown) {\n\t\t\t\tconsole.error(\"Retry failed:\", error);\n\t\t\t\tsetViewError(\"Retry failed. Please try again.\");\n\t\t\t}\n\t\t});\n\t}, [refetch, withLoading, setViewError]);\n\n\t// Memoized data extraction with error handling\n\tconst { dataContent, exportData, backgroundColor } = useMemo(() => {\n\t\ttry {\n\t\t\tconst dataContent = rawApiData?.data;\n\t\t\tconst exportData = rawApiData?.data?.results?.[0]?.result?.data;\n\t\t\tconst backgroundColor = sx?.bgcolor || \"transparent\";\n\n\t\t\treturn {\n\t\t\t\tdataContent,\n\t\t\t\texportData,\n\t\t\t\tbackgroundColor,\n\t\t\t};\n\t\t} catch (error: unknown) {\n\t\t\tconsole.error(\"Error processing view data:\", error);\n\t\t\tsetViewError(\"Error processing view data\");\n\t\t\treturn {\n\t\t\t\tdataContent: undefined,\n\t\t\t\texportData: undefined,\n\t\t\t\tbackgroundColor: sx?.bgcolor || \"transparent\",\n\t\t\t};\n\t\t}\n\t}, [rawApiData, sx?.bgcolor, setViewError]);\n\n\t// Enhanced error boundary for view-specific errors\n\tconst ViewErrorFallback = useCallback(\n\t\t({\n\t\t\terror: errorObj,\n\t\t\tresetError,\n\t\t}: {\n\t\t\terror: Error;\n\t\t\tresetError: () => void;\n\t\t}) => (\n\t\t\t<Paper\n\t\t\t\televation={1}\n\t\t\t\tsx={{\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\tminHeight: 200,\n\t\t\t\t\tp: 3,\n\t\t\t\t\tborder: `1px solid ${theme.palette.divider}`,\n\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\tbgcolor: \"background.paper\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box sx={{ textAlign: \"center\", mb: 2 }}>\n\t\t\t\t\t<Typography variant=\"h2\" sx={{ fontSize: \"2rem\", mb: 1 }}>\n\t\t\t\t\t\t⚠️\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n\t\t\t\t\t\tÉchec du chargement de la vue: {viewId}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{process.env.NODE_ENV === \"development\" && (\n\t\t\t\t\t\t<Typography variant=\"caption\" color=\"text.disabled\" display=\"block\">\n\t\t\t\t\t\t\t{errorObj.message}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t)}\n\t\t\t\t\t{viewError && (\n\t\t\t\t\t\t<Alert severity=\"error\" sx={{ mt: 1, fontSize: \"0.75rem\" }}>\n\t\t\t\t\t\t\t{viewError}\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t)}\n\t\t\t\t</Box>\n\t\t\t\t<Box sx={{ display: \"flex\", gap: 1 }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tresetError();\n\t\t\t\t\t\t\tsetViewError(null);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t>\n\t\t\t\t\t\tRéessayer\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"contained\" onClick={handleRetry} size=\"small\">\n\t\t\t\t\t\tRecharger les données\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\t\t\t</Paper>\n\t\t),\n\t\t[viewId, viewError, handleRetry, setViewError, theme.palette.divider],\n\t);\n\n\tconst isPendingAny =\n\t\tisMutating || isModalUpdating || isColorUpdating || isViewErrorUpdating;\n\n\treturn (\n\t\t<ErrorBoundary\n\t\t\tfallback={\n\t\t\t\t<ViewErrorFallback\n\t\t\t\t\terror={new Error(\"View render error\")}\n\t\t\t\t\tresetError={() => window.location.reload()}\n\t\t\t\t/>\n\t\t\t}\n\t\t\tonError={(error, errorInfo) => {\n\t\t\t\tconsole.error(`View ${viewId} error:`, error, errorInfo);\n\t\t\t\tsetViewError(`Erreur de rendu: ${error.message}`);\n\t\t\t}}\n\t\t\tresetKeys={[viewId]}\n\t\t>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t\tminHeight: 300,\n\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\topacity: isPendingAny ? 0.8 : 1,\n\t\t\t\t\ttransition: \"opacity 0.2s ease-in-out\",\n\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t...sx,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{/* Error display */}\n\t\t\t\t{viewError && (\n\t\t\t\t\t<Alert\n\t\t\t\t\t\tseverity=\"error\"\n\t\t\t\t\t\tonClose={() => setViewError(null)}\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: 8,\n\t\t\t\t\t\t\tleft: \"50%\",\n\t\t\t\t\t\t\ttransform: \"translateX(-50%)\",\n\t\t\t\t\t\t\tzIndex: 1000,\n\t\t\t\t\t\t\tfontSize: \"0.75rem\",\n\t\t\t\t\t\t\tmaxWidth: \"90%\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{viewError}\n\t\t\t\t\t</Alert>\n\t\t\t\t)}\n\n\t\t\t\t{/* Modal with Suspense boundary */}\n\t\t\t\t<ErrorBoundary\n\t\t\t\t\tfallback={\n\t\t\t\t\t\t<Alert severity=\"warning\" sx={{ m: 1 }}>\n\t\t\t\t\t\t\tErreur lors du chargement du modal\n\t\t\t\t\t\t</Alert>\n\t\t\t\t\t}\n\t\t\t\t\tonError={(error) => {\n\t\t\t\t\t\tconsole.error(\"Modal error:\", error);\n\t\t\t\t\t\tsetViewError(\"Le modal n'a pas pu être chargé\");\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Suspense fallback={null}>\n\t\t\t\t\t\t<ModalComponent\n\t\t\t\t\t\t\tdataForModal={exportData}\n\t\t\t\t\t\t\tisModalOpen={isModalOpen}\n\t\t\t\t\t\t\tsetIsModalOpen={handleModalChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Suspense>\n\t\t\t\t</ErrorBoundary>\n\n\t\t\t\t{/* Main content with error boundary and loading states */}\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\toverflow: \"auto\",\n\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\tscrollbarWidth: \"thin\",\n\t\t\t\t\t\tscrollbarColor: `${theme.palette.primary.main} ${theme.palette.grey[200]}`,\n\t\t\t\t\t\t\"&::-webkit-scrollbar\": { width: \"8px\", height: \"8px\" },\n\t\t\t\t\t\t\"&::-webkit-scrollbar-track\": {\n\t\t\t\t\t\t\tbgcolor: \"grey.100\",\n\t\t\t\t\t\t\tborderRadius: 1,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"&::-webkit-scrollbar-thumb\": {\n\t\t\t\t\t\t\tbgcolor: \"primary.main\",\n\t\t\t\t\t\t\tborderRadius: 1,\n\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\tbgcolor: \"primary.dark\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<ErrorBoundary\n\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t<ViewErrorFallback\n\t\t\t\t\t\t\t\terror={new Error(\"View content error\")}\n\t\t\t\t\t\t\t\tresetError={handleRetry}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonError={(error, errorInfo) => {\n\t\t\t\t\t\t\tconsole.error(\"View content error:\", error, errorInfo);\n\t\t\t\t\t\t\tsetViewError(`Erreur de contenu: ${error.message}`);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Suspense\n\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\t\tminHeight: 200,\n\t\t\t\t\t\t\t\t\t\tp: 2,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<LoadingStates.Component\n\t\t\t\t\t\t\t\t\t\tmessage={`Chargement de ${deferredViewId}...`}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ViewContent\n\t\t\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\trawApiData={rawApiData}\n\t\t\t\t\t\t\t\tdataContent={dataContent}\n\t\t\t\t\t\t\t\tbackgroundColor={backgroundColor}\n\t\t\t\t\t\t\t\tjumpToNode={jumpToNode}\n\t\t\t\t\t\t\t\thexColor={deferredHex}\n\t\t\t\t\t\t\t\tonHexColorChange={handleHexChange}\n\t\t\t\t\t\t\t\tviewId={deferredViewId}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t</Box>\n\n\t\t\t\t{/* Loading indicator for mutations */}\n\t\t\t\t{isPendingAny && (\n\t\t\t\t\t<Box\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\ttop: 8,\n\t\t\t\t\t\t\tright: 8,\n\t\t\t\t\t\t\tzIndex: 10,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\taria-live=\"polite\"\n\t\t\t\t\t\taria-label=\"Opération en cours\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<LoadingStates.Inline text=\"\" />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\t\t\t</Box>\n\t\t</ErrorBoundary>\n\t);\n});\n\nView.displayName = \"View\";\nexport default View;\n","import { View } from \"@common/View\";\nimport ErrorBoundary from \"@components/ErrorBoundary\";\nimport {\n\tLoadingStates,\n\tuseLoadingState,\n} from \"@components/Loading/LoadingComponents\";\nimport { useTitle } from \"@global/useTitle\";\nimport { useOptimizedDebounce, useOptimizedState } from \"@hooks/react19\";\nimport { useApiData, useApiMutation } from \"@hooks/useApiData\";\nimport {\n\tAdd as AddIcon,\n\tClose as CloseIcon,\n\tAspectRatio as ExpandIcon,\n\tRemove as RemoveIcon,\n\tViewModule as ViewModuleIcon,\n} from \"@mui/icons-material\";\nimport {\n\tAlert,\n\tBox,\n\tButton,\n\tButtonGroup,\n\tCard,\n\tCardContent,\n\tCardHeader,\n\tCheckbox,\n\tCircularProgress,\n\tDialog,\n\tDialogContent,\n\tDialogTitle,\n\tDivider,\n\tFormControlLabel,\n\tIconButton,\n\tListItemText,\n\tMenu,\n\tMenuItem,\n\tPaper,\n\tSkeleton,\n\tStack,\n\tSwitch,\n\tTooltip,\n\tTypography,\n\tuseTheme,\n} from \"@mui/material\";\nimport React, {\n\ttype MouseEventHandler,\n\tmemo,\n\tSuspense,\n\tstartTransition,\n\tuseCallback,\n\tuseDeferredValue,\n\tuseMemo,\n\tuseState,\n\tuseTransition,\n} from \"react\";\nimport { useNavigate } from \"react-router\";\n\n// Memoized ViewCard component with enhanced accessibility\nconst ViewCard = memo(\n\t({\n\t\tview,\n\t\tonExpand,\n\t\thandleViewToggle,\n\t}: {\n\t\tview: any;\n\t\tonExpand: (view: any) => void;\n\t\thandleViewToggle: (endpoint: string) => void;\n\t}) => {\n\t\tconst theme = useTheme();\n\t\tconst handleToggle = useCallback(\n\t\t\t(e: React.MouseEvent) => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\thandleViewToggle(view.name);\n\t\t\t},\n\t\t\t[handleViewToggle, view.name],\n\t\t);\n\n\t\tconst handleExpand = useCallback(\n\t\t\t(e: React.MouseEvent) => {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tonExpand(view);\n\t\t\t},\n\t\t\t[onExpand, view],\n\t\t);\n\n\t\tconst isTechnical = view.type === \"technical\";\n\n\t\treturn (\n\t\t\t<ErrorBoundary\n\t\t\t\tfallback={\n\t\t\t\t\t<Card\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\taspectRatio: \"1\",\n\t\t\t\t\t\t\tborder: `1px solid ${theme.palette.error.main}`,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\tbgcolor: \"error.light\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\trole=\"alert\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography color=\"error\" variant=\"body2\">\n\t\t\t\t\t\t\tErreur de chargement de la vue\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Card>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Card\n\t\t\t\t\tsx={{\n\t\t\t\t\t\taspectRatio: \"1\",\n\t\t\t\t\t\tborder: `1px solid ${theme.palette.divider}`,\n\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\tbgcolor: isTechnical ? \"warning.light\" : \"background.paper\",\n\t\t\t\t\t\ttransition:\n\t\t\t\t\t\t\t\"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out\",\n\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\ttransform: \"translateY(-2px)\",\n\t\t\t\t\t\t\tboxShadow: theme.shadows[4],\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"&:focus-within\": {\n\t\t\t\t\t\t\toutline: `2px solid ${theme.palette.primary.main}`,\n\t\t\t\t\t\t\toutlineOffset: \"2px\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\taria-label={`Vue ${view.pretty_name}: ${view.description}`}\n\t\t\t\t>\n\t\t\t\t\t<CardHeader\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\theight: 60,\n\t\t\t\t\t\t\tbgcolor: isTechnical ? \"warning.main\" : \"grey.100\",\n\t\t\t\t\t\t\tborderBottom: `1px solid ${theme.palette.divider}`,\n\t\t\t\t\t\t\tp: 1,\n\t\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\t\t\"& .MuiCardHeader-content\": {\n\t\t\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tcolor: isTechnical\n\t\t\t\t\t\t\t\t\t\t? \"warning.contrastText\"\n\t\t\t\t\t\t\t\t\t\t: \"text.secondary\",\n\t\t\t\t\t\t\t\t\tfontWeight: 500,\n\t\t\t\t\t\t\t\t\tdisplay: \"-webkit-box\",\n\t\t\t\t\t\t\t\t\tWebkitLineClamp: 2,\n\t\t\t\t\t\t\t\t\tWebkitBoxOrient: \"vertical\",\n\t\t\t\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\t\t\t\ttextOverflow: \"ellipsis\",\n\t\t\t\t\t\t\t\t\tlineHeight: 1.2,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{view.pretty_name}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tvariant=\"caption\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\tcolor: isTechnical ? \"warning.contrastText\" : \"text.disabled\",\n\t\t\t\t\t\t\t\t\tfontSize: \"0.7rem\",\n\t\t\t\t\t\t\t\t\tdisplay: \"-webkit-box\",\n\t\t\t\t\t\t\t\t\tWebkitLineClamp: 1,\n\t\t\t\t\t\t\t\t\tWebkitBoxOrient: \"vertical\",\n\t\t\t\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\t\t\t\ttextOverflow: \"ellipsis\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{view.description}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t}\n\t\t\t\t\t\taction={\n\t\t\t\t\t\t\t<Stack direction=\"row\" spacing={0.5}>\n\t\t\t\t\t\t\t\t<Tooltip title=\"Agrandir la vue\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={handleExpand}\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\taria-label={`Agrandir la vue ${view.pretty_name}`}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: isTechnical\n\t\t\t\t\t\t\t\t\t\t\t\t? \"warning.contrastText\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"action.active\",\n\t\t\t\t\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\t\t\t\t\tbgcolor: \"action.hover\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"&:focus\": {\n\t\t\t\t\t\t\t\t\t\t\t\toutline: `2px solid ${theme.palette.primary.main}`,\n\t\t\t\t\t\t\t\t\t\t\t\toutlineOffset: \"1px\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ExpandIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t\t<Tooltip title=\"Fermer la vue\">\n\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\tonClick={handleToggle}\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\taria-label={`Fermer la vue ${view.pretty_name}`}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tcolor: isTechnical\n\t\t\t\t\t\t\t\t\t\t\t\t? \"warning.contrastText\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"action.active\",\n\t\t\t\t\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\t\t\t\t\tbgcolor: \"action.hover\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\"&:focus\": {\n\t\t\t\t\t\t\t\t\t\t\t\toutline: `2px solid ${theme.palette.primary.main}`,\n\t\t\t\t\t\t\t\t\t\t\t\toutlineOffset: \"1px\",\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CloseIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<CardContent\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tp: { xs: 1.5, sm: 2 },\n\t\t\t\t\t\t\theight: \"calc(100% - 60px)\",\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\t\tbgcolor: isTechnical ? \"warning.light\" : \"background.paper\",\n\t\t\t\t\t\t\t\"&:last-child\": { pb: { xs: 1.5, sm: 2 } },\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\toverflow: \"auto\",\n\t\t\t\t\t\t\t\tcolor: \"text.primary\",\n\t\t\t\t\t\t\t\tscrollbarWidth: \"thin\",\n\t\t\t\t\t\t\t\tscrollbarColor: `${theme.palette.primary.main} ${theme.palette.grey[200]}`,\n\t\t\t\t\t\t\t\t\"&::-webkit-scrollbar\": { width: \"6px\" },\n\t\t\t\t\t\t\t\t\"&::-webkit-scrollbar-thumb\": {\n\t\t\t\t\t\t\t\t\tbgcolor: \"primary.main\",\n\t\t\t\t\t\t\t\t\tborderRadius: \"3px\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\"&::-webkit-scrollbar-track\": {\n\t\t\t\t\t\t\t\t\tbgcolor: \"grey.200\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\twordBreak: \"break-word\",\n\t\t\t\t\t\t\t\toverflowWrap: \"break-word\",\n\t\t\t\t\t\t\t\twhiteSpace: \"pre-wrap\",\n\t\t\t\t\t\t\t\tmaxWidth: \"100%\",\n\t\t\t\t\t\t\t\tfontSize: { xs: \"0.75rem\", sm: \"0.875rem\" },\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-label={`Contenu de la vue ${view.pretty_name}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{view.error ? (\n\t\t\t\t\t\t\t\t<Alert severity=\"error\" variant=\"outlined\" sx={{ mt: 1 }}>\n\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">{view.error}</Typography>\n\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<ErrorBoundary\n\t\t\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t\t\t<Alert severity=\"error\" variant=\"outlined\" sx={{ mt: 1 }}>\n\t\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body2\">\n\t\t\t\t\t\t\t\t\t\t\t\tErreur de chargement de la vue\n\t\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t</Alert>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Suspense\n\t\t\t\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t\t\t\t<Stack spacing={1} sx={{ mt: 1 }}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" width=\"80%\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"text\" width=\"60%\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<Skeleton variant=\"rectangular\" height={60} />\n\t\t\t\t\t\t\t\t\t\t\t</Stack>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\t\t\tviewId={view.name.replaceAll(\" \", \"_\")}\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tbgcolor: isTechnical\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"warning.light\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"background.paper\",\n\t\t\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</ErrorBoundary>\n\t\t);\n\t},\n);\n\nconst ViewGrid = memo(\n\t({\n\t\tviews,\n\t\tselectedViews,\n\t\tcolumns,\n\t\tonViewToggle,\n\t\tonViewExpand,\n\t}: {\n\t\tviews: any[];\n\t\tselectedViews: string[];\n\t\tcolumns: number;\n\t\tonViewToggle: (endpoint: string) => void;\n\t\tonViewExpand: (view: any) => void;\n\t}) => {\n\t\t// Use regular filtered views\n\t\tconst visibleViews = views.filter((view) =>\n\t\t\tselectedViews.includes(view.name),\n\t\t);\n\t\tconst deferredVisibleViews = useDeferredValue(visibleViews);\n\t\tconst rowColumns = Math.min(columns, deferredVisibleViews.length);\n\n\t\treturn (\n\t\t\t<ErrorBoundary\n\t\t\t\tfallback={\n\t\t\t\t\t<Box sx={{ textAlign: \"center\", p: 3, color: \"error.main\" }}>\n\t\t\t\t\t\t<Typography>Error loading view grid</Typography>\n\t\t\t\t\t</Box>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: \"grid\",\n\t\t\t\t\t\tgridTemplateColumns: {\n\t\t\t\t\t\t\txs: \"1fr\",\n\t\t\t\t\t\t\tsm: `repeat(${Math.min(columns, 2)}, 1fr)`,\n\t\t\t\t\t\t\tmd: `repeat(${rowColumns}, 1fr)`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgap: { xs: 2, sm: 4 },\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\ttransition: \"opacity 0.2s ease-in-out\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{deferredVisibleViews.map((view) => (\n\t\t\t\t\t\t<ViewCard\n\t\t\t\t\t\t\tkey={view.name}\n\t\t\t\t\t\t\tview={view}\n\t\t\t\t\t\t\tonExpand={onViewExpand}\n\t\t\t\t\t\t\thandleViewToggle={onViewToggle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</Box>\n\t\t\t</ErrorBoundary>\n\t\t);\n\t},\n);\n\nconst HomePage = memo(() => {\n\tconst theme = useTheme();\n\tconst navigate = useNavigate();\n\tconst { data, isLoading, error } = useApiData(\n\t\t\"endpoints?only_applicable&type=byransha.web.View\",\n\t\t{},\n\t\t{\n\t\t\tstaleTime: 30000,\n\t\t\tgcTime: 5 * 60 * 1000,\n\t\t\trefetchOnWindowFocus: false,\n\t\t\trefetchOnReconnect: true,\n\t\t},\n\t);\n\tconst { isLoading: isTransitioning, withLoading } = useLoadingState();\n\n\t// State for expanded view modal with optimization for faster loading\n\tconst [expandedView, setExpandedView] = useOptimizedState<any>(null, {\n\t\ttransitionUpdates: true,\n\t});\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\n\n\tuseTitle(\"Accueil\");\n\n\t// Column management with auto mode toggle\n\tconst [columns, setColumns, isColumnsUpdating] = useOptimizedState(2, {\n\t\ttransitionUpdates: true,\n\t\tdeferUpdates: false,\n\t});\n\n\tconst [autoColumns, setAutoColumns] = useState<boolean>(() =>\n\t\tJSON.parse(localStorage.getItem(\"autoColumns\") || \"true\"),\n\t);\n\n\tconst [selectMenuAnchor, setSelectMenuAnchor, isMenuUpdating] =\n\t\tuseOptimizedState<HTMLButtonElement | null>(null, {\n\t\t\ttransitionUpdates: true,\n\t\t});\n\n\tconst [selectedViews, setSelectedViews] = useState<string[]>([]);\n\n\tconst [showTechnicalViews, setShowTechnicalViews] = useState<boolean>(() =>\n\t\tJSON.parse(localStorage.getItem(\"showTechnicalViews\") || \"false\"),\n\t);\n\n\t// Debounced search functionality (even though not visible in UI, prepared for future)\n\tconst [searchQuery] = useOptimizedState(\"\", {\n\t\ttransitionUpdates: true,\n\t\tdebounceMs: 300,\n\t});\n\tconst [debouncedSearchQuery] = useOptimizedDebounce(searchQuery, 300);\n\n\tconst jumpToId = useApiMutation(\"jump\");\n\n\t// Optimized list management for views\n\tconst [views, setViews] = useState<any[]>([]);\n\tconst [isPending] = useTransition();\n\n\t// Memoized function to calculate auto column count\n\tconst getAutoColumnCount = useCallback(() => {\n\t\tconst width = window.innerWidth;\n\t\tif (width < 900) return 1;\n\t\telse if (width < 1600) return 2;\n\t\telse if (width < 2100) return 3;\n\t\treturn 4;\n\t}, []);\n\n\t// Deferred values for better performance during rapid changes\n\tconst deferredViews = useDeferredValue(views);\n\tconst deferredSelectedViews = useDeferredValue(selectedViews);\n\n\t// Memoized filtered views with search functionality\n\tconst filteredViews = useMemo(() => {\n\t\tlet filtered = showTechnicalViews\n\t\t\t? deferredViews\n\t\t\t: deferredViews.filter((view: any) => view.type !== \"technical\");\n\n\t\t// Apply search filter if query exists\n\t\tif (debouncedSearchQuery.trim()) {\n\t\t\tfiltered = filtered.filter(\n\t\t\t\t(view: any) =>\n\t\t\t\t\tview.pretty_name\n\t\t\t\t\t\t?.toLowerCase()\n\t\t\t\t\t\t.includes(debouncedSearchQuery.toLowerCase()) ||\n\t\t\t\t\tview.description\n\t\t\t\t\t\t?.toLowerCase()\n\t\t\t\t\t\t.includes(debouncedSearchQuery.toLowerCase()),\n\t\t\t);\n\t\t}\n\n\t\treturn filtered;\n\t}, [deferredViews, showTechnicalViews, debouncedSearchQuery]);\n\n\t// Effect for handling data changes with startTransition\n\tReact.useEffect(() => {\n\t\tif (data?.data?.results?.[0]?.result?.data) {\n\t\t\tstartTransition(() => {\n\t\t\t\tconst apiViews = data.data.results[0].result.data;\n\t\t\t\tconst filteredApiViews = showTechnicalViews\n\t\t\t\t\t? apiViews\n\t\t\t\t\t: apiViews.filter((view: any) => view.type !== \"technical\");\n\n\t\t\t\t// Handle view ordering first\n\t\t\t\tconst savedOrder =\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"viewOrder\") as string) || [];\n\t\t\t\tlet finalViews = filteredApiViews;\n\t\t\t\tif (savedOrder.length > 0) {\n\t\t\t\t\tfinalViews = [...filteredApiViews].sort((a, b) => {\n\t\t\t\t\t\tconst indexA = savedOrder.indexOf(a.endpoint);\n\t\t\t\t\t\tconst indexB = savedOrder.indexOf(b.endpoint);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t(indexA === -1 ? Infinity : indexA) -\n\t\t\t\t\t\t\t(indexB === -1 ? Infinity : indexB)\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Set views only once\n\t\t\t\tsetViews(finalViews);\n\n\t\t\t\t// Handle selected views with preserved state\n\t\t\t\tconst saved = JSON.parse(\n\t\t\t\t\tlocalStorage.getItem(\"selectedViewsSaved\") as string,\n\t\t\t\t);\n\t\t\t\tlet newSelected: any;\n\t\t\t\tif (!saved || saved.length === 0) {\n\t\t\t\t\tnewSelected = filteredApiViews.map((view: any) => view.name);\n\t\t\t\t} else {\n\t\t\t\t\tnewSelected = saved.filter((endpoint: any) =>\n\t\t\t\t\t\tfilteredApiViews.some((view: any) => view.name === endpoint),\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tlocalStorage.setItem(\"selectedViewsSaved\", JSON.stringify(newSelected));\n\t\t\t\tsetSelectedViews(newSelected);\n\t\t\t});\n\t\t}\n\t}, [data, showTechnicalViews]);\n\n\t// Effect for handling window resize with auto columns\n\tReact.useEffect(() => {\n\t\tconst handleResize = () => {\n\t\t\tif (autoColumns) {\n\t\t\t\tstartTransition(() => {\n\t\t\t\t\tsetColumns(getAutoColumnCount());\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tif (autoColumns) {\n\t\t\twindow.addEventListener(\"resize\", handleResize);\n\t\t\thandleResize();\n\t\t}\n\n\t\treturn () => window.removeEventListener(\"resize\", handleResize);\n\t}, [getAutoColumnCount, setColumns, autoColumns]);\n\n\t// Optimized handlers using React 19 features\n\tconst handleSelectMenuOpen = useCallback<\n\t\tMouseEventHandler<HTMLButtonElement>\n\t>(\n\t\t(event) => {\n\t\t\tsetSelectMenuAnchor(event.currentTarget);\n\t\t},\n\t\t[setSelectMenuAnchor],\n\t);\n\n\tconst handleSelectMenuClose = useCallback<\n\t\tMouseEventHandler<HTMLButtonElement>\n\t>(() => {\n\t\tsetSelectMenuAnchor(null);\n\t}, [setSelectMenuAnchor]);\n\n\tconst handleViewToggle = useCallback(\n\t\t(endpoint: string) => {\n\t\t\tstartTransition(() => {\n\t\t\t\tsetSelectedViews((prev) => {\n\t\t\t\t\tconst newSelected = prev.includes(endpoint)\n\t\t\t\t\t\t? prev.filter((id) => id !== endpoint)\n\t\t\t\t\t\t: [...prev, endpoint];\n\n\t\t\t\t\tlocalStorage.setItem(\n\t\t\t\t\t\t\"selectedViewsSaved\",\n\t\t\t\t\t\tJSON.stringify(newSelected),\n\t\t\t\t\t);\n\n\t\t\t\t\tconst technicalViews = views.filter(\n\t\t\t\t\t\t(view) => view.type === \"technical\",\n\t\t\t\t\t);\n\t\t\t\t\tconst openTechnicalViews = technicalViews.filter((view) =>\n\t\t\t\t\t\tnewSelected.includes(view.name),\n\t\t\t\t\t);\n\t\t\t\t\tif (openTechnicalViews.length === 0 && showTechnicalViews) {\n\t\t\t\t\t\tsetShowTechnicalViews(false);\n\t\t\t\t\t\tlocalStorage.setItem(\"showTechnicalViews\", JSON.stringify(false));\n\t\t\t\t\t}\n\t\t\t\t\treturn newSelected;\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t[views, showTechnicalViews],\n\t);\n\n\tconst handleTechnicalViewsToggle = useCallback(() => {\n\t\tstartTransition(() => {\n\t\t\tsetShowTechnicalViews((prev) => {\n\t\t\t\tconst newValue = !prev;\n\t\t\t\tlocalStorage.setItem(\"showTechnicalViews\", JSON.stringify(newValue));\n\n\t\t\t\tconst techViews =\n\t\t\t\t\tdata?.data?.results?.[0]?.result?.data?.filter(\n\t\t\t\t\t\t(view: any) => view.type === \"technical\",\n\t\t\t\t\t) || [];\n\t\t\t\tconst techEndpoints = techViews.map((view: any) => view.name);\n\n\t\t\t\tsetSelectedViews((prevSelected) => {\n\t\t\t\t\tlet updated: any;\n\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\tupdated = [...new Set([...prevSelected, ...techEndpoints])];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tupdated = prevSelected.filter(\n\t\t\t\t\t\t\t(endpoint) => !techEndpoints.includes(endpoint),\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\tlocalStorage.setItem(\"selectedViewsSaved\", JSON.stringify(updated));\n\t\t\t\t\treturn updated;\n\t\t\t\t});\n\n\t\t\t\treturn newValue;\n\t\t\t});\n\t\t});\n\t}, [data]);\n\n\tconst handleAutoColumnsToggle = useCallback(() => {\n\t\tconst newAutoValue = !autoColumns;\n\t\tsetAutoColumns(newAutoValue);\n\t\tlocalStorage.setItem(\"autoColumns\", JSON.stringify(newAutoValue));\n\n\t\tif (newAutoValue) {\n\t\t\t// Apply auto sizing immediately when enabling\n\t\t\tstartTransition(() => {\n\t\t\t\tsetColumns(getAutoColumnCount());\n\t\t\t});\n\t\t}\n\t}, [autoColumns, getAutoColumnCount, setColumns]);\n\n\tconst handleViewExpand = useCallback(\n\t\t(view: any) => {\n\t\t\twithLoading(async () => {\n\t\t\t\tif (view.name.endsWith(\"class_attribute_field\")) {\n\t\t\t\t\tawait jumpToId.mutateAsync({\n\t\t\t\t\t\tnode: data?.data?.node_id,\n\t\t\t\t\t});\n\t\t\t\t\tnavigate(`/add-node/form/${data?.data?.node_id}`);\n\t\t\t\t} else {\n\t\t\t\t\t// Pre-open modal immediately for better UX\n\t\t\t\t\tsetIsModalOpen(true);\n\t\t\t\t\t// Then set the view data\n\t\t\t\t\tsetExpandedView(view);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t[setExpandedView, withLoading, jumpToId, data, navigate],\n\t);\n\n\tconst handleCloseExpandedView = useCallback(() => {\n\t\tsetIsModalOpen(false);\n\t\t// Delay clearing the view to allow modal close animation\n\t\tsetTimeout(() => setExpandedView(null), 200);\n\t}, [setExpandedView]);\n\n\tconst incrementColumns = useCallback(() => {\n\t\tstartTransition(() => {\n\t\t\tsetColumns((prev) => Math.min(prev + 1, filteredViews.length));\n\t\t});\n\t}, [filteredViews.length, setColumns]);\n\n\tconst decrementColumns = useCallback(() => {\n\t\tstartTransition(() => {\n\t\t\tsetColumns((prev) => Math.max(prev - 1, 1));\n\t\t});\n\t}, [setColumns]);\n\n\t// Loading state with React 19 optimizations\n\tif (isLoading) {\n\t\treturn (\n\t\t\t<ErrorBoundary>\n\t\t\t\t<LoadingStates.Page />\n\t\t\t</ErrorBoundary>\n\t\t);\n\t}\n\n\t// Error state with recovery\n\tif (error || !data || !data.data || !data.data.results) {\n\t\treturn (\n\t\t\t<ErrorBoundary>\n\t\t\t\t<Box\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\theight: \"100vh\",\n\t\t\t\t\t\tpadding: 3,\n\t\t\t\t\t\tbgcolor: \"#2e3b55\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tbgcolor: \"#fff3e0\",\n\t\t\t\t\t\t\tp: 3,\n\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\tcolor: \"#ef6c00\",\n\t\t\t\t\t\t\ttextAlign: \"center\",\n\t\t\t\t\t\t\tmaxWidth: \"500px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom>\n\t\t\t\t\t\t\tFailed to Load Data\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Typography variant=\"body2\" sx={{ mb: 2 }}>\n\t\t\t\t\t\t\t{error?.message || \"Data is null or unavailable.\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tonClick={() => window.location.reload()}\n\t\t\t\t\t\t\tsx={{ mt: 1 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tRetry\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Box>\n\t\t\t</ErrorBoundary>\n\t\t);\n\t}\n\n\tconst isPendingAny =\n\t\tisTransitioning || isColumnsUpdating || isMenuUpdating || isPending;\n\n\treturn (\n\t\t<ErrorBoundary>\n\t\t\t<Box\n\t\t\t\tsx={{\n\t\t\t\t\tpadding: { xs: \"8px\", sm: \"16px\", md: \"40px\" },\n\t\t\t\t\tmaxWidth: \"100%\",\n\t\t\t\t\tmargin: \"0 auto\",\n\t\t\t\t\tbgcolor: \"#2e3b55\",\n\t\t\t\t\tminHeight: \"100vh\",\n\t\t\t\t\tzIndex: 1,\n\t\t\t\t\topacity: isPendingAny ? 0.8 : 1,\n\t\t\t\t\ttransition: \"opacity 0.2s ease-in-out\",\n\t\t\t\t}}\n\t\t\t\tclassName=\"home-page\"\n\t\t\t>\n\t\t\t\t{/* Header avec design amélioré */}\n\t\t\t\t<Paper\n\t\t\t\t\televation={2}\n\t\t\t\t\tsx={{\n\t\t\t\t\t\tp: { xs: 2, sm: 3 },\n\t\t\t\t\t\tmb: { xs: 2, sm: 4 },\n\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\tbgcolor: \"rgba(255, 255, 255, 0.95)\",\n\t\t\t\t\t\tbackdropFilter: \"blur(10px)\",\n\t\t\t\t\t\tborder: \"1px solid rgba(255, 255, 255, 0.2)\",\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Box\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tflexDirection: { xs: \"column\", lg: \"row\" },\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\talignItems: { xs: \"flex-start\", lg: \"center\" },\n\t\t\t\t\t\t\tgap: { xs: 2, sm: 3 },\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* Section gauche - Contrôles principaux */}\n\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\tflexDirection: { xs: \"column\", sm: \"row\" },\n\t\t\t\t\t\t\t\tgap: { xs: 2, sm: 3 },\n\t\t\t\t\t\t\t\talignItems: { xs: \"flex-start\", sm: \"center\" },\n\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/* Sélection des vues */}\n\t\t\t\t\t\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", gap: 1 }}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tstartIcon={<ViewModuleIcon />}\n\t\t\t\t\t\t\t\t\tonClick={handleSelectMenuOpen}\n\t\t\t\t\t\t\t\t\tdisabled={isPendingAny}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\tborderColor: \"#90caf9\",\n\t\t\t\t\t\t\t\t\t\tcolor: \"#1976d2\",\n\t\t\t\t\t\t\t\t\t\ttextTransform: \"none\",\n\t\t\t\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\t\t\t\tborderColor: \"#42a5f5\",\n\t\t\t\t\t\t\t\t\t\t\tbgcolor: \"rgba(25, 118, 210, 0.04)\",\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSélection des vues\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Menu\n\t\t\t\t\t\t\t\t\tanchorEl={selectMenuAnchor}\n\t\t\t\t\t\t\t\t\topen={Boolean(selectMenuAnchor)}\n\t\t\t\t\t\t\t\t\tonClose={handleSelectMenuClose}\n\t\t\t\t\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\t\t\t\t\tsx: {\n\t\t\t\t\t\t\t\t\t\t\tmaxHeight: 400,\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: 350,\n\t\t\t\t\t\t\t\t\t\t\tmt: 1,\n\t\t\t\t\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\t\t\t\t\tboxShadow: theme.shadows[8],\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{filteredViews.map((view) => (\n\t\t\t\t\t\t\t\t\t\t<MenuItem\n\t\t\t\t\t\t\t\t\t\t\tkey={view.name}\n\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\tpy: 1,\n\t\t\t\t\t\t\t\t\t\t\t\tpx: 2,\n\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: 1,\n\t\t\t\t\t\t\t\t\t\t\t\tmx: 1,\n\t\t\t\t\t\t\t\t\t\t\t\tmb: 0.5,\n\t\t\t\t\t\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\tbgcolor: \"primary.50\",\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleViewToggle(view.name)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={deferredSelectedViews.includes(view.name)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"#90caf9\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"&.Mui-checked\": { color: \"#90caf9\" },\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\t\t\tprimary={view.pretty_name}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsecondary={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tview.type === \"technical\" ? \"Technique\" : \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</Menu>\n\t\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t\t{/* Toggle vues techniques */}\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\tchecked={showTechnicalViews}\n\t\t\t\t\t\t\t\t\t\tonChange={handleTechnicalViewsToggle}\n\t\t\t\t\t\t\t\t\t\tdisabled={isPendingAny}\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tlabel=\"Vues techniques\"\n\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\"& .MuiFormControlLabel-label\": {\n\t\t\t\t\t\t\t\t\t\tfontSize: { xs: \"0.875rem\", sm: \"1rem\" },\n\t\t\t\t\t\t\t\t\t\tcolor: \"text.primary\",\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Divider\n\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\tflexItem\n\t\t\t\t\t\t\t\tsx={{ display: { xs: \"none\", sm: \"block\" } }}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t{/* Contrôles de colonnes améliorés */}\n\t\t\t\t\t\t\t<Box sx={{ display: \"flex\", alignItems: \"center\", gap: 2 }}>\n\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\t\t\tchecked={autoColumns}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleAutoColumnsToggle}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlabel=\"Auto colonnes\"\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\"& .MuiFormControlLabel-label\": {\n\t\t\t\t\t\t\t\t\t\t\tfontSize: { xs: \"0.875rem\", sm: \"1rem\" },\n\t\t\t\t\t\t\t\t\t\t\tcolor: \"text.primary\",\n\t\t\t\t\t\t\t\t\t\t\tfontWeight: autoColumns ? 600 : 400,\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tpx: 2,\n\t\t\t\t\t\t\t\t\t\tpy: 1,\n\t\t\t\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\t\t\t\tbgcolor: autoColumns ? \"primary.50\" : \"grey.50\",\n\t\t\t\t\t\t\t\t\t\ttransition: \"all 0.2s ease-in-out\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{!autoColumns && (\n\t\t\t\t\t\t\t\t\t<ButtonGroup\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isPendingAny}\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\t\"& .MuiButton-root\": {\n\t\t\t\t\t\t\t\t\t\t\t\tminWidth: 40,\n\t\t\t\t\t\t\t\t\t\t\t\tborderColor: \"#90caf9\",\n\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"#1976d2\",\n\t\t\t\t\t\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor: \"#42a5f5\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tbgcolor: \"rgba(25, 118, 210, 0.04)\",\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={decrementColumns} disabled={columns === 1}>\n\t\t\t\t\t\t\t\t\t\t\t<RemoveIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button disabled sx={{ cursor: \"default\" }}>\n\t\t\t\t\t\t\t\t\t\t\t{columns}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tonClick={incrementColumns}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={columns === filteredViews.length}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<AddIcon fontSize=\"small\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Box>\n\n\t\t\t\t\t\t{/* Bouton Ajouter nouveau noeud */}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\t\t\t\tonClick={() => navigate(\"/add-node\")}\n\t\t\t\t\t\t\tdisabled={isPendingAny}\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\tpx: 3,\n\t\t\t\t\t\t\t\tpy: 1.5,\n\t\t\t\t\t\t\t\tborderRadius: 2,\n\t\t\t\t\t\t\t\ttextTransform: \"none\",\n\t\t\t\t\t\t\t\tfontSize: \"1rem\",\n\t\t\t\t\t\t\t\tfontWeight: 600,\n\t\t\t\t\t\t\t\tboxShadow: theme.shadows[3],\n\t\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\t\tboxShadow: theme.shadows[6],\n\t\t\t\t\t\t\t\t\ttransform: \"translateY(-1px)\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\ttransition: \"all 0.2s ease-in-out\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNouveau nœud\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Box>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Suspense fallback={<LoadingStates.Grid columns={columns} count={6} />}>\n\t\t\t\t\t<ViewGrid\n\t\t\t\t\t\tviews={filteredViews}\n\t\t\t\t\t\tselectedViews={deferredSelectedViews}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tonViewToggle={handleViewToggle}\n\t\t\t\t\t\tonViewExpand={handleViewExpand}\n\t\t\t\t\t/>\n\t\t\t\t</Suspense>\n\n\t\t\t\t{/* Loading Indicator */}\n\t\t\t\t{isPendingAny && (\n\t\t\t\t\t<Box\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tposition: \"fixed\",\n\t\t\t\t\t\t\tbottom: 24,\n\t\t\t\t\t\t\tright: 24,\n\t\t\t\t\t\t\tzIndex: 1400,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t</Box>\n\t\t\t\t)}\n\n\t\t\t\t{/* Modal optimisé pour expanded view */}\n\t\t\t\t<Dialog\n\t\t\t\t\topen={isModalOpen}\n\t\t\t\t\tonClose={handleCloseExpandedView}\n\t\t\t\t\tmaxWidth=\"lg\"\n\t\t\t\t\tfullWidth\n\t\t\t\t\taria-labelledby=\"expanded-view-title\"\n\t\t\t\t\tPaperProps={{\n\t\t\t\t\t\tsx: {\n\t\t\t\t\t\t\theight: \"90vh\",\n\t\t\t\t\t\t\tmaxHeight: \"90vh\",\n\t\t\t\t\t\t\tborderRadius: 3,\n\t\t\t\t\t\t\toverflow: \"hidden\",\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\tTransitionProps={{\n\t\t\t\t\t\ttimeout: 300,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<DialogTitle\n\t\t\t\t\t\tid=\"expanded-view-title\"\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\n\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\tborderBottom: \"1px solid #e0e0e0\",\n\t\t\t\t\t\t\tbgcolor: \"primary.50\",\n\t\t\t\t\t\t\tpy: 2,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Typography variant=\"h6\" sx={{ fontWeight: 600 }}>\n\t\t\t\t\t\t\t{expandedView?.pretty_name || \"Vue agrandie\"}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={handleCloseExpandedView}\n\t\t\t\t\t\t\taria-label=\"Fermer la vue agrandie\"\n\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\"&:hover\": {\n\t\t\t\t\t\t\t\t\tbgcolor: \"primary.100\",\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogContent sx={{ p: 0, height: \"100%\" }}>\n\t\t\t\t\t\t{expandedView && isModalOpen && (\n\t\t\t\t\t\t\t<Suspense\n\t\t\t\t\t\t\t\tfallback={\n\t\t\t\t\t\t\t\t\t<Box\n\t\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\t\tdisplay: \"flex\",\n\t\t\t\t\t\t\t\t\t\t\tflexDirection: \"column\",\n\t\t\t\t\t\t\t\t\t\t\tjustifyContent: \"center\",\n\t\t\t\t\t\t\t\t\t\t\talignItems: \"center\",\n\t\t\t\t\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\t\t\t\t\tgap: 2,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<CircularProgress size={48} />\n\t\t\t\t\t\t\t\t\t\t<Typography variant=\"body1\" color=\"text.secondary\">\n\t\t\t\t\t\t\t\t\t\t\tChargement de {expandedView.pretty_name}...\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\t\tviewId={expandedView.name}\n\t\t\t\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\t\t\t\toverflow: \"auto\",\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</DialogContent>\n\t\t\t\t</Dialog>\n\t\t\t</Box>\n\t\t</ErrorBoundary>\n\t);\n});\n\nexport default HomePage;\n","import { useEffect, useRef } from \"react\";\n\nexport const useTitle = (title: string) => {\n\tconst documentDefined = typeof document !== \"undefined\";\n\tconst originalTitle = useRef(documentDefined ? document.title : null);\n\n\tuseEffect(() => {\n\t\tif (!documentDefined) return;\n\n\t\tif (document.title !== title) document.title = title;\n\n\t\treturn () => {\n\t\t\tif (originalTitle.current === null) return;\n\n\t\t\tdocument.title = originalTitle.current;\n\t\t};\n\t}, [documentDefined, title]);\n};\n"],"names":["ModalComponent","_dataForModal","_isModalOpen","_setIsModalOpen","code","language","VirtualNavigator","allNodes","handleButtonClick","parentRef","useRef","rowVirtualizer","useVirtualizer","Box","virtualItem","node","isInNode","Button","e","BNodeNavigatorDisplay","content","jumpToNode","useCallback","event","nodeId","inNodes","Object","outNodes","inNode","outNode","MemoizedBarChart","memo","prettyName","data","keys","option","useMemo","value","key","ReactECharts","MemoizedLineChart","series","point","Cytoscape","fcose","CytoscapeGraph","elements","style","stylesheet","layout","onNodeClick","containerRef","cyRef","handleNodeClick","handleNodeMouseOver","handleNodeMouseOut","useEffect","cy","layoutOptions","MemoizedNetworkChart","processedData","link","cytoscapeStyles","ChartDisplay","viewId","parseNivoChartData","chartContent","result","cosData","cosLine","val","k","parseFloat","parseBarChartData","getDistributionKeys","keySet","Set","obj","Array","getNetworkData","uniqueNodesMap","Map","transformedNode","transformedLinks","sourceId","targetId","handleNetworkNodeClick","parsedChartData","Suspense","CircularProgress","barChartData","networkData","ClassAttributeFieldDisplay","containerWidth","setContainerWidth","useState","filteredAttributes","_content_attributes","updateWidth","window","itemsPerRow","rows","i","renderCard","_outNode_mimeType","isImage","hasValue","undefined","Card","CardContent","Typography","CardMedia","JSON","String","virtualRow","rowItems","Grid","chart","mermaidRef","zoom","setZoom","position","setPosition","isDragging","setIsDragging","dragStart","setDragStart","mermaid","renderMermaid","id","Date","svg","error","console","container","preventScroll","handleZoomIn","prev","Math","handleZoomOut","handleResetView","handleMouseDown","handleMouseMove","handleMouseUp","handleWheel","rect","centerX","centerY","delta","newZoom","mouseX","mouseY","deltaX","deltaY","Paper","Toolbar","Tooltip","IconButton","ZoomIn","ZoomOut","CenterFocusStrong","ContentDisplay","contentType","backgroundColor","hexColor","onHexColorChange","graphvizRef","renderGraphviz","graphviz","JsonView","collapseAllNested","MermaidDisplay","CustomCodeBlock","ChromePicker","ViewContent","_dataContent_results_","loading","rawApiData","dataContent","resultData","_dataContent_results__result","resultContentType","_dataContent_results__result_contentType_split","View","sx","theme","useTheme","refetch","useApiData","attemptIndex","queryClient","useQueryClient","isMutating","withLoading","useLoadingState","isModalOpen","setIsModalOpen","isModalUpdating","useOptimizedState","hex","setHex","isColorUpdating","viewError","setViewError","isViewErrorUpdating","deferredViewId","useDeferredValue","deferredHex","debouncedColor","useOptimizedDebounce","saveColour","useApiMutation","startTransition","oldData","_typedData_data_results","typedData","jumpMutation","handleHexChange","colour","handleModalChange","opened","handleRetry","exportData","_rawApiData_data_results__result","ViewErrorFallback","errorObj","resetError","process","Alert","isPendingAny","ErrorBoundary","Error","errorInfo","LoadingStates","ViewCard","view","onExpand","handleViewToggle","handleToggle","handleExpand","isTechnical","CardHeader","Stack","ExpandIcon","CloseIcon","Skeleton","ViewGrid","views","selectedViews","columns","onViewToggle","onViewExpand","visibleViews","deferredVisibleViews","rowColumns","navigate","useNavigate","isLoading","isTransitioning","expandedView","setExpandedView","useTitle","setColumns","isColumnsUpdating","autoColumns","setAutoColumns","localStorage","selectMenuAnchor","setSelectMenuAnchor","isMenuUpdating","setSelectedViews","showTechnicalViews","setShowTechnicalViews","searchQuery","debouncedSearchQuery","jumpToId","setViews","isPending","useTransition","getAutoColumnCount","width","deferredViews","deferredSelectedViews","filteredViews","filtered","_view_pretty_name","_view_description","React","_data_data_results__result","newSelected","apiViews","filteredApiViews","savedOrder","finalViews","a","b","indexA","indexB","Infinity","saved","endpoint","handleResize","handleSelectMenuOpen","handleSelectMenuClose","openTechnicalViews","technicalViews","handleTechnicalViewsToggle","_data_data_results__result_data","newValue","techEndpoints","techViews","prevSelected","updated","handleAutoColumnsToggle","newAutoValue","handleViewExpand","_data_data","_data_data1","handleCloseExpandedView","setTimeout","incrementColumns","decrementColumns","ViewModuleIcon","Menu","Boolean","MenuItem","Checkbox","ListItemText","FormControlLabel","Switch","Divider","ButtonGroup","RemoveIcon","AddIcon","Dialog","DialogTitle","DialogContent","title","documentDefined","document","originalTitle"],"mappings":"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"}