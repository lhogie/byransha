"use strict";(self.webpackChunklogin_page=self.webpackChunklogin_page||[]).push([["2348"],{1814:function(e,t,r){r.r(t),r.d(t,{default:()=>ej});var a=r(85893),n=r(7409),l=r(99282),i=r(59157),o=r(62822),s=r(22561),c=r(38655),d=r(90271),u=r(89126),x=r(84786),p=r(54757),m=r(39467),h=r(77821),g=r(99469),f=r(67294);let b=e=>{let{dataForModal:t,isModalOpen:r,setIsModalOpen:a}=e;return null};var v=r(61215);let y=e=>{let{code:t,language:r}=e;return(0,a.jsx)("code",{style:{whiteSpace:"pre-wrap",padding:"10px",borderRadius:"5px",fontFamily:"Monaco, 'Courier New', monospace",fontSize:"14px",backgroundColor:"#f5f5f5",display:"block",overflow:"auto"},className:"language-".concat(r),children:t.trim()})};var j=r(63367),w=r(14868),k=r(63852),Z=r(70107);let C=e=>{let{allNodes:t,handleButtonClick:r}=e,n=(0,f.useRef)(null),l=(0,Z.MG)({count:t.length,estimateSize:()=>56,getScrollElement:()=>n.current,overscan:10});return(0,a.jsx)(x.Z,{ref:n,sx:{height:400,overflowY:"auto",position:"relative",border:"1px solid #e0e0e0",borderRadius:1,p:1},children:(0,a.jsx)(x.Z,{sx:{height:"".concat(l.getTotalSize(),"px"),position:"relative",width:"100%"},children:l.getVirtualItems().map(e=>{let n=t[e.index];if(!n)return null;let l="in"===n.type;return(0,a.jsx)(x.Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(e.size,"px"),transform:"translateY(".concat(e.start,"px)"),display:"flex",alignItems:"center",px:1},children:(0,a.jsxs)(h.Z,{onClick:e=>r(e,n.id),variant:"contained",sx:{bgcolor:l?"#3949ab":"#00897b",color:"#fff","&:hover":{bgcolor:l?"#5c6bc0":"#26a69a"}},children:[n.key," (",n.id,")"]})},e.key)})})})},S=e=>{let{content:t,jumpToNode:r}=e,n=(0,f.useCallback)((e,t)=>{e.stopPropagation(),e.preventDefault(),r(t)},[r]),l=Object.keys(t.ins||{}),i=Object.keys(t.outs||{}),o=[...l.map(e=>({key:e,id:t.ins[e],type:"in"})),...i.map(e=>({key:e,id:t.outs[e],type:"out"}))];return o.length<=50?(0,a.jsxs)(x.Z,{sx:{p:1},children:[(0,a.jsx)(x.Z,{sx:{mb:2},children:l.map(e=>(0,a.jsxs)(h.Z,{onClick:r=>n(r,t.ins[e]),variant:"contained",sx:{bgcolor:"#3949ab",color:"#fff",mr:1,mb:1,"&:hover":{bgcolor:"#5c6bc0"}},children:[e," (",t.ins[e],")"]},e))}),(0,a.jsx)(x.Z,{sx:{paddingY:"10px"},children:i.map(e=>(0,a.jsxs)(h.Z,{onClick:r=>n(r,t.outs[e]),variant:"contained",sx:{bgcolor:"#00897b",color:"#fff",mr:1,mb:1,"&:hover":{bgcolor:"#26a69a"}},children:[e," (",t.outs[e],")"]},e))})]}):(0,a.jsx)(C,{allNodes:o,handleButtonClick:n})};var z=r(96685);let N=(0,f.memo)(e=>{let{prettyName:t,data:r,keys:n}=e,l=(0,f.useMemo)(()=>({tooltip:{confine:!0,trigger:"axis",axisPointer:{type:"shadow"}},grid:{containLabel:!1},xAxis:{data:n,axisLabel:{rotate:45,formatter:e=>e.length>10?"".concat(e.substring(0,10),"..."):e}},yAxis:{type:"value"},series:{name:t,type:"bar",data:n.map(e=>r[e]),emphasis:{focus:"series",blurScope:"coordinateSystem"},animationDuration:300}}),[r,n,t]);return(0,a.jsx)(z.Z,{lazyUpdate:!0,option:l,style:{height:"100%",minHeight:"300px",width:"100%"}})});N.displayName="MemoizedBarChart";let M=(0,f.memo)(e=>{let{data:t}=e,r=(0,f.useMemo)(()=>({tooltip:{trigger:"axis",confine:!0},color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],legend:{data:t.map(e=>e.id),orient:"vertical",right:10,top:"center"},grid:{left:"5%",right:"15%",bottom:"10%",top:"10%",containLabel:!0},xAxis:{type:"value",name:"X Axis",nameLocation:"middle",nameGap:30},yAxis:{type:"value",name:"Y Axis",min:-1,max:1,nameLocation:"middle",nameGap:50},series:t.map(e=>({name:e.id,type:"line",data:e.data.map(e=>[e.x,e.y]),showSymbol:!1,symbolSize:8,emphasis:{focus:"series"},animationDuration:300}))}),[t]);return(0,a.jsx)(z.Z,{lazyUpdate:!0,option:r,style:{height:"100%",minHeight:"300px",width:"100%"}})});M.displayName="MemoizedLineChart";var _=r(58446),D=r(44867),T=r.n(D);_.Z.use(T());let E=e=>{let{elements:t,style:r,stylesheet:l,layout:i,onNodeClick:o}=e,s=(0,f.useRef)(null),c=(0,f.useRef)(null),d=(0,f.useCallback)(e=>{let t=e.target;o&&o({id:t.id()},e)},[o]),u=(0,f.useCallback)(e=>{let t=e.target;t.style("label",t.data("label"))},[]),x=(0,f.useCallback)(e=>{e.target.style("label","")},[]);return(0,f.useEffect)(()=>{if(!s.current)return;let e=(0,_.Z)({container:s.current,elements:t,style:l||[{selector:"node",style:{"background-color":"data(color)",width:"data(size)",height:"data(size)","text-valign":"top","text-halign":"center","text-margin-y":-5,"font-size":"12px",color:"#000000","text-outline-width":2,"text-outline-color":"#ffffff","z-index":1,label:""}},{selector:"edge",style:{width:2,"line-color":"#cccccc","target-arrow-color":"#cccccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],layout:i||{name:"fcose",animate:!1,samplingType:!1,animationDuration:1500,fit:!0,padding:30}});return c.current=e,e.on("tap","node",d),e.on("mouseover","node",u),e.on("mouseout","node",x),()=>{c.current&&(c.current.destroy(),c.current=null)}},[t,l,i,d,u,x]),(0,f.useEffect)(()=>{if(c.current&&t){c.current.elements().remove(),c.current.add(t);let e=i||{name:"fcose",animate:!1,samplingType:!1,animationDuration:1500,fit:!0,padding:30};c.current.layout(e).run()}},[t,i]),(0,a.jsx)("div",{ref:s,style:(0,n._)({width:"100%",height:"100%"},r)})},I=(0,f.memo)(e=>{let{data:t,onNodeClick:r}=e,n=(0,f.useMemo)(()=>t,[t]),l=(0,f.useMemo)(()=>[...n.nodes.map(e=>({data:{id:e.id,label:e.label,size:e.size||30,color:e.color||"#1f77b4",x:e.x,y:e.y}})),...n.links.map(e=>({data:{id:"".concat(e.source,"-").concat(e.target),source:e.source,target:e.target}}))],[n]),i=(0,f.useMemo)(()=>[{selector:"node",style:{"background-color":"data(color)",width:"data(size)",height:"data(size)","text-valign":"top","text-halign":"center","text-margin-y":-5,"font-size":"12px",color:"#000000","text-outline-width":2,"text-outline-color":"#ffffff","z-index":1,label:""}},{selector:"edge",style:{width:2,"line-color":"#cccccc","target-arrow-color":"#cccccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],[]);return(0,a.jsx)(x.Z,{sx:{height:"300px",width:"100%"},children:(0,a.jsx)(E,{elements:l,style:{width:"100%",height:"100%"},stylesheet:i,layout:{name:n.nodes.length>1e3?"random":"fcose",animate:!1,samplingType:!1,animationDuration:1500,fit:!0,padding:30},onNodeClick:r})})});I.displayName="MemoizedNetworkChart";let O=e=>{let{viewId:t,content:r,onNodeClick:i,prettyName:o}=e,s=(0,f.useCallback)(e=>{if(!e)return[];let t=[];for(let r of Object.keys(e)){let a=(null==e?void 0:e[r])||{},n={id:r,data:a.map(e=>{let t=Object.keys(e)[0];return{x:parseFloat(t),y:parseFloat(e[t])}})};t.push(n)}return t},[]),c=(0,f.useCallback)(e=>{if(!e)return{};let t={};for(let r of Object.values(e))for(let e of Object.keys(r))t[e]=(null==r?void 0:r[e])||{};return t},[]),d=(0,f.useCallback)(e=>{if(!e||0===Object.values(e).length)return[];let t=new Set;return Object.values(e).forEach(e=>{Object.keys(e).forEach(e=>t.add(e))}),Array.from(t).sort()},[]),u=(0,f.useCallback)(e=>{if(!e||!e.nodes)return{nodes:[],links:[]};let t=new Map;e.nodes.forEach(e=>{let r=e.id||e.label,a=(0,l._)((0,n._)({},e),{id:r,label:e.label||r,size:e.size||30,color:e.color||"#1f77b4"});t.has(a.id)||t.set(a.id,a)});let r=e.links.map(e=>{let t="object"==typeof e.source?e.source.id||e.source.label:e.source,r="object"==typeof e.target?e.target.id||e.target.label:e.target;return(0,l._)((0,n._)({},e),{source:t,target:r})});return{nodes:Array.from(t.values()),links:r}},[]),x=(0,f.useCallback)((e,t)=>{t&&(t.preventDefault(),t.stopPropagation()),(null==e?void 0:e.id)&&i(e.id.includes("@")?e.id.split("@")[1]:e.id)},[i]);if("char_example_xy"===t){let e=s(r);return(0,a.jsx)("div",{className:"graph",onClick:e=>{e.stopPropagation(),e.preventDefault()},onKeyDown:e=>{e.stopPropagation(),e.preventDefault()},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(v.Z,{}),children:(0,a.jsx)(M,{data:e})})})}if(t.endsWith("_distribution")){let e=c(r),t=d(r);return(0,a.jsx)("div",{className:"graph",onClick:e=>{e.stopPropagation(),e.preventDefault()},onKeyDown:e=>{e.stopPropagation(),e.preventDefault()},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(v.Z,{}),children:(0,a.jsx)(N,{prettyName:o,data:e,keys:t})})})}if(!t.endsWith("nivo_view"))return null;{let e=u(r);return(0,a.jsx)("div",{className:"graph",onClick:e=>{e.stopPropagation(),e.preventDefault()},onKeyDown:e=>{e.stopPropagation(),e.preventDefault()},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(v.Z,{}),children:(0,a.jsx)(I,{data:e,onNodeClick:x})})})}};var R=r(32153),L=r(89717),W=r(15648),P=r(64651);let V=e=>{let{content:t}=e,r=(0,f.useRef)(null),[n,l]=(0,f.useState)(0),i=(0,f.useMemo)(()=>{var e;return(null==t||null==(e=t.attributes)?void 0:e.filter(e=>"graph"!==e.name))||[]},[null==t?void 0:t.attributes]);(0,f.useEffect)(()=>{let e=()=>{r.current&&l(r.current.offsetWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let o=(0,f.useMemo)(()=>0===n?1:n>=600?2:1,[n]),s=(0,f.useMemo)(()=>{let e=[];for(let t=0;t<i.length;t+=o)e.push(i.slice(t,t+o));return e},[i,o]),c=(0,Z.MG)({count:s.length,getScrollElement:()=>r.current,estimateSize:(0,f.useCallback)(()=>300,[]),overscan:2}),d=(0,f.useCallback)(e=>{var t;let r=(null==(t=e.mimeType)?void 0:t.startsWith("image/"))&&e.value,n=Object.hasOwn(e,"value")&&null!==e.value&&void 0!==e.value;return(0,a.jsx)(R.Z,{sx:{width:"100%",display:"flex",flexDirection:"column",height:260,maxHeight:260},children:(0,a.jsxs)(L.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,a.jsx)(p.Z,{variant:"h6",component:"div",sx:{wordBreak:"break-word"},children:e.name}),r&&(0,a.jsx)(W.Z,{component:"img",sx:{maxHeight:200,width:"auto",objectFit:"contain",mt:1,border:"1px solid #eee"},image:"data:".concat(e.mimeType,";base64,").concat(e.value),alt:"Output value for ".concat(e.name)}),!r&&n&&(0,a.jsx)(p.Z,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",wordBreak:"break-all",mt:1,p:1,backgroundColor:"#f5f5f5",borderRadius:1,overflow:"auto",maxHeight:160},children:"object"==typeof e.value?JSON.stringify(e.value,null,2):String(e.value)}),!n&&!r&&(0,a.jsx)(p.Z,{variant:"body2",sx:{fontStyle:"italic",mt:1,p:1,backgroundColor:"#f5f5f5",borderRadius:1,flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center",minHeight:40},children:"(No displayable value)"})]})})},[]);return Array.isArray(null==t?void 0:t.attributes)?(null==t?void 0:t.attributes.length)===0?(0,a.jsx)(p.Z,{sx:{p:2},children:"No output nodes connected."}):(0,a.jsx)(x.Z,{ref:r,sx:{height:"400px",overflow:"auto",p:1,width:"100%"},children:(0,a.jsx)(x.Z,{sx:{height:"".concat(c.getTotalSize(),"px"),width:"100%",position:"relative"},children:c.getVirtualItems().map(e=>{let t=s[e.index];return t?(0,a.jsx)(x.Z,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"".concat(e.size,"px"),transform:"translateY(".concat(e.start,"px)")},children:(0,a.jsx)(P.Z,{container:!0,spacing:2,sx:{width:"100%"},children:t.map(e=>(0,a.jsx)(P.Z,{size:{xs:12,sm:6},sx:{display:"flex"},children:d(e)},e.id))})},e.key):null})})}):(0,a.jsxs)(p.Z,{sx:{p:2},color:"error",children:["Error: Expected an array for 'class_attribute_field' data, but received type ",typeof(null==t?void 0:t.attributes),"."]})};var H=r(34159),A=r(57966),F=r(77674),B=r(70139),J=r(60488),U=r(81035),Y=r(40519);let G=e=>{let{chart:t}=e,r=(0,f.useRef)(null),n=(0,f.useRef)(null),[l,i]=(0,f.useState)(1),[o,s]=(0,f.useState)({x:0,y:0}),[c,d]=(0,f.useState)(!1),[m,h]=(0,f.useState)({x:0,y:0});(0,f.useEffect)(()=>{Y.Z.initialize({startOnLoad:!1,theme:"dark",securityLevel:"loose",fontFamily:"Fira Code"})},[]),(0,f.useEffect)(()=>{(async()=>{if(n.current&&t)try{let e="mermaid-".concat(Date.now());n.current.innerHTML="";let{svg:r}=await Y.Z.render(e,t);n.current.innerHTML=r,i(1),s({x:0,y:0})}catch(e){console.error("Mermaid rendering error:",e),n.current.innerHTML='<div style="color: red; padding: 20px;">Error rendering diagram: '.concat(e,"</div>")}})()},[t]),(0,f.useEffect)(()=>{let e=r.current;if(!e)return;let t=e=>{e.preventDefault()};return e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("wheel",t)}},[]);let g=(0,f.useCallback)(()=>{i(e=>Math.min(1.2*e,3))},[]),b=(0,f.useCallback)(()=>{i(e=>Math.max(e/1.2,.3))},[]),v=(0,f.useCallback)(()=>{i(1),s({x:0,y:0})},[]),y=(0,f.useCallback)(e=>{0===e.button&&(d(!0),h({x:e.clientX-o.x,y:e.clientY-o.y}))},[o]),j=(0,f.useCallback)(e=>{c&&s({x:e.clientX-m.x,y:e.clientY-m.y})},[c,m]),w=(0,f.useCallback)(()=>{d(!1)},[]),k=(0,f.useCallback)(e=>{if(r.current){let t=r.current.getBoundingClientRect(),a=t.width/2,n=t.height/2,o=e.deltaY>0?.9:1.1,c=Math.max(.3,Math.min(10,l*o)),d=e.clientX-t.left,u=e.clientY-t.top,x=(d-a)*(1-o),p=(u-n)*(1-o);i(c),s(e=>({x:e.x+x,y:e.y+p}))}},[l]);return(0,a.jsxs)(u.Z,{elevation:2,sx:{height:600,width:"100%",display:"flex",flexDirection:"column",overflow:"hidden"},children:[(0,a.jsxs)(B.Z,{variant:"dense",sx:{backgroundColor:"background.paper",borderBottom:1,borderColor:"divider",minHeight:48},children:[(0,a.jsx)(p.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Mermaid Diagram"}),(0,a.jsxs)(x.Z,{sx:{display:"flex",gap:1},children:[(0,a.jsx)(J.Z,{title:"Zoom In",children:(0,a.jsx)(U.Z,{onClick:g,size:"small",children:(0,a.jsx)(H.Z,{})})}),(0,a.jsx)(J.Z,{title:"Zoom Out",children:(0,a.jsx)(U.Z,{onClick:b,size:"small",children:(0,a.jsx)(A.Z,{})})}),(0,a.jsx)(J.Z,{title:"Reset View",children:(0,a.jsx)(U.Z,{onClick:v,size:"small",children:(0,a.jsx)(F.Z,{})})})]})]}),(0,a.jsxs)(x.Z,{ref:r,sx:{flex:1,overflow:"hidden",cursor:c?"grabbing":"grab",backgroundColor:"background.default",position:"relative",userSelect:"none"},onMouseDown:y,onMouseMove:j,onMouseUp:w,onMouseLeave:w,onWheel:k,children:[(0,a.jsx)(x.Z,{ref:n,sx:{transform:"translate(".concat(o.x,"px, ").concat(o.y,"px) scale(").concat(l,")"),transformOrigin:"center center",transition:c?"none":"transform 0.1s ease-out",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:0,left:0,"& svg":{maxWidth:"none",maxHeight:"none",pointerEvents:"none"}}}),(0,a.jsxs)(x.Z,{sx:{position:"absolute",bottom:16,right:16,backgroundColor:"background.paper",px:1,py:.5,borderRadius:1,fontSize:"0.75rem",opacity:.8},children:[Math.round(100*l),"%"]})]})]})},K=e=>{let{viewId:t,content:r,contentType:n,backgroundColor:l,jumpToNode:i,hexColor:o,onHexColorChange:s,prettyName:c}=e,d=(0,f.useRef)(null),u=(0,f.useCallback)(()=>{"text/dot"===n&&d.current&&(0,j.f)(d.current,{engine:"dot",fit:!0,zoom:!0}).renderDot(r)},[r,n]);if((0,f.useEffect)(()=>{u()},[u]),!r)return(0,a.jsx)("div",{className:"error-message",children:"No content available."});if("application/json"===n)if("class_attribute_field"===t)return(0,a.jsx)(V,{content:r});else if("char_example_xy"===t||t.endsWith("_distribution")||t.endsWith("nivo_view"))return(0,a.jsx)("div",{className:"graph",onClick:e=>{e.stopPropagation(),e.preventDefault()},onKeyDown:e=>{e.stopPropagation(),e.preventDefault()},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(v.Z,{}),children:(0,a.jsx)(O,{viewId:t,content:r,onNodeClick:i,prettyName:c})})});else if("bnode_navigator"===t)return(0,a.jsx)(S,{content:r,jumpToNode:i});else return(0,a.jsx)("div",{className:"content-container",style:{background:l},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(v.Z,{}),children:(0,a.jsx)(k.gc,{data:r,shouldExpandNode:k.T})})});if("text/dot"===n)return(0,a.jsx)("div",{className:"content-container graphviz-container",style:{background:l},children:(0,a.jsx)("div",{ref:d})});if("text/mermaid"===n)return(0,a.jsx)("div",{className:"mermaid-container",style:{background:l,width:"100%",height:"600px",overflow:"hidden",position:"relative",padding:0,margin:0,borderRadius:"4px"},children:(0,a.jsx)(G,{chart:r})});if("text/html"===n)return(0,a.jsx)("div",{className:"content-container html-content",style:{background:l},children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})});if("image/svg"===n)return(0,a.jsx)("div",{className:"content-container",style:{background:"transparent"},children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:r},style:{background:"transparent"}})});else if("image/svg+xml"===n)return(0,a.jsx)("div",{className:"content-container",style:{background:"transparent"},children:(0,a.jsx)("img",{src:"data:image/svg+xml;base64,".concat(r),alt:"Graphviz",style:{background:"transparent"}})});else if("image/png"===n||"image/jpeg"===n)return(0,a.jsx)("div",{className:"content-container",style:{background:l},children:(0,a.jsx)("img",{src:"data:".concat(n,";base64,").concat(r),alt:"Content"})});else if("image/jsondot"===n)return(0,a.jsx)("div",{className:"content-container",style:{background:l},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(v.Z,{}),children:(0,a.jsx)(k.gc,{data:r})})});else if("text/java"===n)return(0,a.jsx)("div",{className:"content-container",style:{background:l},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(v.Z,{}),children:(0,a.jsx)(y,{language:"java",code:r})})});else if("text/hex"===n)return(0,a.jsx)("div",{className:"content-container",style:{background:l},children:(0,a.jsx)(w.AI,{color:o,disableAlpha:!0,onChangeComplete:s})});else if("text/plain"===n)return(0,a.jsx)("div",{className:"content-container",style:{background:l},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(v.Z,{}),children:(0,a.jsx)(y,{language:"plaintext",code:r})})});else return(0,a.jsxs)("div",{className:"error-message",children:["Unsupported content type: ",n]})},X=e=>{var t,r;let{loading:n,error:l,rawApiData:i,dataContent:o,backgroundColor:s,jumpToNode:c,hexColor:d,onHexColorChange:u,viewId:p}=e,m=(0,f.useMemo)(()=>{var e,t,r;return null==o||null==(r=o.results)||null==(t=r[0])||null==(e=t.result)?void 0:e.data},[o]),h=(0,f.useMemo)(()=>{var e,t,r,a,n;return null==o||null==(n=o.results)||null==(a=n[0])||null==(r=a.result)||null==(t=r.contentType)||null==(e=t.split(";"))?void 0:e[0]},[o]),g=(0,f.useMemo)(()=>{var e,t;return null==o||null==(t=o.results)||null==(e=t[0])?void 0:e.pretty_name},[o]);return n?(0,a.jsx)(x.Z,{className:"view-container",sx:{position:"relative",padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px"},children:(0,a.jsx)(v.Z,{})}):l?(0,a.jsx)(x.Z,{className:"view-container information-page",sx:{position:"relative",padding:2},children:(0,a.jsxs)("div",{className:"error-message",style:{marginTop:"40px"},children:["Error fetching data: ",l.message]})}):i?(null==o||null==(r=o.results)||null==(t=r[0])?void 0:t.error)!==void 0?(0,a.jsx)(x.Z,{className:"view-container information-page",sx:{position:"relative",padding:2},children:(0,a.jsxs)("div",{className:"error-message",style:{marginTop:"40px"},children:["Backend Error: ",o.results[0].error]})}):m&&h?(0,a.jsx)(x.Z,{sx:{position:"relative",padding:2,flex:1,minHeight:"300px",display:"flex",flexDirection:"column",overflow:"hidden"},children:(0,a.jsx)(x.Z,{sx:{mt:4,flex:1,overflow:"auto","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:(0,a.jsx)(K,{viewId:p,content:m,contentType:h,backgroundColor:s,jumpToNode:c,hexColor:d,onHexColorChange:u,prettyName:g})})}):(0,a.jsx)(x.Z,{className:"view-container information-page",sx:{position:"relative",padding:2},children:(0,a.jsx)("div",{className:"error-message",style:{marginTop:"40px"},children:"Result data or content type missing in the response."})}):(0,a.jsx)(x.Z,{className:"view-container information-page",sx:{position:"relative",padding:2},children:(0,a.jsx)("div",{className:"error-message",style:{marginTop:"40px"},children:"No data available."})})},Q=(0,f.memo)(e=>{let{viewId:t,sx:r}=e,v=(0,d.Z)(),{data:y,isLoading:j,error:w,refetch:k}=(0,c.m_)(t,{},{staleTime:3e4,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),Z=(0,g.NL)(),{isLoading:C,withLoading:S}=(0,o.$C)(),[z,N,M]=(0,s.av)(!1,{transitionUpdates:!0}),[_,D,T]=(0,s.av)("#ffffff",{transitionUpdates:!0,debounceMs:300}),[E,I,O]=(0,s.av)(null,{transitionUpdates:!0}),R=(0,s.pQ)(t),L=(0,s.pQ)(_),[W]=(0,s.m9)(_,500),P=(0,c.uC)("update_colour",{onSuccess:()=>{(0,s.Le)(()=>{Z.setQueryData(["apiData",t],e=>{var t;return e?(0,l._)((0,n._)({},e),{data:(0,l._)((0,n._)({},e.data),{results:null==(t=e.data.results)?void 0:t.map(e=>(0,l._)((0,n._)({},e),{color:W}))})}):e}),I(null)})},onError:e=>{console.error("Failed to save color:",e),(0,s.Le)(()=>{I("Failed to save color changes"),D("#ffffff")})}}),V=(0,c.uC)("jump",{onSuccess:async()=>{(0,s.Le)(()=>{Z.invalidateQueries({queryKey:["apiData"]}),I(null)})},onError:e=>{console.error("Failed to jump to node:",e),(0,s.Le)(()=>{I("Failed to navigate to node")})}}),H=(0,f.useCallback)(e=>{D(e.hex)},[D]);(0,f.useEffect)(()=>{"#ffffff"!==W&&W!==_&&S(async()=>{try{await P.mutateAsync({view_id:R,value:W})}catch(e){console.error("Color update failed:",e)}})},[W,R,P,S,_]);let A=(0,f.useCallback)(e=>{S(async()=>{try{await V.mutateAsync({node_id:e})}catch(e){console.error("Jump to node failed:",e)}})},[V,S]),F=(0,f.useCallback)(e=>{(0,s.Le)(()=>{N(e)})},[N]),B=(0,f.useCallback)(()=>{S(async()=>{try{await k(),I(null)}catch(e){console.error("Retry failed:",e),I("Retry failed. Please try again.")}})},[k,S,I]),{dataContent:J,exportData:U,backgroundColor:Y}=(0,f.useMemo)(()=>{try{var e,t,a,n;let l=null==y?void 0:y.data,i=null==y||null==(n=y.data)||null==(a=n.results)||null==(t=a[0])||null==(e=t.result)?void 0:e.data,o=(null==r?void 0:r.bgcolor)||"transparent";return{dataContent:l,exportData:i,backgroundColor:o}}catch(e){return console.error("Error processing view data:",e),I("Error processing view data"),{dataContent:void 0,exportData:void 0,backgroundColor:(null==r?void 0:r.bgcolor)||"transparent"}}},[y,null==r?void 0:r.bgcolor,I]),G=(0,f.useCallback)(e=>{let{error:r,resetError:n}=e;return(0,a.jsxs)(u.Z,{elevation:1,sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:200,p:3,border:"1px solid ".concat(v.palette.divider),borderRadius:2,bgcolor:"background.paper"},children:[(0,a.jsxs)(x.Z,{sx:{textAlign:"center",mb:2},children:[(0,a.jsx)(p.Z,{variant:"h2",sx:{fontSize:"2rem",mb:1},children:"⚠️"}),(0,a.jsxs)(p.Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["\xc9chec du chargement de la vue: ",t]}),!1,E&&(0,a.jsx)(m.Z,{severity:"error",sx:{mt:1,fontSize:"0.75rem"},children:E})]}),(0,a.jsxs)(x.Z,{sx:{display:"flex",gap:1},children:[(0,a.jsx)(h.Z,{variant:"outlined",onClick:()=>{n(),I(null)},size:"small",children:"R\xe9essayer"}),(0,a.jsx)(h.Z,{variant:"contained",onClick:B,size:"small",children:"Recharger les donn\xe9es"})]})]})},[t,E,B,I,v.palette.divider]),K=C||M||T||O;return(0,a.jsx)(i.ZP,{fallback:(0,a.jsx)(G,{error:Error("View render error"),resetError:()=>window.location.reload()}),onError:(e,r)=>{console.error("View ".concat(t," error:"),e,r),I("Erreur de rendu: ".concat(e.message))},resetKeys:[t],children:(0,a.jsxs)(x.Z,{sx:(0,n._)({width:"100%",height:"100%",minHeight:300,position:"relative",display:"flex",flexDirection:"column",opacity:K?.8:1,transition:"opacity 0.2s ease-in-out",overflow:"hidden"},r),children:[E&&(0,a.jsx)(m.Z,{severity:"error",onClose:()=>I(null),sx:{position:"absolute",top:8,left:"50%",transform:"translateX(-50%)",zIndex:1e3,fontSize:"0.75rem",maxWidth:"90%"},"aria-live":"polite",children:E}),(0,a.jsx)(i.ZP,{fallback:(0,a.jsx)(m.Z,{severity:"warning",sx:{m:1},children:"Erreur lors du chargement du modal"}),onError:e=>{console.error("Modal error:",e),I("Le modal n'a pas pu \xeatre charg\xe9")},children:(0,a.jsx)(f.Suspense,{fallback:null,children:(0,a.jsx)(b,{dataForModal:U,isModalOpen:z,setIsModalOpen:F})})}),(0,a.jsx)(x.Z,{sx:{flex:1,width:"100%",overflow:"auto",position:"relative",display:"flex",flexDirection:"column",scrollbarWidth:"thin",scrollbarColor:"".concat(v.palette.primary.main," ").concat(v.palette.grey[200]),"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{bgcolor:"grey.100",borderRadius:1},"&::-webkit-scrollbar-thumb":{bgcolor:"primary.main",borderRadius:1,"&:hover":{bgcolor:"primary.dark"}}},children:(0,a.jsx)(i.ZP,{fallback:(0,a.jsx)(G,{error:Error("View content error"),resetError:B}),onError:(e,t)=>{console.error("View content error:",e,t),I("Erreur de contenu: ".concat(e.message))},children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:200,p:2},children:(0,a.jsx)(o.vj.Component,{message:"Chargement de ".concat(R,"...")})}),children:(0,a.jsx)(X,{loading:j,error:w,rawApiData:y,dataContent:J,backgroundColor:Y,jumpToNode:A,hexColor:L,onHexColorChange:H,viewId:R})})})}),K&&(0,a.jsx)(x.Z,{sx:{position:"absolute",top:8,right:8,zIndex:10},"aria-live":"polite","aria-label":"Op\xe9ration en cours",children:(0,a.jsx)(o.vj.Inline,{text:""})})]})})});Q.displayName="View";var q=r(22826),$=r(77012),ee=r(89425),et=r(45631),er=r(80372),ea=r(11419),en=r(11731),el=r(67178),ei=r(47044),eo=r(8523),es=r(73876),ec=r(89276),ed=r(19410),eu=r(39380),ex=r(73716),ep=r(74542),em=r(60261),eh=r(16970),eg=r(30925),ef=r(81839),eb=r(83796);let ev=(0,f.memo)(e=>{let{view:t,onExpand:r,handleViewToggle:n}=e,l=(0,d.Z)(),o=(0,f.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),n(t.name)},[n,t.name]),s=(0,f.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),r(t)},[r,t]),c="technical"===t.type;return(0,a.jsx)(i.ZP,{fallback:(0,a.jsx)(R.Z,{sx:{aspectRatio:"1",border:"1px solid ".concat(l.palette.error.main),borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"error.light"},role:"alert",children:(0,a.jsx)(p.Z,{color:"error",variant:"body2",children:"Erreur de chargement de la vue"})}),children:(0,a.jsxs)(R.Z,{sx:{aspectRatio:"1",border:"1px solid ".concat(l.palette.divider),borderRadius:2,display:"flex",flexDirection:"column",bgcolor:c?"warning.light":"background.paper",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out","&:hover":{transform:"translateY(-2px)",boxShadow:l.shadows[4]},"&:focus-within":{outline:"2px solid ".concat(l.palette.primary.main),outlineOffset:"2px"}},"aria-label":"Vue ".concat(t.pretty_name,": ").concat(t.description),children:[(0,a.jsx)(en.Z,{sx:{height:{xs:50,sm:60},bgcolor:c?"warning.main":"grey.100",borderBottom:"1px solid ".concat(l.palette.divider),p:{xs:.5,sm:1},position:"relative","& .MuiCardHeader-content":{overflow:"hidden"}},title:(0,a.jsx)(p.Z,{variant:"caption",sx:{color:c?"warning.contrastText":"text.secondary",fontWeight:500,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",lineHeight:1.2},children:t.pretty_name}),subheader:(0,a.jsx)(p.Z,{variant:"caption",sx:{color:c?"warning.contrastText":"text.disabled",fontSize:"0.7rem",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:t.description}),action:(0,a.jsxs)(el.Z,{direction:"row",spacing:.5,children:[(0,a.jsx)(J.Z,{title:"Agrandir la vue",children:(0,a.jsx)(U.Z,{onClick:s,size:"small","aria-label":"Agrandir la vue ".concat(t.pretty_name),sx:{color:c?"warning.contrastText":"action.active","&:hover":{bgcolor:"action.hover"},"&:focus":{outline:"2px solid ".concat(l.palette.primary.main),outlineOffset:"1px"}},children:(0,a.jsx)($.Z,{fontSize:"small"})})}),(0,a.jsx)(J.Z,{title:"Fermer la vue",children:(0,a.jsx)(U.Z,{onClick:o,size:"small","aria-label":"Fermer la vue ".concat(t.pretty_name),sx:{color:c?"warning.contrastText":"action.active","&:hover":{bgcolor:"action.hover"},"&:focus":{outline:"2px solid ".concat(l.palette.primary.main),outlineOffset:"1px"}},children:(0,a.jsx)(ee.Z,{fontSize:"small"})})})]})}),(0,a.jsx)(L.Z,{sx:{p:{xs:1.5,sm:2},height:"calc(100% - 60px)",display:"flex",flexDirection:"column",overflow:"hidden",bgcolor:c?"warning.light":"background.paper","&:last-child":{pb:{xs:1.5,sm:2}}},children:(0,a.jsx)(x.Z,{sx:{flex:1,overflow:"auto",color:"text.primary",scrollbarWidth:"thin",scrollbarColor:"".concat(l.palette.primary.main," ").concat(l.palette.grey[200]),"&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-thumb":{bgcolor:"primary.main",borderRadius:"3px"},"&::-webkit-scrollbar-track":{bgcolor:"grey.200"},wordBreak:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap",maxWidth:"100%",fontSize:{xs:"0.75rem",sm:"0.875rem"}},"aria-label":"Contenu de la vue ".concat(t.pretty_name),children:t.error?(0,a.jsx)(m.Z,{severity:"error",variant:"outlined",sx:{mt:1},children:(0,a.jsx)(p.Z,{variant:"body2",children:t.error})}):(0,a.jsx)(i.ZP,{fallback:(0,a.jsx)(m.Z,{severity:"error",variant:"outlined",sx:{mt:1},children:(0,a.jsx)(p.Z,{variant:"body2",children:"Erreur de chargement de la vue"})}),children:(0,a.jsx)(f.Suspense,{fallback:(0,a.jsxs)(el.Z,{spacing:1,sx:{mt:1},children:[(0,a.jsx)(ei.Z,{variant:"text",width:"80%"}),(0,a.jsx)(ei.Z,{variant:"text",width:"60%"}),(0,a.jsx)(ei.Z,{variant:"rectangular",height:60})]}),children:(0,a.jsx)(Q,{viewId:t.name.replaceAll(" ","_"),sx:{bgcolor:c?"warning.light":"background.paper",width:"100%"}})})})})})]})})}),ey=(0,f.memo)(e=>{let{views:t,selectedViews:r,columns:n,onViewToggle:l,onViewExpand:o}=e,s=t.filter(e=>r.includes(e.name)),c=(0,f.useDeferredValue)(s),d=Math.min(n,c.length);return(0,a.jsx)(i.ZP,{fallback:(0,a.jsx)(x.Z,{sx:{textAlign:"center",p:3,color:"error.main"},children:(0,a.jsx)(p.Z,{children:"Error loading view grid"})}),children:(0,a.jsx)(x.Z,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(".concat(Math.min(n,2),", 1fr)"),md:"repeat(".concat(d,", 1fr)")},gap:{xs:2,sm:4},opacity:1,transition:"opacity 0.2s ease-in-out"},children:c.map(e=>(0,a.jsx)(ev,{view:e,onExpand:o,handleViewToggle:l},e.name))})})}),ej=(0,f.memo)(()=>{let e=(0,d.Z)(),t=(0,eb.s0)(),{data:r,isLoading:n,error:l}=(0,c.m_)("endpoints?only_applicable&type=byransha.web.View",{},{staleTime:3e4,gcTime:3e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0}),{isLoading:m,withLoading:g}=(0,o.$C)(),[b,y]=(0,s.av)(null,{transitionUpdates:!0}),[j,w]=(0,f.useState)(!1);(0,q.Z)("Accueil");let[k,Z,C]=(0,s.av)(2,{transitionUpdates:!0,deferUpdates:!1}),[S,z]=(0,f.useState)(()=>JSON.parse(localStorage.getItem("autoColumns")||"true")),[N,M,_]=(0,s.av)(null,{transitionUpdates:!0}),[D,T]=(0,f.useState)([]),[E,I]=(0,f.useState)(()=>JSON.parse(localStorage.getItem("showTechnicalViews")||"false")),[O]=(0,s.av)("",{transitionUpdates:!0,debounceMs:300}),[R]=(0,s.m9)(O,300),L=(0,c.uC)("jump"),[W,P]=(0,f.useState)([]),[V]=(0,f.useTransition)(),H=(0,f.useCallback)(()=>{let e=window.innerWidth;return e<900?1:e<1600?2:e<2100?3:4},[]),A=(0,f.useDeferredValue)(W),F=(0,f.useDeferredValue)(D),B=(0,f.useMemo)(()=>{let e=E?A:A.filter(e=>"technical"!==e.type);return R.trim()&&(e=e.filter(e=>{var t,r;return(null==(t=e.pretty_name)?void 0:t.toLowerCase().includes(R.toLowerCase()))||(null==(r=e.description)?void 0:r.toLowerCase().includes(R.toLowerCase()))})),e},[A,E,R]);f.useEffect(()=>{var e,t,a,n;(null==r||null==(n=r.data)||null==(a=n.results)||null==(t=a[0])||null==(e=t.result)?void 0:e.data)&&(0,f.startTransition)(()=>{let e,t=r.data.results[0].result.data,a=E?t:t.filter(e=>"technical"!==e.type),n=JSON.parse(localStorage.getItem("viewOrder"))||[],l=a;n.length>0&&(l=[...a].sort((e,t)=>{let r=n.indexOf(e.endpoint),a=n.indexOf(t.endpoint);return(-1===r?1/0:r)-(-1===a?1/0:a)})),P(l);let i=JSON.parse(localStorage.getItem("selectedViewsSaved"));e=i&&0!==i.length?i.filter(e=>a.some(t=>t.name===e)):a.map(e=>e.name),localStorage.setItem("selectedViewsSaved",JSON.stringify(e)),T(e)})},[r,E]),f.useEffect(()=>{let e=()=>{S&&(0,f.startTransition)(()=>{Z(H())})};return S&&(window.addEventListener("resize",e),e()),()=>window.removeEventListener("resize",e)},[H,Z,S]);let J=(0,f.useCallback)(e=>{M(e.currentTarget)},[M]),Y=(0,f.useCallback)(()=>{M(null)},[M]),G=(0,f.useCallback)(e=>{(0,f.startTransition)(()=>{T(t=>{let r=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem("selectedViewsSaved",JSON.stringify(r)),0===W.filter(e=>"technical"===e.type).filter(e=>r.includes(e.name)).length&&E&&(I(!1),localStorage.setItem("showTechnicalViews",JSON.stringify(!1))),r})})},[W,E]),K=(0,f.useCallback)(()=>{(0,f.startTransition)(()=>{I(e=>{var t,a,n,l,i;let o=!e;localStorage.setItem("showTechnicalViews",JSON.stringify(o));let s=((null==r||null==(i=r.data)||null==(l=i.results)||null==(n=l[0])||null==(a=n.result)||null==(t=a.data)?void 0:t.filter(e=>"technical"===e.type))||[]).map(e=>e.name);return T(e=>{let t;return t=o?[...new Set([...e,...s])]:e.filter(e=>!s.includes(e)),localStorage.setItem("selectedViewsSaved",JSON.stringify(t)),t}),o})})},[r]),X=(0,f.useCallback)(()=>{let e=!S;z(e),localStorage.setItem("autoColumns",JSON.stringify(e)),e&&(0,f.startTransition)(()=>{Z(H())})},[S,H,Z]),$=(0,f.useCallback)(e=>{g(async()=>{if(e.name.endsWith("class_attribute_field")){var a,n;await L.mutateAsync({node:null==r||null==(a=r.data)?void 0:a.node_id}),t("/add-node/form/".concat(null==r||null==(n=r.data)?void 0:n.node_id))}else w(!0),y(e)})},[y,g,L,r,t]),en=(0,f.useCallback)(()=>{w(!1),setTimeout(()=>y(null),200)},[y]),el=(0,f.useCallback)(()=>{(0,f.startTransition)(()=>{Z(e=>Math.min(e+1,B.length))})},[B.length,Z]),ei=(0,f.useCallback)(()=>{(0,f.startTransition)(()=>{Z(e=>Math.max(e-1,1))})},[Z]);if(n)return(0,a.jsx)(i.ZP,{children:(0,a.jsx)(o.vj.Page,{})});if(l||!r||!r.data||!r.data.results)return(0,a.jsx)(i.ZP,{children:(0,a.jsx)(x.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",padding:3,bgcolor:"#2e3b55"},children:(0,a.jsxs)(x.Z,{sx:{bgcolor:"#fff3e0",p:3,borderRadius:2,color:"#ef6c00",textAlign:"center",maxWidth:"500px"},children:[(0,a.jsx)(p.Z,{variant:"h6",gutterBottom:!0,children:"Failed to Load Data"}),(0,a.jsx)(p.Z,{variant:"body2",sx:{mb:2},children:(null==l?void 0:l.message)||"Data is null or unavailable."}),(0,a.jsx)(h.Z,{variant:"contained",onClick:()=>window.location.reload(),sx:{mt:1},children:"Retry"})]})})});let ev=m||C||_||V;return(0,a.jsx)(i.ZP,{children:(0,a.jsxs)(x.Z,{sx:{padding:{xs:"8px",sm:"16px",md:"40px"},maxWidth:"100%",margin:"0 auto",bgcolor:"#2e3b55",minHeight:"100vh",zIndex:1,opacity:ev?.8:1,transition:"opacity 0.2s ease-in-out"},className:"home-page",children:[(0,a.jsx)(u.Z,{elevation:2,sx:{p:{xs:2,sm:3},mb:{xs:2,sm:4},borderRadius:3,bgcolor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:(0,a.jsxs)(x.Z,{sx:{display:"flex",flexDirection:{xs:"column",lg:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",lg:"center"},gap:{xs:2,sm:3}},children:[(0,a.jsxs)(x.Z,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:3},alignItems:{xs:"flex-start",sm:"center"},flex:1},children:[(0,a.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,a.jsx)(h.Z,{variant:"outlined",startIcon:(0,a.jsx)(et.Z,{}),onClick:J,disabled:ev,sx:{borderColor:"#90caf9",color:"#1976d2",textTransform:"none",borderRadius:2,"&:hover":{borderColor:"#42a5f5",bgcolor:"rgba(25, 118, 210, 0.04)"}},children:"S\xe9lection des vues"}),(0,a.jsx)(eo.Z,{anchorEl:N,open:!!N,onClose:Y,PaperProps:{sx:{maxHeight:{xs:300,sm:400},maxWidth:{xs:"90vw",sm:350},mt:1,borderRadius:2,boxShadow:e.shadows[8]}},children:B.map(e=>(0,a.jsx)(es.Z,{sx:{py:1,px:2,borderRadius:1,mx:1,mb:.5,"&:hover":{bgcolor:"primary.50"}},children:(0,a.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",width:"100%"},onClick:()=>G(e.name),children:[(0,a.jsx)(ec.Z,{checked:F.includes(e.name),sx:{color:"#90caf9","&.Mui-checked":{color:"#90caf9"}}}),(0,a.jsx)(ed.Z,{primary:e.pretty_name,secondary:"technical"===e.type?"Technique":""})]})},e.name))})]}),(0,a.jsx)(eu.Z,{control:(0,a.jsx)(ex.Z,{checked:E,onChange:K,disabled:ev,color:"primary"}),label:"Vues techniques",sx:{"& .MuiFormControlLabel-label":{fontSize:{xs:"0.875rem",sm:"1rem"},color:"text.primary"}}}),(0,a.jsx)(ep.Z,{orientation:"vertical",flexItem:!0,sx:{display:{xs:"none",sm:"block"}}}),(0,a.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,a.jsx)(eu.Z,{control:(0,a.jsx)(ex.Z,{checked:S,onChange:X,color:"primary"}),label:"Auto colonnes",sx:{"& .MuiFormControlLabel-label":{fontSize:{xs:"0.875rem",sm:"1rem"},color:"text.primary",fontWeight:S?600:400},px:2,py:1,borderRadius:2,bgcolor:S?"primary.50":"grey.50",transition:"all 0.2s ease-in-out"}}),!S&&(0,a.jsxs)(em.Z,{variant:"outlined",size:"small",disabled:ev,sx:{"& .MuiButton-root":{minWidth:{xs:32,sm:40},fontSize:{xs:"0.75rem",sm:"0.875rem"},borderColor:"#90caf9",color:"#1976d2","&:hover":{borderColor:"#42a5f5",bgcolor:"rgba(25, 118, 210, 0.04)"}}},children:[(0,a.jsx)(h.Z,{onClick:ei,disabled:1===k,children:(0,a.jsx)(er.Z,{fontSize:"small"})}),(0,a.jsx)(h.Z,{disabled:!0,sx:{cursor:"default"},children:k}),(0,a.jsx)(h.Z,{onClick:el,disabled:k===B.length,children:(0,a.jsx)(ea.Z,{fontSize:"small"})})]})]})]}),(0,a.jsx)(h.Z,{variant:"contained",startIcon:(0,a.jsx)(ea.Z,{}),onClick:()=>t("/add-node"),disabled:ev,sx:{px:3,py:1.5,borderRadius:2,textTransform:"none",fontSize:"1rem",fontWeight:600,boxShadow:e.shadows[3],"&:hover":{boxShadow:e.shadows[6],transform:"translateY(-1px)"},transition:"all 0.2s ease-in-out"},children:"Nouveau nœud"})]})}),(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(o.vj.Grid,{columns:k,count:6}),children:(0,a.jsx)(ey,{views:B,selectedViews:F,columns:k,onViewToggle:G,onViewExpand:$})}),ev&&(0,a.jsx)(x.Z,{sx:{position:"fixed",bottom:24,right:24,zIndex:1400},children:(0,a.jsx)(v.Z,{})}),(0,a.jsxs)(eh.Z,{open:j,onClose:en,maxWidth:"lg",fullWidth:!0,"aria-labelledby":"expanded-view-title",PaperProps:{sx:{height:"90vh",maxHeight:"90vh",borderRadius:3,overflow:"hidden"}},TransitionProps:{timeout:300},children:[(0,a.jsxs)(eg.Z,{id:"expanded-view-title",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #e0e0e0",bgcolor:"primary.50",py:2},children:[(0,a.jsx)(p.Z,{variant:"h6",sx:{fontWeight:600},children:(null==b?void 0:b.pretty_name)||"Vue agrandie"}),(0,a.jsx)(U.Z,{onClick:en,"aria-label":"Fermer la vue agrandie",sx:{"&:hover":{bgcolor:"primary.100"}},children:(0,a.jsx)(ee.Z,{})})]}),(0,a.jsx)(ef.Z,{sx:{p:0,height:"100%"},children:b&&j&&(0,a.jsx)(f.Suspense,{fallback:(0,a.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%",gap:2},children:[(0,a.jsx)(v.Z,{size:48}),(0,a.jsxs)(p.Z,{variant:"body1",color:"text.secondary",children:["Chargement de ",b.pretty_name,"..."]})]}),children:(0,a.jsx)(Q,{viewId:b.name,sx:{height:"100%",overflow:"auto"}})})})]})]})})})},22826:function(e,t,r){r.d(t,{Z:()=>n});var a=r(67294);let n=e=>{let t="undefined"!=typeof document,r=(0,a.useRef)(t?document.title:null);(0,a.useEffect)(()=>{if(t)return document.title!==e&&(document.title=e),()=>{null!==r.current&&(document.title=r.current)}},[t,e])}}}]);
//# sourceMappingURL=2348.8feb010c.js.map