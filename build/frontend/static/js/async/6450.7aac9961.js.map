{"version":3,"file":"static/js/async/6450.7aac9961.js","sources":["webpack://login_page/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-ANTBXLJU.mjs","webpack://login_page/./node_modules/mermaid/dist/chunks/mermaid.core/pieDiagram-DBDJKBY4.mjs"],"sourcesContent":["import {\n  __name\n} from \"./chunk-VIW5F6AA.mjs\";\n\n// src/diagrams/common/populateCommonDb.ts\nfunction populateCommonDb(ast, db) {\n  if (ast.accDescr) {\n    db.setAccDescription?.(ast.accDescr);\n  }\n  if (ast.accTitle) {\n    db.setAccTitle?.(ast.accTitle);\n  }\n  if (ast.title) {\n    db.setDiagramTitle?.(ast.title);\n  }\n}\n__name(populateCommonDb, \"populateCommonDb\");\n\nexport {\n  populateCommonDb\n};\n","import {\n  populateCommonDb\n} from \"./chunk-ANTBXLJU.mjs\";\nimport {\n  cleanAndMerge,\n  parseFontSize\n} from \"./chunk-U37J5Y7L.mjs\";\nimport {\n  selectSvgElement\n} from \"./chunk-T57MJCP2.mjs\";\nimport {\n  __name,\n  clear,\n  configureSvgSize,\n  defaultConfig_default,\n  getAccDescription,\n  getAccTitle,\n  getConfig2 as getConfig,\n  getDiagramTitle,\n  log,\n  setAccDescription,\n  setAccTitle,\n  setDiagramTitle\n} from \"./chunk-VIW5F6AA.mjs\";\n\n// src/diagrams/pie/pieParser.ts\nimport { parse } from \"@mermaid-js/parser\";\n\n// src/diagrams/pie/pieDb.ts\nvar DEFAULT_PIE_CONFIG = defaultConfig_default.pie;\nvar DEFAULT_PIE_DB = {\n  sections: /* @__PURE__ */ new Map(),\n  showData: false,\n  config: DEFAULT_PIE_CONFIG\n};\nvar sections = DEFAULT_PIE_DB.sections;\nvar showData = DEFAULT_PIE_DB.showData;\nvar config = structuredClone(DEFAULT_PIE_CONFIG);\nvar getConfig2 = /* @__PURE__ */ __name(() => structuredClone(config), \"getConfig\");\nvar clear2 = /* @__PURE__ */ __name(() => {\n  sections = /* @__PURE__ */ new Map();\n  showData = DEFAULT_PIE_DB.showData;\n  clear();\n}, \"clear\");\nvar addSection = /* @__PURE__ */ __name(({ label, value }) => {\n  if (value < 0) {\n    throw new Error(\n      `\"${label}\" has invalid value: ${value}. Negative values are not allowed in pie charts. All slice values must be >= 0.`\n    );\n  }\n  if (!sections.has(label)) {\n    sections.set(label, value);\n    log.debug(`added new section: ${label}, with value: ${value}`);\n  }\n}, \"addSection\");\nvar getSections = /* @__PURE__ */ __name(() => sections, \"getSections\");\nvar setShowData = /* @__PURE__ */ __name((toggle) => {\n  showData = toggle;\n}, \"setShowData\");\nvar getShowData = /* @__PURE__ */ __name(() => showData, \"getShowData\");\nvar db = {\n  getConfig: getConfig2,\n  clear: clear2,\n  setDiagramTitle,\n  getDiagramTitle,\n  setAccTitle,\n  getAccTitle,\n  setAccDescription,\n  getAccDescription,\n  addSection,\n  getSections,\n  setShowData,\n  getShowData\n};\n\n// src/diagrams/pie/pieParser.ts\nvar populateDb = /* @__PURE__ */ __name((ast, db2) => {\n  populateCommonDb(ast, db2);\n  db2.setShowData(ast.showData);\n  ast.sections.map(db2.addSection);\n}, \"populateDb\");\nvar parser = {\n  parse: /* @__PURE__ */ __name(async (input) => {\n    const ast = await parse(\"pie\", input);\n    log.debug(ast);\n    populateDb(ast, db);\n  }, \"parse\")\n};\n\n// src/diagrams/pie/pieStyles.ts\nvar getStyles = /* @__PURE__ */ __name((options) => `\n  .pieCircle{\n    stroke: ${options.pieStrokeColor};\n    stroke-width : ${options.pieStrokeWidth};\n    opacity : ${options.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${options.pieOuterStrokeColor};\n    stroke-width: ${options.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${options.pieTitleTextSize};\n    fill: ${options.pieTitleTextColor};\n    font-family: ${options.fontFamily};\n  }\n  .slice {\n    font-family: ${options.fontFamily};\n    fill: ${options.pieSectionTextColor};\n    font-size:${options.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${options.pieLegendTextColor};\n    font-family: ${options.fontFamily};\n    font-size: ${options.pieLegendTextSize};\n  }\n`, \"getStyles\");\nvar pieStyles_default = getStyles;\n\n// src/diagrams/pie/pieRenderer.ts\nimport { arc, pie as d3pie, scaleOrdinal } from \"d3\";\nvar createPieArcs = /* @__PURE__ */ __name((sections2) => {\n  const sum = [...sections2.values()].reduce((acc, val) => acc + val, 0);\n  const pieData = [...sections2.entries()].map(([label, value]) => ({ label, value })).filter((d) => d.value / sum * 100 >= 1).sort((a, b) => b.value - a.value);\n  const pie = d3pie().value((d) => d.value);\n  return pie(pieData);\n}, \"createPieArcs\");\nvar draw = /* @__PURE__ */ __name((text, id, _version, diagObj) => {\n  log.debug(\"rendering pie chart\\n\" + text);\n  const db2 = diagObj.db;\n  const globalConfig = getConfig();\n  const pieConfig = cleanAndMerge(db2.getConfig(), globalConfig.pie);\n  const MARGIN = 40;\n  const LEGEND_RECT_SIZE = 18;\n  const LEGEND_SPACING = 4;\n  const height = 450;\n  const pieWidth = height;\n  const svg = selectSvgElement(id);\n  const group = svg.append(\"g\");\n  group.attr(\"transform\", \"translate(\" + pieWidth / 2 + \",\" + height / 2 + \")\");\n  const { themeVariables } = globalConfig;\n  let [outerStrokeWidth] = parseFontSize(themeVariables.pieOuterStrokeWidth);\n  outerStrokeWidth ??= 2;\n  const textPosition = pieConfig.textPosition;\n  const radius = Math.min(pieWidth, height) / 2 - MARGIN;\n  const arcGenerator = arc().innerRadius(0).outerRadius(radius);\n  const labelArcGenerator = arc().innerRadius(radius * textPosition).outerRadius(radius * textPosition);\n  group.append(\"circle\").attr(\"cx\", 0).attr(\"cy\", 0).attr(\"r\", radius + outerStrokeWidth / 2).attr(\"class\", \"pieOuterCircle\");\n  const sections2 = db2.getSections();\n  const arcs = createPieArcs(sections2);\n  const myGeneratedColors = [\n    themeVariables.pie1,\n    themeVariables.pie2,\n    themeVariables.pie3,\n    themeVariables.pie4,\n    themeVariables.pie5,\n    themeVariables.pie6,\n    themeVariables.pie7,\n    themeVariables.pie8,\n    themeVariables.pie9,\n    themeVariables.pie10,\n    themeVariables.pie11,\n    themeVariables.pie12\n  ];\n  let sum = 0;\n  sections2.forEach((section) => {\n    sum += section;\n  });\n  const filteredArcs = arcs.filter((datum) => (datum.data.value / sum * 100).toFixed(0) !== \"0\");\n  const color = scaleOrdinal(myGeneratedColors);\n  group.selectAll(\"mySlices\").data(filteredArcs).enter().append(\"path\").attr(\"d\", arcGenerator).attr(\"fill\", (datum) => {\n    return color(datum.data.label);\n  }).attr(\"class\", \"pieCircle\");\n  group.selectAll(\"mySlices\").data(filteredArcs).enter().append(\"text\").text((datum) => {\n    return (datum.data.value / sum * 100).toFixed(0) + \"%\";\n  }).attr(\"transform\", (datum) => {\n    return \"translate(\" + labelArcGenerator.centroid(datum) + \")\";\n  }).style(\"text-anchor\", \"middle\").attr(\"class\", \"slice\");\n  group.append(\"text\").text(db2.getDiagramTitle()).attr(\"x\", 0).attr(\"y\", -(height - 50) / 2).attr(\"class\", \"pieTitleText\");\n  const allSectionData = [...sections2.entries()].map(([label, value]) => ({\n    label,\n    value\n  }));\n  const legend = group.selectAll(\".legend\").data(allSectionData).enter().append(\"g\").attr(\"class\", \"legend\").attr(\"transform\", (_datum, index) => {\n    const height2 = LEGEND_RECT_SIZE + LEGEND_SPACING;\n    const offset = height2 * allSectionData.length / 2;\n    const horizontal = 12 * LEGEND_RECT_SIZE;\n    const vertical = index * height2 - offset;\n    return \"translate(\" + horizontal + \",\" + vertical + \")\";\n  });\n  legend.append(\"rect\").attr(\"width\", LEGEND_RECT_SIZE).attr(\"height\", LEGEND_RECT_SIZE).style(\"fill\", (d) => color(d.label)).style(\"stroke\", (d) => color(d.label));\n  legend.append(\"text\").attr(\"x\", LEGEND_RECT_SIZE + LEGEND_SPACING).attr(\"y\", LEGEND_RECT_SIZE - LEGEND_SPACING).text((d) => {\n    if (db2.getShowData()) {\n      return `${d.label} [${d.value}]`;\n    }\n    return d.label;\n  });\n  const longestTextWidth = Math.max(\n    ...legend.selectAll(\"text\").nodes().map((node) => node?.getBoundingClientRect().width ?? 0)\n  );\n  const totalWidth = pieWidth + MARGIN + LEGEND_RECT_SIZE + LEGEND_SPACING + longestTextWidth;\n  svg.attr(\"viewBox\", `0 0 ${totalWidth} ${height}`);\n  configureSvgSize(svg, height, totalWidth, pieConfig.useMaxWidth);\n}, \"draw\");\nvar renderer = { draw };\n\n// src/diagrams/pie/pieDiagram.ts\nvar diagram = {\n  parser,\n  db,\n  renderer,\n  styles: pieStyles_default\n};\nexport {\n  diagram\n};\n"],"names":["Map","structuredClone","Error","p","Math"],"mappings":"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"}