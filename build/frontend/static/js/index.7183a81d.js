(()=>{"use strict";var e={60448:function(e,t,a){var r=a(85893),n=a(67294),s=a(20745),o=a(33988),l=a(417),i=a(68827),c=a(3058),d=a(14578),f=a(83525),m=a(63760),u=a(80430);let p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URLSearchParams({...t}).toString(),r=a?`?${a}`:"",n=`https://localhost:8080/api/${e}${r}`;return(0,f.a)({queryKey:["apiData",e,t],queryFn:()=>u.Z.get(n,{withCredentials:!0}),retry:2,staleTime:6e4,onError:t=>{console.error(`API request failed for ${e}:`,t)}})},h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,m.D)({mutationFn:t=>{let a=t;if("object"==typeof t)for(let e in a=new URLSearchParams,t)t.hasOwnProperty(e)&&a.append(e,t[e]);return u.Z.get(`https://localhost:8080/api/${e}?${a||""}`,{withCredentials:!0})},...t})};var x=a(23802);let b=(0,c.Z)({cssVariables:!0,colorSchemes:{dark:!1}});function g(e){return{kind:"page",title:e.endpoint,segment:`information/${e.endpoint.replaceAll(" ","_")}`,icon:(0,r.jsx)(x.Z,{})}}var j=a(922);let y=a.p+"static/image/i3S_RVB_Couleur.eaa939af.png",v=e=>{let t,a,r=(0,i.c)(3),s="undefined"!=typeof document,o=n.useRef(s?document.title:null);r[0]!==e?(t=()=>{if(s)return document.title!==e&&(document.title=e),()=>{document.title=o.current}},a=[s,e],r[0]=e,r[1]=t,r[2]=a):(t=r[1],a=r[2]),n.useEffect(t,a)};var S=a(99469);function w(e){return!e}var _=a(25678),k=a(60311),N=a(20533),Z=a(33991),C=a(13400),O=a(99782),A=a(94018),I=a(73876),E=a(54757),D=a(7230),$=a(1854),P=a(81035),R=a(8523),z=a(89717),L=a(32153),T=a(61215),W=a(55237),F=a(19410),U=a(11419),H=a(80372),M=a(89425),J=a(77012),B=a(17563),V=a(75812);let q=e=>{let t=(0,i.c)(10),{code:a,language:n}=e;if(a.length>5e4){let e,n,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={whiteSpace:"pre-wrap",padding:"10px",borderRadius:"5px"},t[0]=e):e=t[0],t[1]!==a?(n=a.trim(),t[1]=a,t[2]=n):n=t[2],t[3]!==n?(s=(0,r.jsx)("code",{style:e,children:n}),t[3]=n,t[4]=s):s=t[4],s}{let e,s;return t[5]!==a?(e=a.trim(),t[5]=a,t[6]=e):e=t[6],t[7]!==n||t[8]!==e?(s=(0,r.jsx)(V.ZP,{language:n,theme:"material-theme-lighter",children:e}),t[7]=n,t[8]=e,t[9]=s):s=t[9],s}};var G=a(15648),Q=a(80632),Y=a(50305),K=a(63744),X=a(55327),ee=a(92566),et=a(73892),ea=a(87506),er=a(68569);a(50110);let en=e=>{let t,a,s,o,l,c,d,f,m,u,p,h=(0,i.c)(17),{data:x}=e,[b,g]=(0,n.useState)("csv");h[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{g(e.target.value)},h[0]=t):t=h[0];let j=t;if(h[1]!==x||h[2]!==b){a=()=>{"csv"===b?e(x):"json"===b?t(x):"pdf"===b&&r(x)};let e=eo,t=el,r=ec;h[1]=x,h[2]=b,h[3]=a}else a=h[3];return h[4]===Symbol.for("react.memo_cache_sentinel")?(s={minWidth:100,marginRight:2},o=(0,r.jsx)(ee.Z,{id:"format-select-label",children:"Format"}),h[4]=s,h[5]=o):(s=h[4],o=h[5]),h[6]===Symbol.for("react.memo_cache_sentinel")?(l={"& .MuiSelect-icon":{paddingLeft:"5rem"}},c=(0,r.jsx)(I.Z,{value:"csv",children:"CSV"}),d=(0,r.jsx)(I.Z,{value:"json",children:"JSON"}),f=(0,r.jsx)(I.Z,{value:"pdf",children:"PDF"}),h[6]=l,h[7]=c,h[8]=d,h[9]=f):(l=h[6],c=h[7],d=h[8],f=h[9]),h[10]!==b?(m=(0,r.jsxs)(et.Z,{variant:"outlined",sx:s,children:[o,(0,r.jsxs)(ea.Z,{labelId:"format-select-label",value:b,onChange:j,label:"Format",sx:l,children:[c,d,f]})]}),h[10]=b,h[11]=m):m=h[11],h[12]!==a?(u=(0,r.jsx)(D.Z,{className:"custom-export-button",variant:"contained",color:"primary",onClick:a,children:"Exporter"}),h[12]=a,h[13]=u):u=h[13],h[14]!==m||h[15]!==u?(p=(0,r.jsxs)("div",{className:"export-button-container",children:[m,u]}),h[14]=m,h[15]=u,h[16]=p):p=h[16],p};function es(e){return Object.values(e).join(",")}function eo(e){let t=new Blob([[Object.keys(e[0]).join(","),...e.map(es)].join("\n")],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.setAttribute("download","export.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}function el(e){let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json;charset=utf-8;"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.setAttribute("download","export.json"),document.body.appendChild(r),r.click(),document.body.removeChild(r)}function ei(e){return Object.values(e)}function ec(e){let t=new er.kH;if(!e||0===e.length)return void console.error("Aucune donn\xe9e \xe0 exporter");let a=[Object.keys(e[0])],r=e.map(ei);t.autoTable({head:a,body:r,startY:20,styles:{fontSize:10},headStyles:{fillColor:[48,109,173]}}),t.save("export.pdf")}a(93162);var ed=a(96685);a(25217);var ef=a(63852),em=a(32206);let eu={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"800px",maxHeight:"80vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,display:"flex",flexDirection:"column",overflow:"hidden"},ep={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},eh={overflowY:"auto",maxHeight:"calc(80vh - 100px)",width:"100%",scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},ex=(0,n.memo)(e=>{let t,a,n,s,o,l,c,d,f,m,u,p,h=(0,i.c)(17),{data:x}=e;return h[0]===Symbol.for("react.memo_cache_sentinel")?(a={trigger:"axis",confine:!0},n=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],h[0]=a,h[1]=n):(a=h[0],n=h[1]),h[2]!==x?(s=x.map(ey),h[2]=x,h[3]=s):s=h[3],h[4]!==s?(o={data:s,orient:"vertical",right:10,top:"center"},h[4]=s,h[5]=o):o=h[5],h[6]===Symbol.for("react.memo_cache_sentinel")?(l={left:"5%",right:"15%",bottom:"10%",top:"10%",containLabel:!0},c={type:"value",name:"X Axis",nameLocation:"middle",nameGap:30},d={type:"value",name:"Y Axis",min:-1,max:1,nameLocation:"middle",nameGap:50},h[6]=l,h[7]=c,h[8]=d):(l=h[6],c=h[7],d=h[8]),h[9]!==x?(f=x.map(eS),h[9]=x,h[10]=f):f=h[10],h[11]!==o||h[12]!==f?(m={tooltip:a,color:n,legend:o,grid:l,xAxis:c,yAxis:d,series:f},h[11]=o,h[12]=f,h[13]=m):m=h[13],t=m,h[14]===Symbol.for("react.memo_cache_sentinel")?(u={height:"100%",minHeight:"300px",width:"100%"},h[14]=u):u=h[14],h[15]!==t?(p=(0,r.jsx)(ed.Z,{lazyUpdate:!0,option:t,style:u}),h[15]=t,h[16]=p):p=h[16],p}),eb=(0,n.memo)(e=>{let{prettyName:t,data:a,keys:s}=e,o=(0,n.useMemo)(()=>({tooltip:{confine:!0,trigger:"axis",axisPointer:{type:"shadow"}},grid:{containLabel:!1},xAxis:{data:s,axisLabel:{rotate:45,formatter:function(e){return e.length>10?e.substring(0,10)+"...":e}}},yAxis:{type:"value"},series:{name:t,type:"bar",data:s.map(e=>a[e]),emphasis:{focus:"series",blurScope:"coordinateSystem"},animationDuration:300}}),[a,s]);return(0,r.jsx)(ed.Z,{lazyUpdate:!0,option:o,style:{height:"100%",minHeight:"300px",width:"100%"}})}),eg=(0,n.memo)(e=>{let t,a,n,s,o,l,c,d,f,m,u,p,h,x,b,g,j=(0,i.c)(26),{data:y,onNodeClick:v}=e;j[0]===Symbol.for("react.memo_cache_sentinel")?(a={text:"Database graph",subtext:"Default layout",top:"bottom",left:"right"},n={},j[0]=a,j[1]=n):(a=j[0],n=j[1]),j[2]!==y.categories?(s=y.categories?y.categories.map(ew):[],j[2]=y.categories,j[3]=s):s=j[3],j[4]!==s?(o=[{data:s}],j[4]=s,j[5]=o):o=j[5],j[6]!==y.nodes?(l=y.nodes.map(e_),j[6]=y.nodes,j[7]=l):l=j[7],j[8]===Symbol.for("react.memo_cache_sentinel")?(c={position:"right",formatter:"{b}"},d={color:"source",curveness:.3},j[8]=c,j[9]=d):(c=j[8],d=j[9]),j[10]===Symbol.for("react.memo_cache_sentinel")?(f={focus:"adjacency",lineStyle:{width:10}},j[10]=f):f=j[10],j[11]!==y.categories||j[12]!==y.links||j[13]!==l?(m=[{type:"graph",legendHoverLink:!1,layout:"force",data:l,links:y.links,categories:y.categories,roam:!0,label:c,lineStyle:d,emphasis:f}],j[11]=y.categories,j[12]=y.links,j[13]=l,j[14]=m):m=j[14],j[15]!==m||j[16]!==o?(u={title:a,tooltip:n,legend:o,animationDuration:1500,animationEasingUpdate:"quinticInOut",series:m},j[15]=m,j[16]=o,j[17]=u):u=j[17],t=u,j[18]!==v?(p=e=>{e&&("node"===e.dataType&&v?v({id:e.data.id},{preventDefault:()=>{console.log(e.data)},stopPropagation:ek}):"edge"===e.dataType&&v&&v({id:e.data.target.split("@")[1].split("(")[0]},{preventDefault:eN,stopPropagation:eZ}))},j[18]=v,j[19]=p):p=j[19];let S=p;return j[20]!==S?(x={click:S},j[20]=S,j[21]=x):x=j[21],h=x,j[22]===Symbol.for("react.memo_cache_sentinel")?(b={height:"100%",minHeight:"400px",width:"100%"},j[22]=b):b=j[22],j[23]!==h||j[24]!==t?(g=(0,r.jsx)(ed.Z,{lazyUpdate:!0,option:t,style:b,onEvents:h}),j[23]=h,j[24]=t,j[25]=g):g=j[25],g}),ej=e=>{let{viewId:t,sx:a}=e,{data:s,isLoading:o,error:l,refetch:i}=p(t),c=(0,n.useRef)(null),d=(0,S.NL)(),[f,m]=(0,n.useState)(!1),[u,x]=(0,n.useTransition)(),[b,g]=(0,n.useState)("#ffffff"),j=h("update_colour"),y=(0,n.useCallback)(e=>{g(e.hex),j.mutate({view_id:t,value:e.hex})},[j,t]),v=e=>{e.stopPropagation(),x(()=>{m(!0)})},w=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e?JSON.stringify(e,null,"tab"===t?"	":t):""},[]),_=e=>{e.stopPropagation(),x(()=>{m(!1)})},k=h("jump",{onSuccess:async()=>{await d.invalidateQueries()}}),N=(0,n.useCallback)(e=>{k.mutate(`node_id=${e}`)},[k]);(0,n.useEffect)(()=>{if(!s)return;let{data:e}=s;e?.results?.[0]?.result&&"text/dot"===e.results[0].result.contentType&&c.current&&(0,B.f)(c.current,{engine:"dot",fit:!0,zoom:!0}).tweenPaths(!1).tweenShapes(!1).renderDot(e.results[0].result.data)},[s]);let C=(0,n.useMemo)(()=>a?.bgcolor||"transparent",[a?.bgcolor]),O=(0,n.useCallback)(e=>{if(!e)return[];let t=[];for(let a of Object.keys(e)){let r=e?.[a]||{},n={id:a,data:r.map(e=>{let t=Object.keys(e)[0];return{x:parseFloat(t),y:parseFloat(e[t])}})};t.push(n)}return t},[]),A=(0,n.useCallback)(e=>{if(!e)return{};let t={};for(let a of Object.values(e))for(let e of Object.keys(a))t[e]=a?.[e]||{};return t},[]),I=(0,n.useCallback)(e=>{if(!e||0===Object.values(e).length)return[];let t=new Set;return Object.values(e).forEach(e=>{Object.keys(e).forEach(e=>t.add(e))}),Array.from(t).sort()},[]),$=(0,n.useCallback)(e=>{if(!e||!e.nodes)return{nodes:[],links:[]};let t=new Map;e.nodes.forEach(e=>{let a={...e,id:e.label};t.has(a.id)||t.set(a.id,a)});let a=e.links.map(e=>({...e,target:e.target.label,source:e.source.label}));return{nodes:Array.from(t.values()),links:a}},[]),R=(0,n.useCallback)((e,t)=>{t&&(t.preventDefault(),t.stopPropagation()),e&&e.id&&N(e.id.includes("@")?e.id.split("@")[1]:e.id)},[N]),W=(0,n.useCallback)((e,a)=>{if(!e)return(0,r.jsx)("div",{className:"error-message",children:"No content available."});if("text/json"===a)if("show_out"===t)return Array.isArray(e)?0===e.length?(0,r.jsx)(E.Z,{sx:{p:2},children:"No output nodes connected."}):(0,r.jsx)(Z.Z,{sx:{p:1,display:"flex",flexWrap:"wrap",gap:2},children:e.map(e=>{let t=e.mimeType?.startsWith("image/")&&e.value,a=e.hasOwnProperty("value")&&null!==e.value&&void 0!==e.value;return(0,r.jsxs)(L.Z,{sx:{minWidth:275,maxWidth:350,display:"flex",flexDirection:"column"},children:[(0,r.jsxs)(z.Z,{sx:{flexGrow:1},children:[(0,r.jsx)(E.Z,{variant:"h6",component:"div",sx:{wordBreak:"break-word"},children:e.name}),t&&(0,r.jsx)(G.Z,{component:"img",sx:{maxHeight:200,width:"auto",objectFit:"contain",mt:1,border:"1px solid #eee"},image:`data:${e.mimeType};base64,${e.value}`,alt:`Output value for ${e.name}`}),!t&&a&&(0,r.jsx)(E.Z,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",wordBreak:"break-all",mt:1,p:1,backgroundColor:"#f5f5f5",borderRadius:1},children:"object"==typeof e.value?JSON.stringify(e.value,null,2):String(e.value)}),!a&&!t&&(0,r.jsx)(E.Z,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:"(No displayable value)"})]}),"true"===e.editable&&(0,r.jsx)(Q.Z,{children:(0,r.jsx)(D.Z,{size:"small",onClick:t=>{t.stopPropagation(),console.log(`Edit action triggered for node ${e.id} (name: ${e.name})`),alert(`Edit action for: ${e.name} (ID: ${e.id}) - Not implemented yet.`)},children:"Edit"})})]},e.id)})}):(0,r.jsxs)(E.Z,{sx:{p:2},color:"error",children:["Error: Expected an array for 'show_out' data, but received type ",typeof e,"."]});else if("char_example_xy"===t){let t=O(e);return(0,r.jsx)("div",{className:"graph",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(T.Z,{}),children:(0,r.jsx)(ex,{data:t})})})}else if(t.endsWith("_distribution")){let t=A(e),a=I(e),s=U?.results?.[0]?.pretty_name;return(0,r.jsx)("div",{className:"graph",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(T.Z,{}),children:(0,r.jsx)(eb,{prettyName:s,data:t,keys:a})})})}else if(t.endsWith("nivo_view")){let t=$(e);return(0,r.jsx)("div",{className:"graph",onClick:e=>{e.stopPropagation(),e.preventDefault()},children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(T.Z,{}),children:(0,r.jsx)(eg,{data:t,onNodeClick:R})})})}else if("bnode_navigator"===t)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Z.Z,{sx:{mb:2},children:Object.keys(e.ins).map(t=>(0,r.jsxs)(D.Z,{onClick:a=>{a.stopPropagation(),a.preventDefault(),N(e.ins[t])},variant:"contained",sx:{bgcolor:"#3949ab",color:"#fff",mr:1,mb:1,"&:hover":{bgcolor:"#5c6bc0"}},children:[t," (",e.ins[t],")"]},t))}),(0,r.jsx)(Z.Z,{sx:{paddingY:"10px"},children:Object.keys(e.outs).map(t=>(0,r.jsxs)(D.Z,{onClick:a=>{a.stopPropagation(),a.preventDefault(),N(e.outs[t])},variant:"contained",sx:{bgcolor:"#00897b",color:"#fff",mr:1,mb:1,"&:hover":{bgcolor:"#26a69a"}},children:[t," (",e.outs[t],")"]},t))})]});else return(0,r.jsx)("div",{className:"content-container",style:{background:C},children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(T.Z,{}),children:(0,r.jsx)(ef.gc,{data:e,shouldExpandNode:ef.T})})});if("text/dot"===a)return(0,r.jsx)("div",{className:"content-container graphviz-container",style:{background:C},children:(0,r.jsx)("div",{ref:c})});if("text/html"===a)return(0,r.jsx)("div",{className:"content-container html-content",style:{background:C},children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:e}})});if("image/svg"===a)return(0,r.jsx)("div",{className:"content-container",style:{background:"transparent"},children:(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:e},style:{background:"transparent"}})});if("image/svg+xml"===a)return(0,r.jsx)("div",{className:"content-container",style:{background:"transparent"},children:(0,r.jsx)("img",{src:`data:image/svg+xml;base64,${e}`,alt:"Graphviz",style:{background:"transparent"}})});else if("text/plain"===a)return(0,r.jsx)("div",{className:"content-container",style:{background:C},children:(0,r.jsx)("pre",{children:e})});else if("image/png"===a||"image/jpeg"===a)return(0,r.jsx)("div",{className:"content-container",style:{background:C},children:(0,r.jsx)("img",{src:`data:${a};base64,${e}`,alt:"Content"})});else if("image/jsondot"===a)return(0,r.jsx)("div",{className:"content-container",style:{background:C},children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(T.Z,{}),children:(0,r.jsx)(ef.gc,{data:e})})});else if("text/java"===a)return(0,r.jsx)("div",{className:"content-container",style:{background:C},children:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(T.Z,{}),children:(0,r.jsx)(q,{language:"java",code:e,style:{background:C}})})});else if("text/hex"===a)return(0,r.jsx)("div",{className:"content-container",style:{background:C},children:(0,r.jsx)(em.AI,{color:b,disableAlpha:!0,onChangeComplete:y})});else return(0,r.jsxs)("div",{className:"error-message",children:["Unsupported content type: ",a]})},[t,N,c,C,w]),F=(0,n.useMemo)(()=>e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Y.Z,{title:"Show Raw Backend Response",children:(0,r.jsx)(P.Z,{onClick:v,size:"small",sx:{position:"absolute",top:5,right:5,zIndex:10,width:30,height:30,color:"primary.main"},"aria-label":"Show raw JSON",disabled:null==e,children:(0,r.jsx)(X.Z,{})})}),(0,r.jsx)(K.Z,{open:f,onClose:_,"aria-labelledby":"raw-json-modal-title","aria-describedby":"raw-json-modal-description",children:(0,r.jsxs)(Z.Z,{sx:eu,children:[(0,r.jsxs)(Z.Z,{sx:ep,children:[(0,r.jsx)(E.Z,{id:"raw-json-modal-title",variant:"h6",component:"h2",children:"Raw Backend Response"}),(0,r.jsx)(P.Z,{onClick:_,"aria-label":"close",children:(0,r.jsx)(M.Z,{})})]}),(0,r.jsx)(Z.Z,{sx:eh,children:e?(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(T.Z,{}),children:(0,r.jsx)(ef.gc,{data:e})}):(0,r.jsx)(E.Z,{children:"No raw data available to display."})})]})})]}),[f,v,_,w]);if(o)return(0,r.jsxs)(Z.Z,{className:"view-container",sx:{position:"relative",padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px"},children:[F(s),(0,r.jsx)(T.Z,{})]});if(l)return(0,r.jsxs)(Z.Z,{className:"view-container information-page",sx:{position:"relative",padding:2},children:[F(s),(0,r.jsxs)("div",{className:"error-message",style:{marginTop:"40px"},children:["Error fetching data: ",l.message]})]});if(!s)return(0,r.jsxs)(Z.Z,{className:"view-container information-page",sx:{position:"relative",padding:2},children:[F(null),(0,r.jsx)("div",{className:"error-message",style:{marginTop:"40px"},children:"No data available."})]});let{data:U}=s;if(U?.results?.[0]?.error!==void 0)return(0,r.jsxs)(Z.Z,{className:"view-container information-page",sx:{position:"relative",padding:2},children:[F(s),(0,r.jsxs)("div",{className:"error-message",style:{marginTop:"40px"},children:["Backend Error: ",U.results[0].error]})]});let H=U?.results?.[0]?.result?.data,J=U?.results?.[0]?.result?.contentType;if(!H||!J)return(0,r.jsxs)(Z.Z,{className:"view-container information-page",sx:{position:"relative",padding:2},children:[F(H)||F(J),(0,r.jsx)("div",{className:"error-message",style:{marginTop:"40px"},children:"Result data or content type missing in the response."})]});let V=s.data.results[0].result.data;return(0,r.jsxs)(Z.Z,{className:"view-container",sx:{height:"100%",display:"flex",flexDirection:"column"},children:[F(V),(0,r.jsx)(Z.Z,{sx:{position:"relative",padding:2,flex:1,minHeight:"300px",display:"flex",flexDirection:"column",overflow:"hidden"},children:(0,r.jsx)(Z.Z,{sx:{mt:4,flex:1,overflow:"auto","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:W(H,J)})}),["text/csv","image/png","image/jpeg","application/pdf"].includes(J)&&(0,r.jsx)(Z.Z,{sx:{mt:2},children:(0,r.jsx)(en,{data:V,fileName:`view_${t}_data.csv`})})]})};function ey(e){return e.id}function ev(e){return[e.x,e.y]}function eS(e){return{name:e.id,type:"line",data:e.data.map(ev),showSymbol:!1,symbolSize:8,emphasis:{focus:"series"},animationDuration:300}}function ew(e){return e.name}function e_(e){return{id:e.id,name:e.label,symbolSize:e.size||30,itemStyle:{color:e.color||"#1f77b4"},label:{show:!1},x:e.x,y:e.y}}function ek(){}function eN(){}function eZ(){}var eC=a(18388),eO=a(80982);let eA=(0,n.memo)(e=>{let t,a,s,o,l,c,d,f,m,u,p,h,x,b,g,j,y,v,S,w,_=(0,i.c)(42),{view:k,onClick:N,dragHandleProps:C,handleViewToggle:O}=e,A="technical"===k.response_type?"#fff9c4":"#ffffff";_[0]!==A?(t={cursor:"pointer",aspectRatio:"1",border:"1px solid #e0e0e0",borderRadius:2,display:"flex",flexDirection:"column",bgcolor:A},_[0]=A,_[1]=t):t=_[1];let I="technical"===k.response_type?"#fff8b0":"#f5f5f5";_[2]!==I?(a={height:"40px",width:"100%",bgcolor:I,borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab"},_[2]=I,_[3]=a):a=_[3],_[4]===Symbol.for("react.memo_cache_sentinel")?(s={color:"#757575"},_[4]=s):s=_[4];let D=`${k.endpoint.replace(/_/g," ").replace(/(?:^|\s)\S/g,eI)} - ${k.what_is_this}`;_[5]!==D?(o=(0,r.jsx)(E.Z,{className:"DragHere",variant:"caption",sx:s,children:D}),_[5]=D,_[6]=o):o=_[6],_[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(J.Z,{}),_[7]=l):l=_[7],_[8]!==N?(c=(0,r.jsxs)("button",{className:"expand-card",onClick:N,"aria-label":"expand",children:[" ",l," "]}),_[8]=N,_[9]=c):c=_[9],_[10]!==O||_[11]!==k.endpoint?(d=e=>{O(k.endpoint)},_[10]=O,_[11]=k.endpoint,_[12]=d):d=_[12],_[13]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsx)(M.Z,{}),_[13]=f):f=_[13],_[14]!==d?(m=(0,r.jsxs)("button",{className:"erased-card",onClick:d,children:[" ",f," "]}),_[14]=d,_[15]=m):m=_[15],_[16]!==C||_[17]!==m||_[18]!==a||_[19]!==o||_[20]!==c?(u=(0,r.jsxs)(Z.Z,{...C,sx:a,children:[o,c,m]}),_[16]=C,_[17]=m,_[18]=a,_[19]=o,_[20]=c,_[21]=u):u=_[21],_[22]===Symbol.for("react.memo_cache_sentinel")?(p={xs:"12px",sm:"16px"},_[22]=p):p=_[22];let $="technical"===k.response_type?"#fff9c4":"#ffffff";return _[23]!==$?(h={padding:p,height:"calc(100% - 40px)",display:"flex",flexDirection:"column",overflow:"hidden",bgcolor:$},_[23]=$,_[24]=h):h=_[24],_[25]===Symbol.for("react.memo_cache_sentinel")?(x={width:"6px"},b={bgcolor:"#3f51b5",borderRadius:"3px"},g={bgcolor:"#e8eaf6"},_[25]=x,_[26]=b,_[27]=g):(x=_[25],b=_[26],g=_[27]),_[28]===Symbol.for("react.memo_cache_sentinel")?(j={flex:1,overflow:"auto",color:"#424242",msOverflowStyle:"none",scrollbarWidth:"thin",scrollbarColor:"#3f51b5 #e8eaf6","&::-webkit-scrollbar":x,"&::-webkit-scrollbar-thumb":b,"&::-webkit-scrollbar-track":g,wordBreak:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap",maxWidth:"100%",fontSize:{xs:"0.75rem",sm:"0.875rem"}},_[28]=j):j=_[28],_[29]!==k.endpoint||_[30]!==k.error||_[31]!==k.response_type?(y=k.error?k.error:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading view..."}),children:(0,r.jsx)(ej,{viewId:k.endpoint.replaceAll(" ","_"),sx:{bgcolor:"technical"===k.response_type?"#fff9c4":"#ffffff",width:"100%"}})}),_[29]=k.endpoint,_[30]=k.error,_[31]=k.response_type,_[32]=y):y=_[32],_[33]!==y?(v=(0,r.jsx)(Z.Z,{sx:j,children:y}),_[33]=y,_[34]=v):v=_[34],_[35]!==h||_[36]!==v?(S=(0,r.jsx)(z.Z,{sx:h,children:v}),_[35]=h,_[36]=v,_[37]=S):S=_[37],_[38]!==u||_[39]!==t||_[40]!==S?(w=(0,r.jsxs)(L.Z,{sx:t,children:[u,S]}),_[38]=u,_[39]=t,_[40]=S,_[41]=w):w=_[41],w});function eI(e){return e.toUpperCase()}function eE(){let e=localStorage.getItem("showTechnicalViews");return!!e&&JSON.parse(e)}function eD(e){return"technical"!==e.response_type}function e$(e){return e.endpoint}function eP(e){return"technical"===e.response_type}function eR(e){return"technical"===e.response_type}function ez(e){return e.endpoint}function eL(e){return e.endpoint}function eT(e){return Math.max(e-1,1)}function eW(e){return e.endpoint}var eF=a(84672),eU=a(95307),eH=a(51001),eM=a(93627);let eJ=(0,l.aj)([{Component:function(){let e,t,a,n,s=(0,i.c)(8),{data:o,isLoading:c,error:f}=p("");s[0]!==o||s[1]!==f||s[2]!==c?(e=c||f||!o?.data?.results?[{kind:"page",title:"Loading...",segment:"home",icon:(0,r.jsx)(x.Z,{})}]:o.data.results.map(g),s[0]=o,s[1]=f,s[2]=c,s[3]=e):e=s[3];let m=e;return s[4]===Symbol.for("react.memo_cache_sentinel")?(t={title:"",logo:(0,r.jsx)("img",{src:"/logo.svg",alt:"I3S",width:"100%",height:"100%",color:"inherit"}),homeUrl:"/home"},a=(0,r.jsx)(l.j3,{}),s[4]=t,s[5]=a):(t=s[4],a=s[5]),s[6]!==m?(n=(0,r.jsx)(d.C,{navigation:m,theme:b,branding:t,children:a}),s[6]=m,s[7]=n):n=s[7],n},children:[{path:"/",element:(0,r.jsx)(()=>{let e,t,a,s,o,c,d,f,m,u,p,x,b,g,_,k=(0,i.c)(34),[N,Z]=(0,n.useState)(""),[C,O]=(0,n.useState)(""),[A,I]=(0,n.useState)(!1),[E,D]=(0,n.useState)(""),$=(0,l.s0)(),P=(0,S.NL)();k[0]!==P?(e={onSuccess:async()=>{await P.invalidateQueries()}},k[0]=P,k[1]=e):e=k[1];let R=h("authenticate",e);v("Login"),k[2]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{I(w)},k[2]=t):t=k[2];let z=t;k[3]!==R||k[4]!==$||k[5]!==C||k[6]!==N?(a=async e=>{e.preventDefault();try{R.mutate({username:N,password:C},{onSuccess:e=>{$("/home")},onError:e=>{console.error(e),D("Failed to connect to the server")}})}catch(e){console.error(e),D("Failed to connect to the server")}},k[3]=R,k[4]=$,k[5]=C,k[6]=N,k[7]=a):a=k[7];let L=a;k[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)("img",{src:y,alt:"Logo"})}),k[8]=s):s=k[8];let T=`input-box ${N?"not-empty":""}`;k[9]===Symbol.for("react.memo_cache_sentinel")?(o=e=>Z(e.target.value),k[9]=o):o=k[9],k[10]!==N?(c=(0,r.jsx)("input",{type:"text",className:"input-field",placeholder:"Identifiant",value:N,onChange:o,required:!0}),k[10]=N,k[11]=c):c=k[11],k[12]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsx)(j.Xws,{className:"icon"}),k[12]=d):d=k[12],k[13]!==T||k[14]!==c?(f=(0,r.jsxs)("div",{className:T,children:[c,d]}),k[13]=T,k[14]=c,k[15]=f):f=k[15];let W=`input-box ${C?"not-empty":""}`,F=A?"text":"password";return k[16]===Symbol.for("react.memo_cache_sentinel")?(m=e=>O(e.target.value),k[16]=m):m=k[16],k[17]!==C||k[18]!==F?(u=(0,r.jsx)("input",{type:F,className:"input-field",placeholder:"Mot de passe",value:C,onChange:m,required:!0}),k[17]=C,k[18]=F,k[19]=u):u=k[19],k[20]!==A?(p=A?(0,r.jsx)(j.tgn,{className:"toggle-icon icon",onClick:z}):(0,r.jsx)(j.dSq,{className:"toggle-icon icon",onClick:z}),k[20]=A,k[21]=p):p=k[21],k[22]!==u||k[23]!==p||k[24]!==W?(x=(0,r.jsxs)("div",{className:W,children:[u,p]}),k[22]=u,k[23]=p,k[24]=W,k[25]=x):x=k[25],k[26]!==E?(b=E&&(0,r.jsx)("p",{className:"error-message",children:E}),k[26]=E,k[27]=b):b=k[27],k[28]===Symbol.for("react.memo_cache_sentinel")?(g=(0,r.jsx)("button",{type:"submit",children:(0,r.jsx)("span",{children:"Se connecter"})}),k[28]=g):g=k[28],k[29]!==L||k[30]!==x||k[31]!==b||k[32]!==f?(_=(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsxs)("form",{onSubmit:L,children:[s,f,x,b,g]})})}),k[29]=L,k[30]=x,k[31]=b,k[32]=f,k[33]=_):_=k[33],_},{})},{element:(0,r.jsx)(()=>{let e=(0,l.s0)(),{pathname:t}=(0,l.TH)(),[a,s]=(0,n.useState)(t.startsWith("/grid")?"grid":"default");t.startsWith("/grid");let[o,i]=(0,n.useState)(null),{data:c,isLoading:d,error:f}=p(""),{data:m,isLoading:u}=p("user_history"),x=(0,S.NL)(),b=h("jump",{onSuccess:async()=>{await x.invalidateQueries()}}),g=h("logout",{onSuccess:async()=>{await x.invalidateQueries(),e("/")}}),j=(0,n.useCallback)(e=>{b.mutate(`node_id=${e}`)},[]),y=e=>{j(e.id.toString())},v=async()=>{j("0"),g.mutate()},w=e=>i(e.currentTarget),z=()=>i(null),L=m?.data?.results?.[0].result.data??[],T=L.length>3?L.slice(-2):L,W=L[L.length-1];return(0,r.jsx)(Z.Z,{sx:{'& .MuiDrawer-root .MuiDrawer-paper, & [role="navigation"]':{"&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"}},children:(0,r.jsx)(_.c,{hideNavigation:!0,disableCollapsibleSidebar:!0,slots:{appTitle:()=>(0,r.jsxs)(C.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,r.jsx)(Z.Z,{sx:{height:"40px",display:"flex",alignItems:"center"},children:(0,r.jsx)("img",{src:"/logo.svg",alt:"I3S",style:{height:"100%"}})}),(0,r.jsxs)(O.Z,{separator:(0,r.jsx)(N.Z,{sx:{color:"#b0bec5",fontSize:"18px"}}),"aria-label":"navigation history",sx:{bgcolor:"transparent",p:"4px 0","& .MuiBreadcrumbs-ol":{alignItems:"center"}},children:[(0,r.jsx)(A.Z,{component:l.rU,to:"grid"===a?"/grid":"/home",sx:{color:"#546e7a",fontSize:"14px",textDecoration:"none",p:"4px 8px",borderRadius:"2px","&:hover":{color:"#306DAD",bgcolor:"#f5f7ff"}},children:"grid"===a?"Grid":"Home"}),L.length>3&&(0,r.jsx)(P.Z,{onClick:w,size:"small",sx:{color:"#90a4ae",p:"2px","&:hover":{color:"#306DAD",bgcolor:"#f5f7ff"}},children:(0,r.jsx)($.Z,{fontSize:"small"})}),T.map(e=>(0,r.jsx)(A.Z,{component:"button",onClick:()=>y(e),sx:{color:e===W?"#306DAD":"#546e7a",fontSize:"14px",fontWeight:e===W?"500":"400",textDecoration:"none",p:"4px 8px",borderRadius:"2px",bgcolor:e===W?"#e8eaf6":"transparent",transition:"all 0.2s ease","&:hover":{color:"#306DAD",bgcolor:"#f5f7ff"}},children:e.pretty_name},e.id))]}),(0,r.jsx)(R.Z,{anchorEl:o,open:!!o,onClose:z,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{sx:{borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",mt:"5vh",ml:"18vw"}},children:L.map(e=>(0,r.jsx)(I.Z,{onClick:()=>{y(e),z()},sx:{fontSize:"14px",color:e===W?"#306DAD":"#546e7a",bgcolor:e===W?"#f5f7ff":"transparent","&:hover":{bgcolor:"#e8eaf6",color:"#306DAD"}},children:e.pretty_name},e.id))})]}),toolbarActions:()=>(0,r.jsxs)(C.Z,{direction:"row",alignItems:"center",spacing:2,children:[d?(0,r.jsx)(E.Z,{sx:{color:"#90a4ae",fontSize:"14px"},children:"Loading..."}):f?(0,r.jsx)(E.Z,{sx:{color:"#780906",fontSize:"14px"},children:"Error"}):(0,r.jsxs)(Z.Z,{sx:{display:"flex",alignItems:"center",gap:1,p:"6px 12px",bgcolor:"#f5f7ff",borderRadius:"4px",transition:"background-color 0.2s ease","&:hover":{bgcolor:"#e8eaf6"}},children:[(0,r.jsx)(E.Z,{sx:{color:"#306DAD",fontSize:"14px",fontWeight:"500"},children:c?.data?.username||"Unknown User"}),(0,r.jsxs)(E.Z,{sx:{color:"#546e7a",fontSize:"14px"},children:["(",c?.data?.user_id||"N/A",")"]}),(0,r.jsxs)(E.Z,{sx:{color:"#90a4ae",fontSize:"12px"},children:["v",c?.data["backend version"]||"N/A"]})]}),(0,r.jsx)(D.Z,{variant:"outlined",size:"small",onClick:v,sx:{ml:2},children:"Se deconnecter"})]})},children:(0,r.jsx)(k._,{style:{maxWidth:"100%"},children:(0,r.jsx)(l.j3,{})})})})},{}),children:[{path:"/home",element:(0,r.jsx)(()=>{let e,t,a,s,o,c,d,f,m,u,h,x,b,g,j,y,S,w,_,k,N,C,O,A,$,P,z,L,M,J,B,V,q,G,Q,Y,K,X,ee,et,ea,er,en,es,eo,el,ei,ec,ed,ef,em,eu,ep=(0,i.c)(102),eh=(0,l.s0)(),{data:ex,isLoading:eb}=p("");v("Home"),ep[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],ep[0]=e):e=ep[0];let[eg,ej]=(0,n.useState)(e),[ey,ev]=(0,n.useState)(2),[eS,ew]=(0,n.useState)(null);ep[1]===Symbol.for("react.memo_cache_sentinel")?(t=[],ep[1]=t):t=ep[1];let[e_,ek]=(0,n.useState)(t),[eN,eZ]=(0,n.useState)(eE);if((0,n.useState)(!1),(0,n.useState)("#ffffff"),ep[2]!==e_||ep[3]!==eg){let e;ep[5]!==e_?(e=e=>e_.includes(e.endpoint),ep[5]=e_,ep[6]=e):e=ep[6],a=eg.filter(e),ep[2]=e_,ep[3]=eg,ep[4]=a}else a=ep[4];let eI=Math.min(ey,a.length);if(ep[7]!==ex||ep[8]!==eN?(s=()=>{if(ex?.data?.results){let e=eN?ex.data.results:ex.data.results.filter(eD);ej(e),ek(()=>{let t,a=JSON.parse(localStorage.getItem("selectedViewsSaved"));return t=a&&0!==a.length?a.filter(t=>e.some(e=>e.endpoint===t)):e.map(e$),localStorage.setItem("selectedViewsSaved",JSON.stringify(t)),t});let t=JSON.parse(localStorage.getItem("viewOrder"))||[],a=e;t.length>0&&(a=[...e].sort((e,a)=>{let r=t.indexOf(e.endpoint),n=t.indexOf(a.endpoint);return(-1===r?1/0:r)-(-1===n?1/0:n)})),ej(a)}},o=[ex,eN],ep[7]=ex,ep[8]=eN,ep[9]=s,ep[10]=o):(s=ep[9],o=ep[10]),n.useEffect(s,o),ep[11]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{let e=()=>ev(function(){let e=window.innerWidth;return e<900?1:e<1600?2:e<2100?3:4}());return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},d=[],ep[11]=c,ep[12]=d):(c=ep[11],d=ep[12]),n.useEffect(c,d),eb){let e,t;return ep[13]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"#2e3b55"},ep[13]=e):e=ep[13],ep[14]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(Z.Z,{sx:e,children:(0,r.jsx)(T.Z,{sx:{color:"#1e88e5"}})}),ep[14]=t):t=ep[14],t}if(!ex||!ex.data||!ex.data.results){let e;return ep[15]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(Z.Z,{sx:{bgcolor:"#fff3e0",p:2,borderRadius:2,color:"#ef6c00",textAlign:"center"},children:"Error: Data is null."}),ep[15]=e):e=ep[15],e}ep[16]===Symbol.for("react.memo_cache_sentinel")?(f=e=>ew(e.currentTarget),ep[16]=f):f=ep[16];let eF=f;ep[17]===Symbol.for("react.memo_cache_sentinel")?(m=()=>ew(null),ep[17]=m):m=ep[17];let eU=m;ep[18]!==eN||ep[19]!==eg?(u=e=>{ek(t=>{let a=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem("selectedViewsSaved",JSON.stringify(a)),0===eg.filter(eP).filter(e=>a.includes(e.endpoint)).length&&eN&&(eZ(!1),localStorage.setItem("showTechnicalViews",JSON.stringify(!1))),a})},ep[18]=eN,ep[19]=eg,ep[20]=u):u=ep[20];let eH=u;ep[21]!==ex?.data?.results?(h=()=>{eZ(e=>{let t=!e;localStorage.setItem("showTechnicalViews",JSON.stringify(t));let a=(ex?.data?.results?.filter(eR)||[]).map(ez);return ek(e=>{let r;return r=t?[...new Set([...e,...a])]:e.filter(e=>!a.includes(e)),localStorage.setItem("selectedViewsSaved",JSON.stringify(r)),r}),t})},ep[21]=ex?.data?.results,ep[22]=h):h=ep[22];let eM=h;ep[23]!==eg?(x=e=>{if(!e.destination)return;let t=Array.from(eg),[a]=t.splice(e.source.index,1);t.splice(e.destination.index,0,a),ej(t);let r=t.map(eL);localStorage.setItem("viewOrder",JSON.stringify(r))},ep[23]=eg,ep[24]=x):x=ep[24];let eJ=x;ep[25]!==eg.length?(b=()=>ev(e=>Math.min(e+1,eg.length)),ep[25]=eg.length,ep[26]=b):b=ep[26];let eB=b;ep[27]===Symbol.for("react.memo_cache_sentinel")?(g=()=>ev(eT),ep[27]=g):g=ep[27];let eV=g;ep[28]===Symbol.for("react.memo_cache_sentinel")?(j={padding:{xs:"8px",sm:"16px",md:"40px"},maxWidth:"100%",margin:"0 auto",bgcolor:"#2e3b55",minHeight:"100vh",zIndex:1},ep[28]=j):j=ep[28],ep[29]===Symbol.for("react.memo_cache_sentinel")?(y={xs:"column",sm:"row"},ep[29]=y):y=ep[29],ep[30]===Symbol.for("react.memo_cache_sentinel")?(S={display:"flex",flexDirection:y,justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:{xs:2,sm:4},gap:{xs:2,sm:0}},ep[30]=S):S=ep[30],ep[31]===Symbol.for("react.memo_cache_sentinel")?(w={display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:2},alignItems:{xs:"flex-start",sm:"center"},width:{xs:"100%",sm:"auto"}},ep[31]=w):w=ep[31],ep[32]===Symbol.for("react.memo_cache_sentinel")?(_={display:"flex",alignItems:"center",gap:1},ep[32]=_):_=ep[32],ep[33]===Symbol.for("react.memo_cache_sentinel")?(k={xs:36,sm:40},ep[33]=k):k=ep[33],ep[34]===Symbol.for("react.memo_cache_sentinel")?(N=(0,r.jsx)(D.Z,{variant:"outlined",onClick:eF,sx:{minWidth:k,borderWidth:"2px",borderColor:"#90caf9",color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"4px 8px",sm:"6px 12px"},"&:hover":{borderColor:"#42a5f5",bgcolor:"#37474f"}},children:"Views"}),ep[34]=N):N=ep[34],ep[35]!==eg?(C=e=>{if(!e.destination)return;let t=Array.from(eg),[a]=t.splice(e.source.index,1);t.splice(e.destination.index,0,a),ej(t),localStorage.setItem("viewOrder",JSON.stringify(t.map(eW)))},ep[35]=eg,ep[36]=C):C=ep[36];let eq=!!eS;ep[37]===Symbol.for("react.memo_cache_sentinel")?(O={sx:{maxHeight:500,maxWidth:400,overflowY:"auto",width:"auto",padding:1,borderRadius:"8px"}},ep[37]=O):O=ep[37],ep[38]!==eH||ep[39]!==e_||ep[40]!==eg?(A=(0,r.jsx)(eO.bK,{droppableId:"menu-views",children:e=>(0,r.jsxs)("div",{ref:e.innerRef,...e.droppableProps,children:[eg.map((e,t)=>(0,r.jsx)(eO._l,{draggableId:e.endpoint,index:t,children:t=>(0,r.jsxs)(I.Z,{ref:t.innerRef,...t.draggableProps,sx:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingRight:1,fontSize:"14px",color:"technical"===e.response_type?"#283593":"#424242",backgroundColor:"technical"===e.response_type?"#fff9c4":"transparent",borderRadius:"8px","&:hover":{backgroundColor:"technical"===e.response_type?"#fff8b0":"#e8eaf6"}},children:[(0,r.jsxs)(Z.Z,{sx:{display:"flex",alignItems:"center",flexGrow:1,borderRadius:"18px"},onClick:()=>eH(e.endpoint),children:[(0,r.jsx)(W.Z,{checked:e_.includes(e.endpoint),sx:{color:"#90caf9","&.Mui-checked":{color:"#90caf9"}}}),(0,r.jsx)(F.Z,{primary:e.pretty_name})]}),(0,r.jsx)(Z.Z,{...t.dragHandleProps,sx:{cursor:"grab",ml:1,display:"flex",alignItems:"center"},children:(0,r.jsx)(eC.Z,{fontSize:"small",sx:{color:"#90caf9"}})})]})},e.endpoint)),e.placeholder]})}),ep[38]=eH,ep[39]=e_,ep[40]=eg,ep[41]=A):A=ep[41],ep[42]!==eS||ep[43]!==eq||ep[44]!==A?($=(0,r.jsx)(R.Z,{anchorEl:eS,open:eq,onClose:eU,PaperProps:O,children:A}),ep[42]=eS,ep[43]=eq,ep[44]=A,ep[45]=$):$=ep[45],ep[46]!==C||ep[47]!==$?(P=(0,r.jsxs)(Z.Z,{sx:_,children:[N,(0,r.jsx)(eO.Z5,{onDragEnd:C,children:$})]}),ep[46]=C,ep[47]=$,ep[48]=P):P=ep[48],ep[49]===Symbol.for("react.memo_cache_sentinel")?(z={display:"flex",alignItems:"center",gap:1},ep[49]=z):z=ep[49],ep[50]===Symbol.for("react.memo_cache_sentinel")?(L={color:"#90caf9","&.Mui-checked":{color:"#90caf9"},padding:{xs:"4px",sm:"6px"}},ep[50]=L):L=ep[50],ep[51]!==eM||ep[52]!==eN?(M=(0,r.jsx)(W.Z,{checked:eN,onChange:eM,sx:L}),ep[51]=eM,ep[52]=eN,ep[53]=M):M=ep[53],ep[54]===Symbol.for("react.memo_cache_sentinel")?(J=(0,r.jsx)(E.Z,{sx:{color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Show Technical Views"}),ep[54]=J):J=ep[54],ep[55]!==M?(B=(0,r.jsxs)(Z.Z,{sx:z,children:[M,J]}),ep[55]=M,ep[56]=B):B=ep[56],ep[57]===Symbol.for("react.memo_cache_sentinel")?(V={display:"flex",alignItems:"center",gap:1},ep[57]=V):V=ep[57];let eG=1===ey;ep[58]===Symbol.for("react.memo_cache_sentinel")?(q={xs:36,sm:40},ep[58]=q):q=ep[58],ep[59]===Symbol.for("react.memo_cache_sentinel")?(G={minWidth:q,borderWidth:"2px",borderColor:"#90caf9",color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"4px",sm:"6px"},"&:hover":{borderColor:"#42a5f5",bgcolor:"#37474f"}},Q=(0,r.jsx)(H.Z,{fontSize:"small"}),ep[59]=G,ep[60]=Q):(G=ep[59],Q=ep[60]),ep[61]!==eG?(Y=(0,r.jsx)(D.Z,{variant:"outlined",onClick:eV,disabled:eG,sx:G,children:Q}),ep[61]=eG,ep[62]=Y):Y=ep[62],ep[63]===Symbol.for("react.memo_cache_sentinel")?(K={color:"#ffffff",fontWeight:"bold",fontSize:{xs:"0.875rem",sm:"1rem"}},ep[63]=K):K=ep[63],ep[64]!==ey?(X=(0,r.jsx)(E.Z,{sx:K,children:ey}),ep[64]=ey,ep[65]=X):X=ep[65];let eQ=ey===eg.length;return ep[66]===Symbol.for("react.memo_cache_sentinel")?(ee={xs:36,sm:40},ep[66]=ee):ee=ep[66],ep[67]===Symbol.for("react.memo_cache_sentinel")?(et={minWidth:ee,borderWidth:"2px",borderColor:"#90caf9",color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"4px",sm:"6px"},"&:hover":{borderColor:"#42a5f5",bgcolor:"#37474f"}},ea=(0,r.jsx)(U.Z,{fontSize:"small"}),ep[67]=et,ep[68]=ea):(et=ep[67],ea=ep[68]),ep[69]!==eB||ep[70]!==eQ?(er=(0,r.jsx)(D.Z,{variant:"outlined",onClick:eB,disabled:eQ,sx:et,children:ea}),ep[69]=eB,ep[70]=eQ,ep[71]=er):er=ep[71],ep[72]!==Y||ep[73]!==X||ep[74]!==er?(en=(0,r.jsxs)(Z.Z,{sx:V,children:[Y,X,er]}),ep[72]=Y,ep[73]=X,ep[74]=er,ep[75]=en):en=ep[75],ep[76]!==P||ep[77]!==B||ep[78]!==en?(es=(0,r.jsxs)(Z.Z,{sx:w,children:[P,B,en]}),ep[76]=P,ep[77]=B,ep[78]=en,ep[79]=es):es=ep[79],ep[80]!==eh?(eo=()=>eh("/add-node"),ep[80]=eh,ep[81]=eo):eo=ep[81],ep[82]===Symbol.for("react.memo_cache_sentinel")?(el={xs:36,sm:40},ep[82]=el):el=ep[82],ep[83]===Symbol.for("react.memo_cache_sentinel")?(ei={minWidth:el,borderWidth:"2px",borderColor:"#90caf9",color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"4px 8px",sm:"6px 12px"},"&:hover":{borderColor:"#42a5f5",bgcolor:"#37474f"}},ep[83]=ei):ei=ep[83],ep[84]!==eo?(ec=(0,r.jsx)(D.Z,{variant:"outlined",onClick:eo,sx:ei,children:"Add new node"}),ep[84]=eo,ep[85]=ec):ec=ep[85],ep[86]!==es||ep[87]!==ec?(ed=(0,r.jsxs)(Z.Z,{sx:S,children:[es,ec]}),ep[86]=es,ep[87]=ec,ep[88]=ed):ed=ep[88],ep[89]!==ey||ep[90]!==eH||ep[91]!==eh||ep[92]!==eI||ep[93]!==e_||ep[94]!==eg?(ef=(0,r.jsx)(eO.bK,{droppableId:"views",children:(e,t)=>(0,r.jsxs)(Z.Z,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:2,sm:4},bgcolor:t.isDraggingOver?"#37474f":"#2e3b55"},...e.droppableProps,ref:e.innerRef,children:[eg.filter(e=>e_.includes(e.endpoint)).map((e,t)=>(0,r.jsx)(eO._l,{draggableId:e.endpoint,index:t,children:(t,a)=>(0,r.jsx)(Z.Z,{sx:{width:{xs:"100%",sm:`calc(${100/Math.min(ey,2)}% - 16px)`,md:`calc(${100/eI}% - 32px)`},opacity:a.isDragging?.8:1},ref:t.innerRef,...t.draggableProps,children:(0,r.jsx)(eA,{view:e,onClick:t=>{t.defaultPrevented||eh(`/information/${e.endpoint.replaceAll(" ","_")}`)},dragHandleProps:t.dragHandleProps,handleViewToggle:eH})})},e.endpoint)),e.placeholder]})}),ep[89]=ey,ep[90]=eH,ep[91]=eh,ep[92]=eI,ep[93]=e_,ep[94]=eg,ep[95]=ef):ef=ep[95],ep[96]!==eJ||ep[97]!==ef?(em=(0,r.jsx)(eO.Z5,{onDragEnd:eJ,children:ef}),ep[96]=eJ,ep[97]=ef,ep[98]=em):em=ep[98],ep[99]!==ed||ep[100]!==em?(eu=(0,r.jsxs)(Z.Z,{sx:j,className:"home-page",children:[ed,em]}),ep[99]=ed,ep[100]=em,ep[101]=eu):eu=ep[101],eu},{})},{path:"/information/:viewId",element:(0,r.jsx)(()=>{let e,t,a,n,s,o,c=(0,i.c)(11),{viewId:d}=(0,l.UO)(),f=(0,l.s0)();return v(`Information for View ${d}`),c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("h1",{children:"Content:"}),c[0]=e):e=c[0],c[1]!==d?(t=(0,r.jsx)(ej,{viewId:d}),c[1]=d,c[2]=t):t=c[2],c[3]!==f?(a=()=>{f("/home")},c[3]=f,c[4]=a):a=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(M.Z,{}),c[5]=n):n=c[5],c[6]!==a?(s=(0,r.jsx)(P.Z,{className:"close-button",onClick:a,"aria-label":"close",children:n}),c[6]=a,c[7]=s):s=c[7],c[8]!==t||c[9]!==s?(o=(0,r.jsxs)("div",{className:"information-page",children:[e,t,s]}),c[8]=t,c[9]=s,c[10]=o):o=c[10],o},{})},{path:"/add-node",element:(0,r.jsx)(()=>{v("Add node");let{viewId:e}=(0,l.UO)(),t=(0,l.s0)(),{data:a,isLoading:s,error:o,refetch:i}=p("bnode_class_distribution"),c=(0,S.NL)(),[d,f]=(0,n.useState)([]),[m,u]=(0,n.useState)([]),[x,b]=(0,n.useState)(new Set),[g,j]=(0,n.useState)(""),[y,w]=(0,n.useState)(!1),[_,k]=(0,n.useState)(()=>{try{let e=localStorage.getItem("favorites"),t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}),N=h("jump",{onSuccess:async()=>{await c.invalidateQueries()}}),Z=async e=>{let t=m.find(t=>t.endsWith(e));try{let e=await fetch(`https://localhost:8080/api/add_node?BNodeClass=${encodeURIComponent(t)}`,{credentials:"include",headers:{Accept:"application/json, text/plain, */*"}}),a=await e.json(),r=a.results?.[0]?.result?.data.id;await N.mutateAsync(`node_id=${encodeURIComponent(r)}`)}catch(e){throw console.error(`Error during handleCreateAndJump for ${t}:`,e),e}},C=async e=>{try{await Z(e);let a=m.find(t=>t.endsWith(e));t(`/add-node/form/${a}`)}catch(e){console.error("Navigation skipped due to error:",e)}},O=e=>{k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};(0,n.useEffect)(()=>{localStorage.setItem("favorites",JSON.stringify(_))},[_]),(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e?JSON.stringify(e,null,"tab"===t?"	":t):""},[]),(0,n.useEffect)(()=>{if(a)try{let e=(a?.data?.results?.[0]?.result?.data||[]).filter(e=>Object.keys(e)[0]),t=e.map(e=>Object.keys(e)[0].split(".").pop()),r=e.map(e=>Object.keys(e)[0]);f(t),u(r)}catch(e){console.error("Failed to parse class names:",e)}},[a]);let A=async e=>{let t=`persisting:${e}`,a=localStorage.getItem(t);if(null!==a)return"true"===a;try{let t=await fetch(`https://localhost:8080/api/class_information?classForm=${encodeURIComponent(e)}`,{credentials:"include",headers:{Accept:"application/json, text/plain, */*"}}),a=await t.json(),r=a?.results?.[0]?.result?.data;return r?.BusinessNode!==void 0&&r.BusinessNode}catch(t){return console.error(`Error fetching info for ${e}:`,t),!1}};return(0,n.useEffect)(()=>{m&&0!==m.length&&(async()=>{let e=new Set;await Promise.all(m.map(async t=>{await A(t)&&e.add(t)})),b(e)})()},[m]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:`add-node-page ${y?"add-node-exit":""}`,children:[(0,r.jsx)("h1",{children:"Add a new node"}),(0,r.jsx)("div",{className:"search-bar-wrapper",children:(0,r.jsx)("input",{type:"text",placeholder:"Search class name...",value:g,onChange:e=>j(e.target.value),className:"search-bar"})}),_.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{children:"Favorites (Persistent Only)"}),(0,r.jsx)("div",{className:"class-card-container",children:_.map(e=>{let t=m.find(t=>t.endsWith(e));return{short:e,full:t}}).filter(e=>{let{full:t}=e;return t&&x.has(t)}).filter(e=>{let{short:t}=e;return t.toLowerCase().includes(g.toLowerCase())}).map(e=>{let{short:t}=e;return(0,r.jsxs)("div",{className:"class-card",children:[(0,r.jsx)("span",{className:"star-icon",onClick:e=>{e.stopPropagation(),O(t)},children:(0,r.jsx)(eF.Z,{style:{color:"#f1c40f"}})}),(0,r.jsx)("span",{onClick:()=>C(t),children:t})]},t)})})]}),(0,r.jsx)("h2",{children:"All persisting classes"}),(0,r.jsx)("div",{className:"class-card-container",children:d.map((e,t)=>({short:e,full:m[t]})).filter(e=>{let{full:t}=e;return x.has(t)}).filter(e=>{let{short:t}=e;return t.toLowerCase().includes(g.toLowerCase())}).map(e=>{let{short:t}=e;return(0,r.jsxs)("div",{className:"class-card",children:[(0,r.jsx)("span",{className:"star-icon",onClick:e=>{e.stopPropagation(),O(t)},children:_.includes(t)?(0,r.jsx)(eF.Z,{style:{color:"#f1c40f"}}):(0,r.jsx)(eU.Z,{style:{color:"#ccc"}})}),(0,r.jsx)("span",{onClick:()=>C(t),children:t})]},t)})}),(0,r.jsxs)("div",{className:"button-group",children:[(0,r.jsx)(P.Z,{className:"header-button reload-button",onClick:()=>{Object.keys(localStorage).filter(e=>e.startsWith("persisting:")).forEach(e=>localStorage.removeItem(e)),b(new Set),i()},"aria-label":"reload",title:"Reload all classes",children:(0,r.jsx)(eH.Z,{})}),(0,r.jsx)(P.Z,{className:"header-button close-button",onClick:()=>{w(!0),setTimeout(()=>t("/home"),300)},"aria-label":"close",title:"Close",children:(0,r.jsx)(M.Z,{})})]})]})})},{})},{path:"/add-node/form/:classForm",element:(0,r.jsx)(()=>{let{classForm:e}=(0,l.UO)(),t=(0,l.s0)(),{data:a,isLoading:s,error:o,refetch:i}=p("class_attribute_field"),c=a?.data?.node_id||null,d=e.split(".").pop(),[f,m]=(0,n.useState)({}),[x,b]=(0,n.useState)({}),[g,j]=(0,n.useState)({}),y=(0,n.useRef)(null),[v,S]=(0,n.useState)(null),[w,_]=(0,n.useState)(!1),[k,N]=(0,n.useState)([]),[Z,C]=(0,n.useState)(""),[O,A]=(0,n.useState)(null),[I,E]=(0,n.useState)(null),[D,$]=(0,n.useState)(!1),R=h("jump",{onSuccess:async e=>e}),z=h("class_attribute_field",{onSuccess:async e=>e});h("set_value",{onSuccess:async e=>e});let L=h("add_node",{onSuccess:async e=>e}),T=h("list_existing_node",{onSuccess:async e=>e}),W=h("add_existing_node",{onSuccess:async e=>e}),F=e=>{if(!e)return"";let t=e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").trim();return t.charAt(0).toUpperCase()+t.slice(1)},H=(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e?JSON.stringify(e,null,"tab"===t?"	":t):""},[]),M=(e,t)=>`${e}@${t}`,J=async(e,a)=>{if(a===c)return console.log("return from handleChangingForm");try{await R.mutateAsync(`node_id=${a}`),await t(`/add-node/form/${e}`),window.location.reload()}catch(e){console.error("Error changing form:",e)}},B=async e=>{if(!e)return console.warn("No field provided for saving changes");let t=f[M(e.id,e.name)];try{let a=await u.Z.post("https://localhost:8080/api/set_value",{id:e.id,value:t});console.log("Changes saved successfully:",H(a,"tab"))}catch(e){console.error("Error saving changes:",e)}},V=async(e,t)=>{console.log(`Toggling field: ${e} with nodeId: ${t}`),x[e]?j(e=>{let a={...e};return delete a[t],a}):g[t]||t===c||s||(S(t),y.current=t,await q(t)),b(t=>({...t,[e]:!t[e]}))},q=async e=>{await R.mutateAsync(`node_id=${e}`);try{let e=await z.mutateAsync();if(e?.data?.node_id===c)return console.log("Same id as the root node, not loading subfields");let t=(e?.data?.results?.[0]?.result?.data||[]).filter(e=>e?.name!=="graph"),a={};t.forEach(e=>{e.name&&void 0!==e.value&&"null"!==e.value&&(a[M(e.id,e.name)]=e.value)}),m(e=>({...e,...a})),j(e=>({...e,[y.current]:t}))}catch(e){console.log("Error in wanting to load field:",e)}await R.mutateAsync({node_id:c})},G=async e=>{console.log("Add new node clicked");let t=e?.id,a=e?.listNodeType;console.log(H(e,"tab")),S(t),await R.mutateAsync(`node_id=${t}`);try{let e=await L.mutateAsync(`BNodeClass=${encodeURIComponent(a)}`),r=e?.data?.results?.[0]?.result?.data;if(!r)return console.warn("No node returned from addNode mutation");let n=M(r.id,r.name);j(e=>({...e,[t]:[...e[t]||[],r]})),r.name&&void 0!==r.value&&"null"!==r.value&&m(e=>({...e,[n]:r.value}))}catch(e){console.error("Error adding new node:",e)}await R.mutateAsync({node_id:c})},Q=async e=>{console.log("Add existing node clicked with field:",e),A(e),_(!0),$(!0);let t=e.listNodeType.split(".").pop();await R.mutateAsync(`node_id=${e.id}`);try{let e=await T.mutateAsync({type:t}),a=e?.data?.results?.[0]?.result?.data||[];N(a)}catch(e){console.error("Error fetching class attribute field:",e)}finally{$(!1)}},Y=async e=>{try{await W.mutateAsync({id:e.id}),await R.mutateAsync({node_id:c})}catch(e){console.error("Error adding existing node:",e)}};(0,n.useEffect)(()=>{if(!s&&a){let e={},t={};(a?.data?.results?.[0]?.result?.data||a?.results?.[0]?.result?.data||[]).forEach(a=>{if(a.name&&"null"!==a.value&&void 0!==a.value){let r=M(a.id,a.name);e[r]=a.value,t[r]=a}}),m(e),b({}),j({})}},[s,a]),(0,n.useEffect)(()=>{if(!I)return;let e=setTimeout(()=>{B(I)},500);return()=>{clearTimeout(e)}},[f]);let K=(a?.data?.results?.[0]?.result?.data||a?.results?.[0]?.result?.data||[]).filter(e=>e?.name!=="graph"),X=["StringNode","EmailNode","PhoneNumberNode","IntNode"],ee=["BooleanNode"],et=[...X,...ee],ea=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return e&&Array.isArray(e)?e.map(e=>{let{id:a,name:n,type:s}=e;if(!n)return null;let o=M(e.id,e.name);if(t.has(a))return(0,r.jsxs)("p",{children:["Circular reference detected for ",n]},`cycle-${a}`);let l=new Set(t);return l.add(a),ea(g[a],l),(0,r.jsxs)("div",{className:"form-field-wrapper",children:[(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:n,className:"main-label",children:(0,r.jsx)("button",{type:"button",className:"deeper-button",onClick:()=>J(n,a),title:o,children:F(n)})}),X.includes(s)&&(0,r.jsx)("input",{id:o,type:"text",value:f[o]||"",onChange:t=>{m(e=>({...e,[o]:t.target.value})),E(e)}}),ee.includes(s)&&(0,r.jsx)("input",{id:o,type:"checkbox",checked:!!f[o],onChange:e=>{m(t=>({...t,[o]:e.target.checked}))}}),!et.includes(s)&&(0,r.jsx)("div",{className:"toggle-wrapper",children:(0,r.jsx)("button",{type:"button",onClick:()=>V(o,a),className:"toggle-button",children:(0,r.jsx)("span",{className:"toggle-icon",children:x[o]?"▼":"▶"})})})]}),!et.includes(s)&&(0,r.jsxs)("div",{className:"nested-fields",children:[x[o]&&(g[a]?g[a].length>0?ea(g[a],l):(0,r.jsx)("p",{children:"No subfields available for this."}):(0,r.jsx)("p",{children:"Loading subfields or error, please reload..."})),["ListNode","SetNode"].includes(s)&&x[o]&&(0,r.jsxs)("div",{className:"add-new-node",children:[(0,r.jsxs)(P.Z,{className:"add-element",onClick:()=>{G(e)},children:[(0,r.jsx)(U.Z,{})," ",(0,r.jsxs)("span",{children:["Add new ",e.name]})]}),(0,r.jsxs)(P.Z,{className:"add-element-existing",onClick:()=>{Q(e)},children:[(0,r.jsx)(U.Z,{})," ",(0,r.jsxs)("span",{children:["Add ",e.name," from Existing Node"]})]})]}),x[o]&&(0,r.jsxs)("div",{className:"image-preview-wrapper",style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[f[o]&&(0,r.jsx)("img",{className:"image-preview",src:`data:${e.mimeType};base64,${f[o]}`,alt:n,style:{maxHeight:"150px",width:"auto",objectFit:"contain",marginTop:"10px",border:"1px solid #eee"},onClick:()=>{}}),(0,r.jsxs)("label",{className:"add-element",style:{marginTop:"10px",cursor:"pointer"},children:["Upload New Image",(0,r.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:async t=>{let a=t.target.files[0];if(!a)return;let r=new FileReader;r.onloadend=async()=>{let t=r.result.split(",")[1];m(e=>({...e,[o]:t})),E(e)},r.readAsDataURL(a)}})]})]})]})]},o)}):null};return s?(0,r.jsx)("p",{children:"Loading form fields..."}):o?(0,r.jsxs)("p",{children:["Error loading form fields: ",o.message||"Unknown error"]}):(0,r.jsxs)("div",{className:"form-page",children:[(0,r.jsx)(P.Z,{className:"close-button",onClick:()=>t("/add-node"),"aria-label":"close",children:(0,r.jsx)(eM.Z,{})}),(0,r.jsxs)("h1",{children:["Form for: ",F(d)]}),(0,r.jsx)("form",{className:"form-fields",onSubmit:e=>e.preventDefault(),children:K.length>0?ea(K):(0,r.jsx)("p",{children:"No fields available."})}),w&&(0,r.jsx)("div",{className:"overlay",children:(0,r.jsxs)("div",{className:"existing-node-card",children:[(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsx)("h2",{children:"Select Existing Node"}),(0,r.jsx)(P.Z,{onClick:()=>{_(!1),R.mutate({node_id:c})},"aria-label":"close",children:(0,r.jsx)(eM.Z,{})})]}),(0,r.jsx)("input",{type:"text",placeholder:"Search nodes...",value:Z,onChange:e=>C(e.target.value),className:"search-bar"}),(0,r.jsx)("div",{className:"node-list",children:D?(0,r.jsx)("div",{className:"loading-spinner",children:"Loading nodes..."}):k.filter(e=>e.name.toLowerCase().includes(Z.toLowerCase())).map(e=>(0,r.jsx)("div",{className:"node-card-item",onClick:()=>{let t=M(e.id,e.name);j(t=>({...t,[O.id]:[...t[O.id]||[],e]})),m(a=>({...a,[t]:e.value})),Y(e),_(!1)},children:(0,r.jsx)("strong",{children:e.name})},e.id))})]})})]})},{})}]}]}],{future:{v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_relativeSplatPath:!0,v7_skipActionErrorRevalidation:!0}});var eB=a(20388),eV=a(77300);let eq=new eB.S;s.createRoot(document.getElementById("root")).render((0,r.jsx)(n.StrictMode,{children:(0,r.jsx)(o.Z,{injectFirst:!0,children:(0,r.jsxs)(S.aH,{client:eq,children:[(0,r.jsx)(l.pG,{router:eJ}),(0,r.jsx)(eV.t,{initialIsOpen:!1})]})})}))}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var s=Object.create(null);a.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var l=2&n&&r;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>{o[e]=()=>r[e]});return o.default=()=>r,a.d(s,o),s}})(),a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>"static/js/async/"+e+"."+({1033:"17f6111d",109:"18832088",115:"0a332a65",1215:"82e721f0",1228:"6c2b16a2",1238:"7b9e0d98",1264:"172e531a",1284:"e6526ff9",1324:"f5066d94",1341:"50bd9b07",137:"b6bd5f18",1385:"50a3be13",1450:"0203df49",1498:"675c1e0d",1527:"8f7d189d",1581:"31c2e037",1595:"2c0b888b",1661:"98fedb5f",1736:"3ab49497",175:"94f042b9",1782:"077992d8",1843:"d7f813bf",1971:"c1c48260",1991:"7dc6f2ac",2012:"fadb1ac3",2014:"5a4fe407",2017:"fc9e679f",202:"642761ec",2020:"48baef7e",2039:"a0c6e541",2050:"25eeedd6",21:"19cc5208",212:"1a88be6e",2155:"cc533dc2",2167:"53b3a372",2168:"162ad6cd",2229:"081c19f0",2237:"be7bce0e",2280:"51f186c1",2334:"06952213",2357:"ea194e41",2385:"41b5032d",2408:"372d80a9",2422:"c66288b1",2440:"08f76bee",2469:"001c98e2",2499:"a6ac0a4e",2571:"1a76d47f",2584:"6b9653c6",2610:"650ab345",2613:"9c8be591",2616:"a4c33fe2",2622:"be9a50ac",2660:"ca101a3a",2708:"4dd8ecd6",2733:"16d45216",2787:"2b8afb23",2812:"a6fa7bfe",2835:"ecf44374",2855:"ef7378af",2860:"c28dec26",2953:"35c0cf75",2957:"7b675c65",2970:"dcf7d9c2",2976:"8a2e6e65",2980:"d25476fa",3013:"1a72b362",3033:"a7410b77",3054:"50d469d1",3063:"ea25ade3",3072:"8dac993c",308:"d7b500f6",3144:"9761ad39",3206:"6f5ac6a9",3245:"3ed7d9bd",3269:"e2d5e929",3336:"fd37ebcd",3346:"2996d696",3409:"df9c4d5c",3417:"b158ea82",3445:"01b0eee1",3447:"ac01d96b",3561:"ce24be3b",3566:"c0220ea3",3581:"6265d624",3594:"914736d8",3598:"70950ca3",3685:"bdb04950",3686:"d70966ae",3717:"589e021b",3764:"58987926",3866:"399f2583",3898:"15a143ea",3936:"00d9571f",3976:"dbca30cb",399:"f71aa3e7",4137:"4e29fff0",4143:"39faedfd",4161:"f92abc5f",4181:"6cb7d27c",4198:"e6567842",4236:"4d0777d8",424:"abb25f5e",4246:"b45faada",4324:"b2b121de",4348:"0c97b272",4378:"2f5e523d",4394:"866e0dcd",4434:"a1c62a07",4437:"4f00e7d6",4565:"37e12ecb",4583:"9dee8b9a",4654:"5331823b",4663:"847fadd3",4682:"6c4db126",4759:"a487fd84",479:"f26f6b45",4793:"c88a55bf",4846:"942b1f8a",4876:"879f412d",488:"c7da8f74",4883:"9842d895",4896:"9e62a43f",493:"65e3fb8a",4947:"7f1a1d42",504:"98ab29eb",5041:"4cc98800",5117:"5499db7f",5183:"a63b90ad",5208:"0c2fa6b5",5243:"793c2351",5253:"b0804947",5265:"349dcd95",528:"7f1e8bdf",5286:"ad285f17",5306:"42e6b653",535:"93bc457c",5379:"17170744",5401:"16a403fc",5468:"607dced2",5498:"562f33c2",5502:"73fb14d8",5556:"1b5eaefa",5557:"57624981",5575:"7bc10500",5610:"0492760a",562:"0b950923",5621:"5a889a50",5697:"2585150f",5764:"fbf272f7",5768:"1d21a87e",5830:"4d5e1352",5892:"bb3b49f8",5902:"4e20bb03",5928:"83613abb",5942:"4dd8a5be",5987:"e6fbd9a1",601:"f0b0c677",6023:"6111a6f7",6029:"648ae64e",6067:"88326a20",6126:"e4a0e87d",6225:"234d94eb",6263:"ebda8212",6265:"5fa9cffe",627:"7ab95313",6272:"947e1439",6290:"1b41690e",6295:"e921d8ca",6358:"83481e93",637:"1301966b",638:"421cc010",6396:"546d781d",6428:"1c5bd5c2",6442:"aa33b13a",6455:"9e714990",6485:"5a7e4ab8",6554:"e9bbe581",6558:"c7ffd25c",6606:"4b6acd55",6692:"a1b93ee9",6722:"dac4eb53",6732:"328a1e25",6739:"2eafe7cc",6751:"da426d3b",6801:"0dbe1a34",6818:"a05553ec",6861:"d1342653",6890:"04b1af11",6912:"e4126988",6940:"7e01b805",7028:"29270ff4",7098:"0394a3b8",7129:"46e5a880",7167:"eec2add3",7202:"efcae193",7225:"ce340aac",7234:"9ca926e8",725:"61a51fc7",7279:"0dd2eb29",7336:"a1525357",7388:"98969cb1",7398:"cf0b0d64",7440:"29665836",7503:"ce6d1372",7566:"fa2ae713",7584:"617dcb1f",7666:"ff54bbce",7680:"aa6e4ce6",7706:"ee861630",7742:"69927333",78:"5b8e4c05",7829:"174a5a9c",7830:"f9f25511",7833:"827cc1a4",7838:"0a5b7cb7",7883:"e2eb032f",7886:"9c03e319",7893:"ef8a2281",7911:"1e067a60",7955:"03d4f38f",8033:"a8da6ec0",807:"18610cdb",8085:"417a35e2",8106:"348c4e05",8125:"6fd302d9",8126:"6791bf5b",8177:"7287e8a0",8235:"ece8289d",8244:"7ae6c967",8281:"77d35550",8289:"71f97a4e",8319:"28e98353",8325:"26eff9e4",8329:"6e9cfc28",8453:"c5ab1e7c",8479:"e222cd71",8483:"e447ade8",8486:"e59274b5",8532:"2cdce6e4",8587:"9c07571b",8615:"0f704e94",8652:"fae82fca",8674:"4dc7a38a",8675:"a52c9010",8679:"2e565919",8681:"0c1b1796",8682:"9f54b55b",8687:"082746b0",8721:"46d0a01e",8824:"a9959219",8830:"768aafde",8863:"b963ad3c",899:"1f008547",8994:"524f7932",9014:"16cc3052",9042:"67556784",9059:"9d355e13",9139:"43f6fcd9",9175:"874b4bbe",9214:"f0050e8d",9226:"af62836b",9230:"3c63ddda",925:"083c6659",9260:"88f16f77",928:"a5be9560",9301:"ea78ec8f",9354:"b53c8118",9366:"83e9fd9b",9394:"a3386079",940:"d90ad1fc",9428:"405c1d6f",9484:"168ca12c",9549:"184b3493",9555:"f2088478",9582:"de81b9bc",9586:"8a68bcb5",9590:"86c0ea9a",9594:"effdc72a",970:"650dd1bb",9760:"b56661f2",9790:"49b3f870",9854:"da9e39b6",9942:"758d285a",9973:"d65b0cec"})[e]+".js",a.miniCssF=e=>""+e+".css",a.h=()=>"d9a173b982d4b5d8",a.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="login_page:";a.l=function(r,n,s,o){if(e[r])return void e[r].push(n);if(void 0!==s)for(var l,i,c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var f=c[d];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+s){l=f;break}}l||(i=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+s),l.src=r),e[r]=[n];var m=function(t,a){l.onerror=l.onload=null,clearTimeout(u);var n=e[r];if(delete e[r],l.parentNode&&l.parentNode.removeChild(l),n&&n.forEach(function(e){return e(a)}),t)return t(a)},u=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),i&&document.head.appendChild(l)}})(),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e=[];a.O=(t,r,n,s)=>{if(r){s=s||0;for(var o=e.length;o>0&&e[o-1][2]>s;o--)e[o]=e[o-1];e[o]=[r,n,s];return}for(var l=1/0,o=0;o<e.length;o++){for(var r=e[o][0],n=e[o][1],s=e[o][2],i=!0,c=0;c<r.length;c++)(!1&s||l>=s)&&Object.keys(a.O).every(e=>a.O[e](r[c]))?r.splice(c--,1):(i=!1,s<l&&(l=s));if(i){e.splice(o--,1);var d=n();void 0!==d&&(t=d)}}return t}})(),a.p="/",a.rv=()=>"1.3.8",(()=>{var e={2487:0};a.f.j=function(t,r){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var s=new Promise((a,r)=>n=e[t]=[a,r]);r.push(n[2]=s);var o=a.p+a.u(t),l=Error();a.l(o,function(r){if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",l.name="ChunkLoadError",l.type=s,l.request=o,n[1](l)}},"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,r)=>{var n,s,o=r[0],l=r[1],i=r[2],c=0;if(o.some(t=>0!==e[t])){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(i)var d=i(a)}for(t&&t(r);c<o.length;c++)s=o[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},r=self.webpackChunklogin_page=self.webpackChunklogin_page||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),a.ruid="bundler=rspack@1.3.8";var r=a.O(void 0,["2072","3361","2118","5869"],function(){return a(60448)});r=a.O(r)})();