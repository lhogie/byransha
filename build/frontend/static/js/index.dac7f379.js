(()=>{"use strict";var e={41527:function(e,t,a){var r=a(85893),n=a(67294),l=a(20745),s=a(33988),o=a(74856),i=a(68827),c=a(3058),d=a(14578),m=a(62643),u=a(63760),f=a(42140),h=a(80430);let x=new f.h({mapsAsObjects:!0}),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,r=new URLSearchParams({...t}).toString(),n=r?`?${r}`:"",l=`https://localhost:8080/api/${e}${n}`;return(0,m.a)({initialData:void 0,queryKey:["apiData",e,t],queryFn:()=>h.Z.get(l,{withCredentials:!0,headers:{Accept:"application/cbor"},responseType:"arraybuffer"}).then(e=>({...e,data:x.decode(new Uint8Array(e.data))})),retry:2,staleTime:6e4,...a})},b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,u.D)({mutationFn:t=>h.Z.post(`https://localhost:8080/api/${e}`,t,{withCredentials:!0,headers:{Accept:"application/cbor"},responseType:"arraybuffer"}).then(e=>({...e,data:x.decode(new Uint8Array(e.data))})),...t})};var g=a(23802),y=a(22992),j=a(47839),v=a(3553),_=a(3666);a(96023);var S=a(7942);let w=(0,c.Z)({cssVariables:!0,colorSchemes:{dark:!1},typography:{fontFamily:"IBM Plex Sans, sans-serif"}},_.g,v.gQ);function Z(e){return{kind:"page",title:e.endpoint,segment:`information/${e.endpoint.replaceAll(" ","_")}`,icon:(0,r.jsx)(g.Z,{})}}var C=a(922);let k=a.p+"static/image/i3S_RVB_Couleur.eaa939af.png",N=e=>{let t,a,r=(0,i.c)(3),l="undefined"!=typeof document,s=(0,n.useRef)(l?document.title:null);r[0]!==e?(t=()=>{if(l)return document.title!==e&&(document.title=e),()=>{document.title=s.current}},a=[l,e],r[0]=e,r[1]=t,r[2]=a):(t=r[1],a=r[2]),(0,n.useEffect)(t,a)};var A=a(99469);function I(e){return!e}var E=a(89840),z=a(44728),D=a(20533),O=a(1854),$=a(33991),T=a(13400),L=a(99782),F=a(94018),W=a(73876),P=a(54757),R=a(7230),V=a(81035),K=a(8523),M=a(6896),H=a(61215),U=a(11786),B=a(11161),q=a(19154),Q=a(99516),J=a(95634),G=a(19410),Y=a(24697),X=a(49696);let ee=e=>{let t,a,l,s,c,d,m,u,f,h=(0,i.c)(21),[x,g]=(0,n.useState)("");h[0]===Symbol.for("react.memo_cache_sentinel")?(t={maxWait:500},h[0]=t):t=h[0];let[y]=(0,Y.Nr)(x,250,t),j=(0,o.s0)(),v=(0,A.NL)();h[1]!==v?(a={onSuccess:async()=>{await v.invalidateQueries()}},h[1]=v,h[2]=a):a=h[2];let _=b("jump",a);h[3]!==y?(l={query:y},h[3]=y,h[4]=l):l=h[4];let S=y.length>0;h[5]!==S?(s={enabled:S,gcTime:3e4},h[5]=S,h[6]=s):s=h[6];let{isLoading:w,data:Z}=p("search_node",l,s);h[7]!==Z?.data?.results?.[0]?.result?.data?(c=Z?.data?.results?.[0]?.result?.data||[],h[7]=Z?.data?.results?.[0]?.result?.data,h[8]=c):c=h[8];let C=c;return h[9]===Symbol.for("react.memo_cache_sentinel")?(d={width:300},h[9]=d):d=h[9],h[10]!==_||h[11]!==j?(m=(e,t)=>{t&&(_.mutate({node_id:t.id}),j("/home"))},h[10]=_,h[11]=j,h[12]=m):m=h[12],h[13]!==w||h[14]!==x?(u=e=>(0,r.jsx)(M.Z,{...e,label:"Rechercher",variant:"outlined",size:"small",value:x,onChange:e=>g(e.target.value),slotProps:{input:{...e.InputProps,endAdornment:(0,r.jsxs)(r.Fragment,{children:[w?(0,r.jsx)(H.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]}),sx:{pr:.5}}},sx:{display:{xs:"none",md:"inline-block"},mr:1}}),h[13]=w,h[14]=x,h[15]=u):u=h[15],h[16]!==w||h[17]!==C||h[18]!==m||h[19]!==u?(f=(0,r.jsx)(U.Z,{sx:d,isOptionEqualToValue:et,getOptionKey:ea,getOptionLabel:er,options:C,loading:w,renderOption:en,onChange:m,renderInput:u}),h[16]=w,h[17]=C,h[18]=m,h[19]=u,h[20]=f):f=h[20],f};function et(e,t){return e.name===t.name}function ea(e){return e.id}function er(e){return`${e.name} (${e.type})`}function en(e,t){return(0,n.createElement)(B.ZP,{...e,key:t.id,children:[(0,r.jsx)(q.Z,{children:(0,r.jsx)(Q.Z,{invisible:t.isValid,badgeContent:(0,r.jsx)(X.Z,{color:"warning"}),children:(0,r.jsx)(J.Z,{src:t.img?`data:${t.imgMimeType};base64,${t.img}`:"",alt:t.name})})},`${t.id}.avatar`),(0,r.jsx)(G.Z,{primary:t.name,secondary:t.type,primaryTypographyProps:{style:{marginRight:8}}},`${t.id}.text`)]})}var el=a(6649),es=a(89717),eo=a(32153),ei=a(89276),ec=a(11419),ed=a(80372),em=a(89425),eu=a(77012),ef=a(60488),eh=a(15858),ex=a(55327),ep=a(63852);let eb={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:"800px",maxHeight:"80vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,display:"flex",flexDirection:"column",overflow:"hidden"},eg={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},ey={overflowY:"auto",maxHeight:"calc(80vh - 100px)",width:"100%",scrollbarWidth:"thin",scrollbarColor:"#888 #f1f1f1","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},ej=e=>{let t,a,l,s,o,c,d,m,u,f,h,x,p=(0,i.c)(25),{dataForModal:b,isModalOpen:g,setIsModalOpen:y}=e,[,j]=(0,n.useTransition)();p[0]!==y?(t=e=>{e.stopPropagation(),j(()=>{y(!0)})},p[0]=y,p[1]=t):t=p[1];let v=t;p[2]!==y?(a=e=>{e.stopPropagation(),j(()=>{y(!1)})},p[2]=y,p[3]=a):a=p[3];let _=a;p[4]===Symbol.for("react.memo_cache_sentinel")?(l={position:"absolute",top:5,right:5,zIndex:10,width:30,height:30,color:"primary.main"},p[4]=l):l=p[4];let S=null==b;return p[5]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(ex.Z,{}),p[5]=s):s=p[5],p[6]!==v||p[7]!==S?(o=(0,r.jsx)(ef.Z,{title:"Show Raw Backend Response",children:(0,r.jsx)("span",{children:(0,r.jsx)(V.Z,{onClick:v,size:"small",sx:l,"aria-label":"Show raw JSON",disabled:S,children:s})})}),p[6]=v,p[7]=S,p[8]=o):o=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)(P.Z,{id:"raw-json-modal-title",variant:"h6",component:"h2",children:"Raw Backend Response"}),p[9]=c):c=p[9],p[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsx)(em.Z,{}),p[10]=d):d=p[10],p[11]!==_?(m=(0,r.jsxs)($.Z,{sx:eg,children:[c,(0,r.jsx)(V.Z,{onClick:_,"aria-label":"close",children:d})]}),p[11]=_,p[12]=m):m=p[12],p[13]!==b?(u=(0,r.jsx)($.Z,{sx:ey,children:b?(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)(H.Z,{}),children:(0,r.jsx)(ep.gc,{data:b})}):(0,r.jsx)(P.Z,{children:"No raw data available to display."})}),p[13]=b,p[14]=u):u=p[14],p[15]!==u||p[16]!==m?(f=(0,r.jsxs)($.Z,{sx:eb,children:[m,u]}),p[15]=u,p[16]=m,p[17]=f):f=p[17],p[18]!==_||p[19]!==g||p[20]!==f?(h=(0,r.jsx)(eh.Z,{open:g,onClose:_,"aria-labelledby":"raw-json-modal-title","aria-describedby":"raw-json-modal-description",children:f}),p[18]=_,p[19]=g,p[20]=f,p[21]=h):h=p[21],p[22]!==h||p[23]!==o?(x=(0,r.jsxs)(r.Fragment,{children:[o,h]}),p[22]=h,p[23]=o,p[24]=x):x=p[24],x};var ev=a(32206),e_=a(66520);let eS=e=>{let t=(0,i.c)(10),{code:a,language:n}=e;if(a.length>5e4){let e,n,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={whiteSpace:"pre-wrap",padding:"10px",borderRadius:"5px"},t[0]=e):e=t[0],t[1]!==a?(n=a.trim(),t[1]=a,t[2]=n):n=t[2],t[3]!==n?(l=(0,r.jsx)("code",{style:e,children:n}),t[3]=n,t[4]=l):l=t[4],l}{let e,l;return t[5]!==a?(e=a.trim(),t[5]=a,t[6]=e):e=t[6],t[7]!==n||t[8]!==e?(l=(0,r.jsx)(e_.ZP,{language:n,theme:"material-theme-lighter",children:e}),t[7]=n,t[8]=e,t[9]=l):l=t[9],l}};var ew=a(17563),eZ=a(96685),eC=a(65054),ek=a(58446),eN=a(44867),eA=a.n(eN);ek.Z.use(eA());let eI=(0,n.memo)(e=>{let t,a,n,l,s,o,c,d,m,u,f,h,x=(0,i.c)(17),{data:p}=e;return x[0]===Symbol.for("react.memo_cache_sentinel")?(a={trigger:"axis",confine:!0},n=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],x[0]=a,x[1]=n):(a=x[0],n=x[1]),x[2]!==p?(l=p.map(eO),x[2]=p,x[3]=l):l=x[3],x[4]!==l?(s={data:l,orient:"vertical",right:10,top:"center"},x[4]=l,x[5]=s):s=x[5],x[6]===Symbol.for("react.memo_cache_sentinel")?(o={left:"5%",right:"15%",bottom:"10%",top:"10%",containLabel:!0},c={type:"value",name:"X Axis",nameLocation:"middle",nameGap:30},d={type:"value",name:"Y Axis",min:-1,max:1,nameLocation:"middle",nameGap:50},x[6]=o,x[7]=c,x[8]=d):(o=x[6],c=x[7],d=x[8]),x[9]!==p?(m=p.map(eT),x[9]=p,x[10]=m):m=x[10],x[11]!==s||x[12]!==m?(u={tooltip:a,color:n,legend:s,grid:o,xAxis:c,yAxis:d,series:m},x[11]=s,x[12]=m,x[13]=u):u=x[13],t=u,x[14]===Symbol.for("react.memo_cache_sentinel")?(f={height:"100%",minHeight:"300px",width:"100%"},x[14]=f):f=x[14],x[15]!==t?(h=(0,r.jsx)(eZ.Z,{lazyUpdate:!0,option:t,style:f}),x[15]=t,x[16]=h):h=x[16],h}),eE=(0,n.memo)(e=>{let t,a,n,l,s,o,c,d,m,u,f,h,x=(0,i.c)(21),{prettyName:p,data:b,keys:g}=e;if(x[0]===Symbol.for("react.memo_cache_sentinel")?(a={confine:!0,trigger:"axis",axisPointer:{type:"shadow"}},n={containLabel:!1},x[0]=a,x[1]=n):(a=x[0],n=x[1]),x[2]===Symbol.for("react.memo_cache_sentinel")?(l={rotate:45,formatter:eL},x[2]=l):l=x[2],x[3]!==g?(s={data:g,axisLabel:l},x[3]=g,x[4]=s):s=x[4],x[5]===Symbol.for("react.memo_cache_sentinel")?(o={type:"value"},x[5]=o):o=x[5],x[6]!==b||x[7]!==g){let e;x[9]!==b?(e=e=>b[e],x[9]=b,x[10]=e):e=x[10],c=g.map(e),x[6]=b,x[7]=g,x[8]=c}else c=x[8];return x[11]===Symbol.for("react.memo_cache_sentinel")?(d={focus:"series",blurScope:"coordinateSystem"},x[11]=d):d=x[11],x[12]!==p||x[13]!==c?(m={name:p,type:"bar",data:c,emphasis:d,animationDuration:300},x[12]=p,x[13]=c,x[14]=m):m=x[14],x[15]!==s||x[16]!==m?(u={tooltip:a,grid:n,xAxis:s,yAxis:o,series:m},x[15]=s,x[16]=m,x[17]=u):u=x[17],t=u,x[18]===Symbol.for("react.memo_cache_sentinel")?(f={height:"100%",minHeight:"300px",width:"100%"},x[18]=f):f=x[18],x[19]!==t?(h=(0,r.jsx)(eZ.Z,{lazyUpdate:!0,option:t,style:f}),x[19]=t,x[20]=h):h=x[20],h}),ez=(0,n.memo)(e=>{let t,a,n,l,s,o,c,d,m,u,f=(0,i.c)(15),{data:h,onNodeClick:x}=e;f[0]!==h.links||f[1]!==h.nodes?(a=eC.Z.normalizeElements({nodes:h.nodes.map(eF),edges:h.links.map(eW)}),f[0]=h.links,f[1]=h.nodes,f[2]=a):a=f[2],t=a,f[3]===Symbol.for("react.memo_cache_sentinel")?(l={selector:"node",style:{"background-color":"data(color)",width:"data(size)",height:"data(size)","text-valign":"top","text-halign":"center","text-margin-y":-5,"font-size":"12px",color:"#000000","text-outline-width":2,"text-outline-color":"#ffffff","z-index":1,label:""}},f[3]=l):l=f[3],f[4]===Symbol.for("react.memo_cache_sentinel")?(s=[l,{selector:"edge",style:{width:2,"line-color":"#cccccc","target-arrow-color":"#cccccc","target-arrow-shape":"triangle","curve-style":"bezier"}}],f[4]=s):s=f[4],n=s,f[5]===Symbol.for("react.memo_cache_sentinel")?(o={height:"100%",minHeight:"300px",width:"100%"},f[5]=o):o=f[5],f[6]===Symbol.for("react.memo_cache_sentinel")?(c={width:"100%",height:"100%"},f[6]=c):c=f[6];let p=h.nodes.length>1e3?"random":"fcose";f[7]!==p?(d={name:p,animate:!1,samplingType:!1,animationDuration:1500,fit:!0,padding:30},f[7]=p,f[8]=d):d=f[8];let b=d;return f[9]!==x?(m=e=>{e.on("tap","node",e=>{let t=e.target;x&&x({id:t.id()},e)}),e.on("mouseover","node",eP),e.on("mouseout","node",eR)},f[9]=x,f[10]=m):m=f[10],f[11]!==b||f[12]!==m||f[13]!==t?(u=(0,r.jsx)($.Z,{sx:o,children:(0,r.jsx)(eC.Z,{elements:t,style:c,stylesheet:n,layout:b,cy:m})}),f[11]=b,f[12]=m,f[13]=t,f[14]=u):u=f[14],u}),eD=e=>{let t,a=(0,i.c)(22),{viewId:l,content:s,onNodeClick:o,prettyName:c}=e;a[0]!==o?(t=(e,t)=>{t&&(t.preventDefault(),t.stopPropagation()),e?.id&&o(e.id.includes("@")?e.id.split("@")[1]:e.id)},a[0]=o,a[1]=t):t=a[1];let d=t;if("char_example_xy"===l){let e,t,l;a[2]!==s?(e=function(e){if(!e)return[];let t=[];for(let a of Object.keys(e)){let r=e?.[a]||{},n={id:a,data:r.map(eV)};t.push(n)}return t}(s),a[2]=s,a[3]=e):e=a[3];let o=e;return a[4]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(H.Z,{}),a[4]=t):t=a[4],a[5]!==o?(l=(0,r.jsx)("div",{className:"graph",onClick:eM,children:(0,r.jsx)(n.Suspense,{fallback:t,children:(0,r.jsx)(eI,{data:o})})}),a[5]=o,a[6]=l):l=a[6],l}if(l.endsWith("_distribution")){let e,t,l,o;a[7]!==s?(e=function(e){if(!e)return{};let t={};for(let a of Object.values(e))for(let e of Object.keys(a))t[e]=a?.[e]||{};return t}(s),a[7]=s,a[8]=e):e=a[8];let i=e;a[9]!==s?(t=function(e){if(!e||0===Object.values(e).length)return[];let t=new Set;return Object.values(e).forEach(e=>{Object.keys(e).forEach(e=>t.add(e))}),Array.from(t).sort()}(s),a[9]=s,a[10]=t):t=a[10];let d=t;return a[11]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)(H.Z,{}),a[11]=l):l=a[11],a[12]!==i||a[13]!==d||a[14]!==c?(o=(0,r.jsx)("div",{className:"graph",onClick:eH,children:(0,r.jsx)(n.Suspense,{fallback:l,children:(0,r.jsx)(eE,{prettyName:c,data:i,keys:d})})}),a[12]=i,a[13]=d,a[14]=c,a[15]=o):o=a[15],o}if(!l.endsWith("nivo_view"))return null;{let e,t,l;a[16]!==s?(e=function(e){if(!e||!e.nodes)return{nodes:[],links:[]};let t=new Map;e.nodes.forEach(e=>{let a=e.id||e.label,r={...e,id:a,label:e.label||a,size:e.size||30,color:e.color||"#1f77b4"};t.has(r.id)||t.set(r.id,r)});let a=e.links.map(eK);return{nodes:Array.from(t.values()),links:a}}(s),a[16]=s,a[17]=e):e=a[17];let o=e;return a[18]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(H.Z,{}),a[18]=t):t=a[18],a[19]!==d||a[20]!==o?(l=(0,r.jsx)("div",{className:"graph",onClick:eU,children:(0,r.jsx)(n.Suspense,{fallback:t,children:(0,r.jsx)(ez,{data:o,onNodeClick:d})})}),a[19]=d,a[20]=o,a[21]=l):l=a[21],l}};function eO(e){return e.id}function e$(e){return[e.x,e.y]}function eT(e){return{name:e.id,type:"line",data:e.data.map(e$),showSymbol:!1,symbolSize:8,emphasis:{focus:"series"},animationDuration:300}}function eL(e){return e.length>10?`${e.substring(0,10)}...`:e}function eF(e){return{data:{id:e.id,label:e.label,size:e.size||30,color:e.color||"#1f77b4",x:e.x,y:e.y}}}function eW(e){return{data:{source:e.source,target:e.target}}}function eP(e){let t=e.target;t.style("label",t.data("label"))}function eR(e){e.target.style("label","")}function eV(e){let t=Object.keys(e)[0];return{x:parseFloat(t),y:parseFloat(e[t])}}function eK(e){let t="object"==typeof e.source?e.source.id||e.source.label:e.source,a="object"==typeof e.target?e.target.id||e.target.label:e.target;return{...e,source:t,target:a}}function eM(e){e.stopPropagation(),e.preventDefault()}function eH(e){e.stopPropagation(),e.preventDefault()}function eU(e){e.stopPropagation(),e.preventDefault()}var eB=a(15648),eq=a(80632);let eQ=e=>{let t,a,n,l=(0,i.c)(9),{content:s}=e;if(!Array.isArray(s?.attributes)){let e,t;l[0]===Symbol.for("react.memo_cache_sentinel")?(e={p:2},l[0]=e):e=l[0];let a=typeof s?.attributes;return l[1]!==a?(t=(0,r.jsxs)(P.Z,{sx:e,color:"error",children:["Error: Expected an array for 'class_attribute_field' data, but received type ",a,"."]}),l[1]=a,l[2]=t):t=l[2],t}if(s?.attributes.length===0){let e;return l[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(P.Z,{sx:{p:2},children:"No output nodes connected."}),l[3]=e):e=l[3],e}return l[4]===Symbol.for("react.memo_cache_sentinel")?(t={p:1,display:"flex",flexWrap:"wrap",gap:2},l[4]=t):t=l[4],l[5]!==s?.attributes?(a=s?.attributes?.map(eJ),l[5]=s?.attributes,l[6]=a):a=l[6],l[7]!==a?(n=(0,r.jsx)($.Z,{sx:t,children:a}),l[7]=a,l[8]=n):n=l[8],n};function eJ(e){let t=e.mimeType?.startsWith("image/")&&e.value,a=Object.hasOwn(e,"value")&&null!==e.value&&void 0!==e.value;return"graph"===e.name?null:(0,r.jsxs)(eo.Z,{sx:{minWidth:275,maxWidth:350,display:"flex",flexDirection:"column"},children:[(0,r.jsxs)(es.Z,{sx:{flexGrow:1},children:[(0,r.jsx)(P.Z,{variant:"h6",component:"div",sx:{wordBreak:"break-word"},children:e.name}),t&&(0,r.jsx)(eB.Z,{component:"img",sx:{maxHeight:200,width:"auto",objectFit:"contain",mt:1,border:"1px solid #eee"},image:`data:${e.mimeType};base64,${e.value}`,alt:`Output value for ${e.name}`}),!t&&a&&(0,r.jsx)(P.Z,{variant:"body2",component:"pre",sx:{whiteSpace:"pre-wrap",wordBreak:"break-all",mt:1,p:1,backgroundColor:"#f5f5f5",borderRadius:1},children:"object"==typeof e.value?JSON.stringify(e.value,null,2):String(e.value)}),!a&&!t&&(0,r.jsx)(P.Z,{variant:"body2",sx:{fontStyle:"italic",mt:1},children:"(No displayable value)"})]}),"true"===e.editable&&(0,r.jsx)(eq.Z,{children:(0,r.jsx)(R.Z,{size:"small",onClick:t=>{t.stopPropagation(),alert(`Edit action for: ${e.name} (ID: ${e.id}) - Not implemented yet.`)},children:"Edit"})})]},e.id)}let eG=e=>{let t,a,n,l,s,o,c,d,m=(0,i.c)(19),{content:u,jumpToNode:f}=e;m[0]!==f?(t=(e,t)=>{e.stopPropagation(),e.preventDefault(),f(t)},m[0]=f,m[1]=t):t=m[1];let h=t;return m[2]===Symbol.for("react.memo_cache_sentinel")?(a={mb:2},m[2]=a):a=m[2],m[3]!==u.ins?(n=Object.keys(u.ins),m[3]=u.ins,m[4]=n):n=m[4],m[5]!==u.ins||m[6]!==h||m[7]!==n?(l=(0,r.jsx)($.Z,{sx:a,children:n.map(e=>(0,r.jsxs)(R.Z,{onClick:t=>h(t,u.ins[e]),variant:"contained",sx:{bgcolor:"#3949ab",color:"#fff",mr:1,mb:1,"&:hover":{bgcolor:"#5c6bc0"}},children:[e," (",u.ins[e],")"]},e))}),m[5]=u.ins,m[6]=h,m[7]=n,m[8]=l):l=m[8],m[9]===Symbol.for("react.memo_cache_sentinel")?(s={paddingY:"10px"},m[9]=s):s=m[9],m[10]!==u.outs?(o=Object.keys(u.outs),m[10]=u.outs,m[11]=o):o=m[11],m[12]!==u.outs||m[13]!==h||m[14]!==o?(c=(0,r.jsx)($.Z,{sx:s,children:o.map(e=>(0,r.jsxs)(R.Z,{onClick:t=>h(t,u.outs[e]),variant:"contained",sx:{bgcolor:"#00897b",color:"#fff",mr:1,mb:1,"&:hover":{bgcolor:"#26a69a"}},children:[e," (",u.outs[e],")"]},e))}),m[12]=u.outs,m[13]=h,m[14]=o,m[15]=c):c=m[15],m[16]!==l||m[17]!==c?(d=(0,r.jsxs)(r.Fragment,{children:[l,c]}),m[16]=l,m[17]=c,m[18]=d):d=m[18],d},eY=e=>{let t,a,l,s=(0,i.c)(88),{viewId:o,content:c,contentType:d,backgroundColor:m,jumpToNode:u,hexColor:f,onHexColorChange:h,prettyName:x}=e,p=(0,n.useRef)(null);s[0]!==c||s[1]!==d?(t=()=>{"text/dot"===d&&p.current&&(0,ew.f)(p.current,{engine:"dot",fit:!0,zoom:!0}).renderDot(c)},s[0]=c,s[1]=d,s[2]=t):t=s[2];let b=t;if(s[3]!==b?(a=()=>{b()},l=[b],s[3]=b,s[4]=a,s[5]=l):(a=s[4],l=s[5]),(0,n.useEffect)(a,l),!c){let e;return s[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"error-message",children:"No content available."}),s[6]=e):e=s[6],e}if("application/json"===d)if("class_attribute_field"===o){let e;return s[7]!==c?(e=(0,r.jsx)(eQ,{content:c}),s[7]=c,s[8]=e):e=s[8],e}else if("char_example_xy"===o||o.endsWith("_distribution")||o.endsWith("nivo_view")){let e,t;return s[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(H.Z,{}),s[9]=e):e=s[9],s[10]!==c||s[11]!==u||s[12]!==x||s[13]!==o?(t=(0,r.jsx)("div",{className:"graph",onClick:eX,children:(0,r.jsx)(n.Suspense,{fallback:e,children:(0,r.jsx)(eD,{viewId:o,content:c,onNodeClick:u,prettyName:x})})}),s[10]=c,s[11]=u,s[12]=x,s[13]=o,s[14]=t):t=s[14],t}else if("bnode_navigator"===o){let e;return s[15]!==c||s[16]!==u?(e=(0,r.jsx)(eG,{content:c,jumpToNode:u}),s[15]=c,s[16]=u,s[17]=e):e=s[17],e}else{let e,t,a,l;return s[18]!==m?(e={background:m},s[18]=m,s[19]=e):e=s[19],s[20]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(H.Z,{}),s[20]=t):t=s[20],s[21]!==c?(a=(0,r.jsx)(n.Suspense,{fallback:t,children:(0,r.jsx)(ep.gc,{data:c,shouldExpandNode:ep.T})}),s[21]=c,s[22]=a):a=s[22],s[23]!==e||s[24]!==a?(l=(0,r.jsx)("div",{className:"content-container",style:e,children:a}),s[23]=e,s[24]=a,s[25]=l):l=s[25],l}if("text/dot"===d){let e,t,a;return s[26]!==m?(e={background:m},s[26]=m,s[27]=e):e=s[27],s[28]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)("div",{ref:p}),s[28]=t):t=s[28],s[29]!==e?(a=(0,r.jsx)("div",{className:"content-container graphviz-container",style:e,children:t}),s[29]=e,s[30]=a):a=s[30],a}if("text/html"===d){let e,t,a;return s[31]!==m?(e={background:m},s[31]=m,s[32]=e):e=s[32],s[33]!==c?(t=(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:c}}),s[33]=c,s[34]=t):t=s[34],s[35]!==e||s[36]!==t?(a=(0,r.jsx)("div",{className:"content-container html-content",style:e,children:t}),s[35]=e,s[36]=t,s[37]=a):a=s[37],a}if("image/svg"===d){let e,t,a,n;return s[38]===Symbol.for("react.memo_cache_sentinel")?(e={background:"transparent"},s[38]=e):e=s[38],s[39]!==c?(t={__html:c},s[39]=c,s[40]=t):t=s[40],s[41]===Symbol.for("react.memo_cache_sentinel")?(a={background:"transparent"},s[41]=a):a=s[41],s[42]!==t?(n=(0,r.jsx)("div",{className:"content-container",style:e,children:(0,r.jsx)("div",{dangerouslySetInnerHTML:t,style:a})}),s[42]=t,s[43]=n):n=s[43],n}if("image/svg+xml"===d){let e,t,a;s[44]===Symbol.for("react.memo_cache_sentinel")?(e={background:"transparent"},s[44]=e):e=s[44];let n=`data:image/svg+xml;base64,${c}`;return s[45]===Symbol.for("react.memo_cache_sentinel")?(t={background:"transparent"},s[45]=t):t=s[45],s[46]!==n?(a=(0,r.jsx)("div",{className:"content-container",style:e,children:(0,r.jsx)("img",{src:n,alt:"Graphviz",style:t})}),s[46]=n,s[47]=a):a=s[47],a}else if("text/plain"===d){let e,t,a;return s[48]!==m?(e={background:m},s[48]=m,s[49]=e):e=s[49],s[50]!==c?(t=(0,r.jsx)("pre",{children:c}),s[50]=c,s[51]=t):t=s[51],s[52]!==e||s[53]!==t?(a=(0,r.jsx)("div",{className:"content-container",style:e,children:t}),s[52]=e,s[53]=t,s[54]=a):a=s[54],a}else if("image/png"===d||"image/jpeg"===d){let e,t,a;s[55]!==m?(e={background:m},s[55]=m,s[56]=e):e=s[56];let n=`data:${d};base64,${c}`;return s[57]!==n?(t=(0,r.jsx)("img",{src:n,alt:"Content"}),s[57]=n,s[58]=t):t=s[58],s[59]!==e||s[60]!==t?(a=(0,r.jsx)("div",{className:"content-container",style:e,children:t}),s[59]=e,s[60]=t,s[61]=a):a=s[61],a}else if("image/jsondot"===d){let e,t,a,l;return s[62]!==m?(e={background:m},s[62]=m,s[63]=e):e=s[63],s[64]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(H.Z,{}),s[64]=t):t=s[64],s[65]!==c?(a=(0,r.jsx)(n.Suspense,{fallback:t,children:(0,r.jsx)(ep.gc,{data:c})}),s[65]=c,s[66]=a):a=s[66],s[67]!==e||s[68]!==a?(l=(0,r.jsx)("div",{className:"content-container",style:e,children:a}),s[67]=e,s[68]=a,s[69]=l):l=s[69],l}else if("text/java"===d){let e,t,a,l;return s[70]!==m?(e={background:m},s[70]=m,s[71]=e):e=s[71],s[72]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(H.Z,{}),s[72]=t):t=s[72],s[73]!==c?(a=(0,r.jsx)(n.Suspense,{fallback:t,children:(0,r.jsx)(eS,{language:"java",code:c})}),s[73]=c,s[74]=a):a=s[74],s[75]!==e||s[76]!==a?(l=(0,r.jsx)("div",{className:"content-container",style:e,children:a}),s[75]=e,s[76]=a,s[77]=l):l=s[77],l}else if("text/hex"===d){let e,t,a;return s[78]!==m?(e={background:m},s[78]=m,s[79]=e):e=s[79],s[80]!==f||s[81]!==h?(t=(0,r.jsx)(ev.AI,{color:f,disableAlpha:!0,onChangeComplete:h}),s[80]=f,s[81]=h,s[82]=t):t=s[82],s[83]!==e||s[84]!==t?(a=(0,r.jsx)("div",{className:"content-container",style:e,children:t}),s[83]=e,s[84]=t,s[85]=a):a=s[85],a}else{let e;return s[86]!==d?(e=(0,r.jsxs)("div",{className:"error-message",children:["Unsupported content type: ",d]}),s[86]=d,s[87]=e):e=s[87],e}};function eX(e){e.stopPropagation(),e.preventDefault()}let e0=e=>{let t,a,n,l,s,o,c=(0,i.c)(24),{loading:d,error:m,rawApiData:u,dataContent:f,backgroundColor:h,jumpToNode:x,hexColor:p,onHexColorChange:b,viewId:g}=e;if(t=f?.results?.[0]?.result?.data,a=f?.results?.[0]?.result?.contentType,n=f?.results?.[0]?.pretty_name,d){let e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)($.Z,{className:"view-container",sx:{position:"relative",padding:2,display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px"},children:(0,r.jsx)(H.Z,{})}),c[0]=e):e=c[0],e}if(m){let e,t,a;return c[1]===Symbol.for("react.memo_cache_sentinel")?(e={position:"relative",padding:2},c[1]=e):e=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(t={marginTop:"40px"},c[2]=t):t=c[2],c[3]!==m.message?(a=(0,r.jsx)($.Z,{className:"view-container information-page",sx:e,children:(0,r.jsxs)("div",{className:"error-message",style:t,children:["Error fetching data: ",m.message]})}),c[3]=m.message,c[4]=a):a=c[4],a}if(!u){let e,t;return c[5]===Symbol.for("react.memo_cache_sentinel")?(e={position:"relative",padding:2},c[5]=e):e=c[5],c[6]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)($.Z,{className:"view-container information-page",sx:e,children:(0,r.jsx)("div",{className:"error-message",style:{marginTop:"40px"},children:"No data available."})}),c[6]=t):t=c[6],t}if(f?.results?.[0]?.error!==void 0){let e,t,a;return c[7]===Symbol.for("react.memo_cache_sentinel")?(e={position:"relative",padding:2},c[7]=e):e=c[7],c[8]===Symbol.for("react.memo_cache_sentinel")?(t={marginTop:"40px"},c[8]=t):t=c[8],c[9]!==f.results[0].error?(a=(0,r.jsx)($.Z,{className:"view-container information-page",sx:e,children:(0,r.jsxs)("div",{className:"error-message",style:t,children:["Backend Error: ",f.results[0].error]})}),c[9]=f.results[0].error,c[10]=a):a=c[10],a}if(!t||!a){let e,t;return c[11]===Symbol.for("react.memo_cache_sentinel")?(e={position:"relative",padding:2},c[11]=e):e=c[11],c[12]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)($.Z,{className:"view-container information-page",sx:e,children:(0,r.jsx)("div",{className:"error-message",style:{marginTop:"40px"},children:"Result data or content type missing in the response."})}),c[12]=t):t=c[12],t}return c[13]===Symbol.for("react.memo_cache_sentinel")?(l={position:"relative",padding:2,flex:1,minHeight:"300px",display:"flex",flexDirection:"column",overflow:"hidden"},c[13]=l):l=c[13],c[14]===Symbol.for("react.memo_cache_sentinel")?(s={mt:4,flex:1,overflow:"auto","&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"4px"},"&::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"}},c[14]=s):s=c[14],c[15]!==h||c[16]!==p||c[17]!==x||c[18]!==b||c[19]!==n||c[20]!==a||c[21]!==t||c[22]!==g?(o=(0,r.jsx)($.Z,{sx:l,children:(0,r.jsx)($.Z,{sx:s,children:(0,r.jsx)(eY,{viewId:g,content:t,contentType:a,backgroundColor:h,jumpToNode:x,hexColor:p,onHexColorChange:b,prettyName:n})})}),c[15]=h,c[16]=p,c[17]=x,c[18]=b,c[19]=n,c[20]=a,c[21]=t,c[22]=g,c[23]=o):o=c[23],o},e1=e=>{let t,a,l,s,o,c,d,m,u,f=(0,i.c)(26),{viewId:h,sx:x}=e,{data:g,isLoading:y,error:j}=p(h),v=(0,A.NL)(),[_,S]=(0,n.useState)(!1),[w,Z]=(0,n.useState)("#ffffff"),C=b("update_colour");f[0]!==C||f[1]!==h?(t=e=>{Z(e.hex),C.mutate({view_id:h,value:e.hex})},f[0]=C,f[1]=h,f[2]=t):t=f[2];let k=t;f[3]!==v?(a={onSuccess:async()=>{await v.invalidateQueries()}},f[3]=v,f[4]=a):a=f[4];let N=b("jump",a);f[5]!==N?(l=e=>{N.mutate({node_id:e})},f[5]=N,f[6]=l):l=f[6];let I=l;f[7]!==g?(s=g??{data:void 0},f[7]=g,f[8]=s):s=f[8];let{data:E}=s;x?.bgcolor,o=x?.bgcolor||"transparent";let z=g?.data?.results?.[0]?.result?.data;return f[9]===Symbol.for("react.memo_cache_sentinel")?(c={height:"100%",display:"flex",flexDirection:"column"},f[9]=c):c=f[9],f[10]!==z||f[11]!==_?(d=(0,r.jsx)(ej,{dataForModal:z,isModalOpen:_,setIsModalOpen:S}),f[10]=z,f[11]=_,f[12]=d):d=f[12],f[13]!==o||f[14]!==E||f[15]!==j||f[16]!==k||f[17]!==w||f[18]!==I||f[19]!==y||f[20]!==g||f[21]!==h?(m=(0,r.jsx)(e0,{loading:y,error:j,rawApiData:g,dataContent:E,backgroundColor:o,jumpToNode:I,hexColor:w,onHexColorChange:k,viewId:h}),f[13]=o,f[14]=E,f[15]=j,f[16]=k,f[17]=w,f[18]=I,f[19]=y,f[20]=g,f[21]=h,f[22]=m):m=f[22],f[23]!==d||f[24]!==m?(u=(0,r.jsxs)($.Z,{className:"view-container",sx:c,children:[d,m]}),f[23]=d,f[24]=m,f[25]=u):u=f[25],u},e2=(0,n.memo)(e=>{let t,a,l,s,o,c,d,m,u,f,h,x,p,b,g,y,j,v,_,S,w=(0,i.c)(41),{view:Z,onClick:C,handleViewToggle:k}=e,N="technical"===Z.type?"#fff9c4":"#ffffff";w[0]!==N?(t={cursor:"pointer",aspectRatio:"1",border:"1px solid #e0e0e0",borderRadius:2,display:"flex",flexDirection:"column",bgcolor:N},w[0]=N,w[1]=t):t=w[1];let A="technical"===Z.type?"#fff8b0":"#f5f5f5";w[2]!==A?(a={height:"40px",width:"100%",bgcolor:A,borderBottom:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",cursor:"grab"},w[2]=A,w[3]=a):a=w[3],w[4]===Symbol.for("react.memo_cache_sentinel")?(l={color:"#757575"},w[4]=l):l=w[4];let I=`${Z.pretty_name} - ${Z.description}`;w[5]!==I?(s=(0,r.jsx)(P.Z,{className:"DragHere",variant:"caption",sx:l,children:I}),w[5]=I,w[6]=s):s=w[6],w[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(eu.Z,{}),w[7]=o):o=w[7],w[8]!==C?(c=(0,r.jsxs)("button",{type:"button",className:"expand-card",onClick:C,"aria-label":"expand",children:[" ",o," "]}),w[8]=C,w[9]=c):c=w[9],w[10]!==k||w[11]!==Z.name?(d=e=>{k(Z.name)},w[10]=k,w[11]=Z.name,w[12]=d):d=w[12],w[13]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)(em.Z,{}),w[13]=m):m=w[13],w[14]!==d?(u=(0,r.jsxs)("button",{type:"button",className:"erased-card",onClick:d,children:[" ",m," "]}),w[14]=d,w[15]=u):u=w[15],w[16]!==u||w[17]!==a||w[18]!==s||w[19]!==c?(f=(0,r.jsxs)($.Z,{sx:a,children:[s,c,u]}),w[16]=u,w[17]=a,w[18]=s,w[19]=c,w[20]=f):f=w[20],w[21]===Symbol.for("react.memo_cache_sentinel")?(h={xs:"12px",sm:"16px"},w[21]=h):h=w[21];let E="technical"===Z.type?"#fff9c4":"#ffffff";return w[22]!==E?(x={padding:h,height:"calc(100% - 40px)",display:"flex",flexDirection:"column",overflow:"hidden",bgcolor:E},w[22]=E,w[23]=x):x=w[23],w[24]===Symbol.for("react.memo_cache_sentinel")?(p={width:"6px"},b={bgcolor:"#3f51b5",borderRadius:"3px"},g={bgcolor:"#e8eaf6"},w[24]=p,w[25]=b,w[26]=g):(p=w[24],b=w[25],g=w[26]),w[27]===Symbol.for("react.memo_cache_sentinel")?(y={flex:1,overflow:"auto",color:"#424242",msOverflowStyle:"none",scrollbarWidth:"thin",scrollbarColor:"#3f51b5 #e8eaf6","&::-webkit-scrollbar":p,"&::-webkit-scrollbar-thumb":b,"&::-webkit-scrollbar-track":g,wordBreak:"break-word",overflowWrap:"break-word",whiteSpace:"pre-wrap",maxWidth:"100%",fontSize:{xs:"0.75rem",sm:"0.875rem"}},w[27]=y):y=w[27],w[28]!==Z.error||w[29]!==Z.name||w[30]!==Z.type?(j=Z.error?Z.error:(0,r.jsx)(n.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading view..."}),children:(0,r.jsx)(e1,{viewId:Z.name.replaceAll(" ","_"),sx:{bgcolor:"technical"===Z.type?"#fff9c4":"#ffffff",width:"100%"}})}),w[28]=Z.error,w[29]=Z.name,w[30]=Z.type,w[31]=j):j=w[31],w[32]!==j?(v=(0,r.jsx)($.Z,{sx:y,children:j}),w[32]=j,w[33]=v):v=w[33],w[34]!==x||w[35]!==v?(_=(0,r.jsx)(es.Z,{sx:x,children:v}),w[34]=x,w[35]=v,w[36]=_):_=w[36],w[37]!==f||w[38]!==t||w[39]!==_?(S=(0,r.jsxs)(eo.Z,{sx:t,children:[f,_]}),w[37]=f,w[38]=t,w[39]=_,w[40]=S):S=w[40],S});function e3(){let e=localStorage.getItem("showTechnicalViews");return!!e&&JSON.parse(e)}function e4(){let e=window.innerWidth;return e<900?1:e<1600?2:e<2100?3:4}function e5(e){return"technical"!==e.type}function e8(e){return e.name}function e6(e){return"technical"===e.type}function e7(e){return"technical"===e.type}function e9(e){return e.name}function te(e){return Math.max(e-1,1)}var tt=a(86001),ta=a(98106),tr=a(89126),tn=a(30548),tl=a(12550),ts=a(84672),to=a(95307),ti=a(51001),tc=a(3840),td=a(21967),tm=a(37745),tu=a(9e3),tf=a(93627),th=a(11731);let tx=n.memo(e=>{let{show:t,selectedField:a,existingNodeList:l,loadingExistingNodes:s,onClose:o,onSelectNode:i}=e,[c,d]=(0,n.useState)(""),m=(0,n.useCallback)(e=>{d(e.target.value)},[]),u=(0,n.useCallback)(()=>{o()},[o]),f=(0,n.useMemo)(()=>l.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())),[l,c]),h=(0,n.useCallback)(e=>{i(e,a)},[i,a]);return(0,r.jsx)(eh.Z,{open:t,onClose:u,"aria-labelledby":"existing-node-modal-title","aria-describedby":"existing-node-modal-description",children:(0,r.jsx)($.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",maxWidth:600,maxHeight:"80vh",bgcolor:"background.paper",boxShadow:24,outline:"none"},children:(0,r.jsxs)(eo.Z,{className:"existing-node-card",sx:{width:"100%",maxHeight:"80vh",overflow:"auto"},children:[(0,r.jsx)(th.Z,{id:"existing-node-modal-title",title:"Select Existing Node",action:(0,r.jsx)(V.Z,{onClick:u,"aria-label":"close",children:(0,r.jsx)(tf.Z,{})})}),(0,r.jsxs)(es.Z,{children:[(0,r.jsx)(M.Z,{fullWidth:!0,variant:"outlined",placeholder:"Search nodes...",value:c,onChange:m,sx:{mb:2}}),(0,r.jsx)($.Z,{className:"node-list",sx:{maxHeight:"50vh",overflow:"auto"},children:s?(0,r.jsxs)($.Z,{display:"flex",justifyContent:"center",p:2,children:[(0,r.jsx)(H.Z,{size:24})," ",(0,r.jsx)(P.Z,{sx:{ml:1},children:"Loading nodes..."})]}):(0,r.jsx)(T.Z,{spacing:1,children:f.map(e=>(0,r.jsx)($.Z,{sx:{p:2,cursor:"pointer","&:hover":{backgroundColor:"action.hover"}},onClick:()=>h(e),children:(0,r.jsx)(P.Z,{fontWeight:"bold",children:e.name})},e.id))})})]})]})})})});var tp=a(27484),tb=a.n(tp);let tg=e=>{if(!e)return"";let t=e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/_/g," ").trim();return t.charAt(0).toUpperCase()+t.slice(1)},ty=(e,t)=>`${e}@${t}`,tj=(e,t,a)=>{if(a?.required&&(null==t||"string"==typeof t&&""===t.trim()||Array.isArray(t)&&0===t.length))return"Ce champ est requis";if(a?.min!==void 0&&"number"==typeof t&&t<a.min)return`La valeur doit \xeatre au moins ${a.min}`;if(a?.max!==void 0&&"number"==typeof t&&t>a.max)return`La valeur doit \xeatre au plus ${a.max}`;if(a?.size){let e=Array.isArray(t)||"string"==typeof t?t.length:-1;if(-1!==e){if(void 0!==a.size.min&&e<a.size.min)return`Doit contenir au moins ${a.size.min} caract\xe8res/\xe9l\xe9ments`;if(void 0!==a.size.max&&e>a.size.max)return`Doit contenir au plus ${a.size.max} caract\xe8res/\xe9l\xe9ments`}}if(a?.pattern&&"string"==typeof t&&!new RegExp(a.pattern).test(t))return`Doit correspondre au mod\xe8le : ${a.pattern}`;switch(e){case"EmailNode":return"Veuillez entrer une adresse e-mail valide";case"IntNode":return"Veuillez entrer un entier valide";case"PhoneNumberNode":return"Veuillez entrer un num\xe9ro de t\xe9l\xe9phone valide";case"DateNode":return"Veuillez entrer une date valide";default:return"Valeur invalide"}},tv=(e,t,a)=>{let r=!0,n="";if(a?.required&&(null==t||"string"==typeof t&&""===t.trim()||Array.isArray(t)&&0===t.length))return{isValid:r=!1,message:n="Ce champ est requis"};if(!a?.required&&(null==t||"string"==typeof t&&""===t.trim()||Array.isArray(t)&&0===t.length))return{isValid:!0,message:""};if(a?.min!==void 0&&"number"==typeof t&&t<a.min)return{isValid:r=!1,message:n=`La valeur doit \xeatre au moins ${a.min}`};if(a?.max!==void 0&&"number"==typeof t&&t>a.max)return{isValid:r=!1,message:n=`La valeur doit \xeatre au plus ${a.max}`};if(a?.size){let e=Array.isArray(t)||"string"==typeof t?t.length:-1;if(-1!==e){if(void 0!==a.size.min&&e<a.size.min)return{isValid:r=!1,message:n=`Doit contenir au moins ${a.size.min} caract\xe8res/\xe9l\xe9ments`};if(void 0!==a.size.max&&e>a.size.max)return{isValid:r=!1,message:n=`Doit contenir au plus ${a.size.max} caract\xe8res/\xe9l\xe9ments`}}}if(a?.pattern&&"string"==typeof t&&!new RegExp(a.pattern).test(t))return{isValid:r=!1,message:n=`Doit correspondre au mod\xe8le : ${a.pattern}`};switch(e){case"IntNode":(r=/^-?\d+$/.test(t))||(n="Veuillez entrer un entier valide");break;case"DateNode":(r=tb()(t).isValid())||(n="Veuillez entrer une date valide")}return{isValid:r,message:n}},t_=["StringNode","EmailNode","PhoneNumberNode","IntNode"],tS=["BooleanNode"],tw=["DateNode"],tZ=["ImageNode"],tC=["DropdownNode"],tk=["RadioNode"],tN=["ListCheckboxNode"],tA=["FileNode"],tI=["ListNode","SetNode"],tE=["ColorNode"],tz=[...t_,...tA,...tS,...tN,...tw,...tC,...tk,...tE];var tD=a(73892),tO=a(92719),t$=a(19298);let tT=e=>{let t,a,n,l,s,o,c,d,m,u,f=(0,i.c)(20);f[0]!==e?({field:a,fieldKey:n,value:d,onFocus:o,onChange:s,error:t,helperText:l,...c}=e,f[0]=e,f[1]=t,f[2]=a,f[3]=n,f[4]=l,f[5]=s,f[6]=o,f[7]=c,f[8]=d):(t=f[1],a=f[2],n=f[3],l=f[4],s=f[5],o=f[6],c=f[7],d=f[8]);let h=function(e){switch(e){case"EmailNode":return"email";case"PhoneNumberNode":return"tel";case"IntNode":return"number";default:return"text"}}(a.type),x=d||"";return f[9]!==s?(m=e=>s(e.target.value),f[9]=s,f[10]=m):m=f[10],f[11]!==t||f[12]!==n||f[13]!==l||f[14]!==o||f[15]!==c||f[16]!==h||f[17]!==x||f[18]!==m?(u=(0,r.jsx)(M.Z,{fullWidth:!0,id:n,variant:"outlined",type:h,value:x,onFocus:o,onChange:m,error:t,helperText:l,...c}),f[11]=t,f[12]=n,f[13]=l,f[14]=o,f[15]=c,f[16]=h,f[17]=x,f[18]=m,f[19]=u):u=f[19],u};var tL=a(14937),tF=a(85714);let tW=e=>{let t,a,n,l,s,o,c,d,m,u,f,h,x=(0,i.c)(24);if(x[0]!==e){let{fieldKey:r,value:o,onChange:i,error:c,helperText:d,...m}=e;s=o,n=i,t=c,a=d,l=m,x[0]=e,x[1]=t,x[2]=a,x[3]=n,x[4]=l,x[5]=s}else t=x[1],a=x[2],n=x[3],l=x[4],s=x[5];return x[6]!==s?(o=s?tb()(s):null,x[6]=s,x[7]=o):o=x[7],x[8]!==n?(c=e=>n(e),x[8]=n,x[9]=c):c=x[9],x[10]===Symbol.for("react.memo_cache_sentinel")?(d={width:"100%"},x[10]=d):d=x[10],x[11]!==t?(m={textField:{size:"small",error:t}},x[11]=t,x[12]=m):m=x[12],x[13]!==l||x[14]!==o||x[15]!==c||x[16]!==m?(u=(0,r.jsx)(tL.M,{value:o,onChange:c,sx:d,...l,slotProps:m}),x[13]=l,x[14]=o,x[15]=c,x[16]=m,x[17]=u):u=x[17],x[18]!==a?(f=a&&(0,r.jsx)(tF.Z,{children:a}),x[18]=a,x[19]=f):f=x[19],x[20]!==t||x[21]!==u||x[22]!==f?(h=(0,r.jsxs)(tD.Z,{fullWidth:!0,error:t,children:[u,f]}),x[20]=t,x[21]=u,x[22]=f,x[23]=h):h=x[23],h};var tP=a(39380);let tR=e=>{let t,a,n,l,s,o,c=(0,i.c)(12);if(c[0]!==e){let{fieldKey:r,value:s,onFocus:o,onChange:i,...d}=e;t=r,l=s,a=i,n=d,c[0]=e,c[1]=t,c[2]=a,c[3]=n,c[4]=l}else t=c[1],a=c[2],n=c[3],l=c[4];let d=!!l;return c[5]!==a?(s=e=>a(e.target.checked),c[5]=a,c[6]=s):s=c[6],c[7]!==t||c[8]!==n||c[9]!==d||c[10]!==s?(o=(0,r.jsx)(tP.Z,{control:(0,r.jsx)(ei.Z,{id:t,checked:d,onChange:s,...n}),label:""}),c[7]=t,c[8]=n,c[9]=d,c[10]=s,c[11]=o):o=c[11],o},tV=e=>{let t,a,n,l,s,o,c,d,m,u,f,h,x=(0,i.c)(21);if(x[0]!==e){let{field:r,fieldKey:o,value:i,onFocus:c,onChange:d,...m}=e;t=r,s=i,n=c,a=d,l=m,x[0]=e,x[1]=t,x[2]=a,x[3]=n,x[4]=l,x[5]=s}else t=x[1],a=x[2],n=x[3],l=x[4],s=x[5];return x[6]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",flexDirection:"column",alignItems:"center",mt:2},x[6]=o):o=x[6],x[7]!==t||x[8]!==s?(c=s&&(0,r.jsx)($.Z,{component:"img",className:"image-preview",src:`data:${t.mimeType};base64,${s}`,alt:t.name,sx:{maxHeight:"150px",width:"auto",objectFit:"contain",mt:1,border:"1px solid #eee"}}),x[7]=t,x[8]=s,x[9]=c):c=x[9],x[10]===Symbol.for("react.memo_cache_sentinel")?(d={mt:2},x[10]=d):d=x[10],x[11]===Symbol.for("react.memo_cache_sentinel")?(m={display:"none"},x[11]=m):m=x[11],x[12]!==a?(u=async e=>{let t=e.target.files?.[0];if(!t)return;let r=new FileReader;r.onloadend=async()=>{if("string"==typeof r?.result){let e=r?.result?.split(",")[1];a(e)}},r.readAsDataURL(t)},x[12]=a,x[13]=u):u=x[13],x[14]!==n||x[15]!==l||x[16]!==u?(f=(0,r.jsxs)(R.Z,{variant:"contained",component:"label",sx:d,children:["Upload New Image",(0,r.jsx)(M.Z,{type:"file",accept:"image/*",sx:m,onClick:n,onChange:u,...l})]}),x[14]=n,x[15]=l,x[16]=u,x[17]=f):f=x[17],x[18]!==c||x[19]!==f?(h=(0,r.jsxs)($.Z,{className:"image-preview-wrapper",sx:o,children:[c,f]}),x[18]=c,x[19]=f,x[20]=h):h=x[20],h},tK=e=>{let t,a,l,s,o,c,d,m,u,f,h,x,b,g,y,j,v,_,S,w,Z=(0,i.c)(50);if(Z[0]!==e){let{field:r,fieldKey:n,value:i,defaultValue:h,onFocus:x,onChange:p,onFirstChange:b,error:g,helperText:y,multiple:j,...v}=e;l=r,s=n,f=i,t=h,c=p,d=b,a=g,o=y,u=j,m=v,Z[0]=e,Z[1]=t,Z[2]=a,Z[3]=l,Z[4]=s,Z[5]=o,Z[6]=c,Z[7]=d,Z[8]=m,Z[9]=u,Z[10]=f}else t=Z[1],a=Z[2],l=Z[3],s=Z[4],o=Z[5],c=Z[6],d=Z[7],m=Z[8],u=Z[9],f=Z[10];let C=void 0!==u&&u;Z[11]!==l.listNodeType?(h=l.listNodeType.split(".").pop(),Z[11]=l.listNodeType,Z[12]=h):h=Z[12];let k=h;Z[13]!==k?(x={type:k},Z[13]=k,Z[14]=x):x=Z[14];let{data:N,isLoading:A,isError:I}=p("list_existing_node",x);Z[15]!==t||Z[16]!==I||Z[17]!==A||Z[18]!==N?.data?.results?.[0]?.result?.data||Z[19]!==C||Z[20]!==d?(b=()=>{if(!A&&!I&&N?.data?.results?.[0]?.result?.data?.length!==0&&!C)if(t){let e=Number.parseInt(t.split("@")[1]),a=N?.data?.results?.[0]?.result?.data.find(t=>t.id===e);a?d({label:a.name,value:a.id}):d(void 0)}else d(void 0)},Z[15]=t,Z[16]=I,Z[17]=A,Z[18]=N?.data?.results?.[0]?.result?.data,Z[19]=C,Z[20]=d,Z[21]=b):b=Z[21];let E=N?.data?.results?.[0]?.result?.data.find,z=N?.data?.results?.[0]?.result?.data?.length;return Z[22]!==t||Z[23]!==I||Z[24]!==A||Z[25]!==C||Z[26]!==d||Z[27]!==E||Z[28]!==z?(g=[A,I,t,E,z,C,d],Z[22]=t,Z[23]=I,Z[24]=A,Z[25]=C,Z[26]=d,Z[27]=E,Z[28]=z,Z[29]=g):g=Z[29],(0,n.useEffect)(b,g),Z[30]!==a?(y=e=>(0,r.jsx)(M.Z,{...e,error:a}),Z[30]=a,Z[31]=y):y=Z[31],Z[32]!==N?.data?.results?.[0]?.result?.data?(j=N?.data?.results?.[0]?.result?.data.map(tM).sort(tH)||[],Z[32]=N?.data?.results?.[0]?.result?.data,Z[33]=j):j=Z[33],Z[34]!==c?(v=(e,t)=>{c(t)},Z[34]=c,Z[35]=v):v=Z[35],Z[36]!==s||Z[37]!==C||Z[38]!==m||Z[39]!==v||Z[40]!==y||Z[41]!==j||Z[42]!==f?(_=(0,r.jsx)(U.Z,{disablePortal:!0,renderInput:y,options:j,groupBy:tU,getOptionKey:tB,getOptionLabel:tq,isOptionEqualToValue:tQ,size:"small",id:s,value:f,onChange:v,multiple:C,...m}),Z[36]=s,Z[37]=C,Z[38]=m,Z[39]=v,Z[40]=y,Z[41]=j,Z[42]=f,Z[43]=_):_=Z[43],Z[44]!==o?(S=o&&(0,r.jsx)(tF.Z,{children:o}),Z[44]=o,Z[45]=S):S=Z[45],Z[46]!==a||Z[47]!==_||Z[48]!==S?(w=(0,r.jsxs)(tD.Z,{fullWidth:!0,error:a,children:[_,S]}),Z[46]=a,Z[47]=_,Z[48]=S,Z[49]=w):w=Z[49],w};function tM(e){let t=e.name[0].toUpperCase();return{label:e.name,value:e.id,firstLetter:"France(FR)"===e.name?" ":/[0-9]/.test(t)?"0-9":t}}function tH(e,t){return e.firstLetter!==t.firstLetter?e.firstLetter.localeCompare(t.firstLetter):e.label.localeCompare(t.label)}function tU(e){return e.firstLetter}function tB(e){return e.value??""}function tq(e){return e.label??""}function tQ(e,t){return e.value===t.value}var tJ=a(36762),tG=a(54791);let tY=e=>{let t,a,n,l,s,o,c,d,m,u,f,h,x,p,b=(0,i.c)(27);b[0]!==e?({field:n,fieldKey:l,value:m,defaultValue:t,onFocus:c,onChange:o,error:a,helperText:s,...d}=e,b[0]=e,b[1]=t,b[2]=a,b[3]=n,b[4]=l,b[5]=s,b[6]=o,b[7]=c,b[8]=d,b[9]=m):(t=b[1],a=b[2],n=b[3],l=b[4],s=b[5],o=b[6],c=b[7],d=b[8],m=b[9]);let g=m||t;return b[10]!==o?(u=e=>o(e.target.value),b[10]=o,b[11]=u):u=b[11],b[12]!==n.options?(f=n.options.map(tX),b[12]=n.options,b[13]=f):f=b[13],b[14]!==l||b[15]!==c||b[16]!==d||b[17]!==g||b[18]!==u||b[19]!==f?(h=(0,r.jsx)(tJ.Z,{row:!0,name:l,value:g,onChange:u,onFocus:c,...d,children:f}),b[14]=l,b[15]=c,b[16]=d,b[17]=g,b[18]=u,b[19]=f,b[20]=h):h=b[20],b[21]!==s?(x=s&&(0,r.jsx)(tF.Z,{children:s}),b[21]=s,b[22]=x):x=b[22],b[23]!==a||b[24]!==h||b[25]!==x?(p=(0,r.jsxs)(tD.Z,{fullWidth:!0,error:a,children:[h,x]}),b[23]=a,b[24]=h,b[25]=x,b[26]=p):p=b[26],p};function tX(e,t){return(0,r.jsx)(tP.Z,{value:t,control:(0,r.jsx)(tG.Z,{}),label:e},t)}var t0=a(87884);let t1=e=>{let t,a,l,s,o,c=(0,i.c)(15),{option:d,fieldId:m}=e,[u,f]=(0,n.useState)(d.value),h=b("set_value"),x=(0,A.NL)();c[0]!==m||c[1]!==x||c[2]!==h||c[3]!==u?(t=async e=>{if(!e)return console.warn("No field provided for saving changes");try{await S.ZP.promise(h.mutateAsync({id:e.id,value:u},{onSuccess:async()=>{await x.invalidateQueries({queryKey:["apiData","class_attribute_field",{node_id:Number.parseInt(m)}]})}}),{loading:`Enregistrement de ${tg(e.name)}...`,success:`Changements enregistr\xe9s pour ${tg(e.name)}`,error:`Erreur lors de l'enregistrement des changements pour ${tg(e.name)}`})}catch(e){console.error("Error saving changes:",e)}},c[0]=m,c[1]=x,c[2]=h,c[3]=u,c[4]=t):t=c[4],c[5]===Symbol.for("react.memo_cache_sentinel")?(a={maxWait:2e3},c[5]=a):a=c[5];let p=(0,Y.y1)(t,500,a),g=u||!1;return c[6]!==p||c[7]!==d?(l=e=>{f(e.target.checked),p(d)},c[6]=p,c[7]=d,c[8]=l):l=c[8],c[9]!==g||c[10]!==l?(s=(0,r.jsx)(ei.Z,{checked:g,onChange:l}),c[9]=g,c[10]=l,c[11]=s):s=c[11],c[12]!==d.name||c[13]!==s?(o=(0,r.jsx)(tP.Z,{label:d.name,control:s}),c[12]=d.name,c[13]=s,c[14]=o):o=c[14],o},t2=e=>{let t,a,n,l,s,o=(0,i.c)(13),{field:c,error:d,helperText:m}=e;o[0]!==c.id?(t={node_id:c.id},o[0]=c.id,o[1]=t):t=o[1];let{data:u}=p("class_attribute_field",t);return o[2]!==u?.data?.results?.[0]?.result?.data?.attributes||o[3]!==c.id?(a=u?.data?.results?.[0]?.result?.data?.attributes?.map((e,t)=>(0,r.jsx)(t1,{option:e,fieldId:c.id},t)),o[2]=u?.data?.results?.[0]?.result?.data?.attributes,o[3]=c.id,o[4]=a):a=o[4],o[5]!==a?(n=(0,r.jsx)(t0.Z,{row:!0,children:a}),o[5]=a,o[6]=n):n=o[6],o[7]!==m?(l=m&&(0,r.jsx)(tF.Z,{children:m}),o[7]=m,o[8]=l):l=o[8],o[9]!==d||o[10]!==n||o[11]!==l?(s=(0,r.jsxs)(tD.Z,{fullWidth:!0,error:d,children:[n,l]}),o[9]=d,o[10]=n,o[11]=l,o[12]=s):s=o[12],s};var t3=a(43180),t4=a(31694),t5=a(64519);a(3751),a(17084);var t8=a(41994);t3.Tu.workerSrc=new URL(a(87663),a.b).toString();let t6=e=>{let t,a,l,s,o,c,d,m,u,f,h,x,p,b,g=(0,i.c)(28),{value:y,onChange:j,error:v,helperText:_}=e,[S,w]=(0,n.useState)(y);g[0]!==y?(t=()=>{if(y){let e=atob(y),t=Array(e.length);for(let a=0;a<e.length;a++)t[a]=e.charCodeAt(a);let a=new Blob([new Uint8Array(t)],{type:"application/pdf"});w(URL.createObjectURL(a))}},a=[y],g[0]=y,g[1]=t,g[2]=a):(t=g[1],a=g[2]),(0,n.useEffect)(t,a),g[3]!==j?(l=e=>{let t=e.target.files[0];if(t&&"application/pdf"===t.type){let e=new FileReader;e.onloadend=()=>{"string"==typeof e.result&&j(e.result?.split(",")[1])},e.readAsDataURL(t)}else t&&(alert("Please select a PDF file."),e.target.value=null)},g[3]=j,g[4]=l):l=g[4];let Z=l;g[5]!==S?(s=e=>{e.stopPropagation(),S&&window.open(S,"_blank","noopener,noreferrer")},g[5]=S,g[6]=s):s=g[6];let C=s;g[7]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"},g[7]=o):o=g[7];let k=`2px solid ${v?"error.main":"transparent"}`;return g[8]===Symbol.for("react.memo_cache_sentinel")?(c={borderColor:"primary.main",boxShadow:4,transform:"scale(1.02)"},g[8]=c):c=g[8],g[9]!==k?(d={cursor:"pointer",border:k,borderRadius:"8px",width:"180px",height:"254px",overflow:"hidden",position:"relative",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#f8f8f8",mb:2,transition:"all 0.2s ease-in-out","&:hover":c},g[9]=k,g[10]=d):d=g[10],g[11]!==S?(m=S?(0,r.jsx)(t4.Z,{file:S,loading:(0,r.jsxs)($.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,r.jsx)(H.Z,{size:40,sx:{mb:1}}),(0,r.jsx)(P.Z,{variant:"caption",color:"text.secondary",children:"Loading PDF..."})]}),error:(0,r.jsxs)($.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:2},children:[(0,r.jsx)(t8.Z,{color:"error",sx:{fontSize:40,mb:1}}),(0,r.jsx)(P.Z,{variant:"caption",color:"error",children:"Preview not available"})]}),children:(0,r.jsx)(t5.Z,{pageNumber:1,width:180,renderTextLayer:!1,renderAnnotationLayer:!1})}):(0,r.jsxs)($.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",p:2},children:[(0,r.jsx)(t8.Z,{color:"disabled",sx:{fontSize:60,mb:1}}),(0,r.jsx)(P.Z,{variant:"caption",color:"text.secondary",align:"center",children:"No PDF selected"})]}),g[11]=S,g[12]=m):m=g[12],g[13]!==C||g[14]!==d||g[15]!==m?(u=(0,r.jsx)(tr.Z,{elevation:2,onClick:C,sx:d,children:m}),g[13]=C,g[14]=d,g[15]=m,g[16]=u):u=g[16],g[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsx)(t8.Z,{}),h={mt:1},g[17]=f,g[18]=h):(f=g[17],h=g[18]),g[19]!==Z?(x=(0,r.jsxs)(R.Z,{variant:"contained",component:"label",color:"primary",startIcon:f,sx:h,children:["Upload PDF",(0,r.jsx)("input",{type:"file",hidden:!0,accept:"application/pdf",onChange:Z})]}),g[19]=Z,g[20]=x):x=g[20],g[21]!==v||g[22]!==_?(p=_&&(0,r.jsx)(P.Z,{color:v?"error":"textSecondary",variant:"caption",sx:{mt:1},children:_}),g[21]=v,g[22]=_,g[23]=p):p=g[23],g[24]!==u||g[25]!==x||g[26]!==p?(b=(0,r.jsxs)($.Z,{sx:o,children:[u,x,p]}),g[24]=u,g[25]=x,g[26]=p,g[27]=b):b=g[27],b},t7=e=>{let t,a,l,s,o,c,d,m,u,f,h,x,b=(0,i.c)(31);if(b[0]!==e){let{field:r,fieldKey:n,value:i,onFocus:u,onChange:f,onFirstChange:h,error:x,helperText:p,...g}=e;a=r,l=n,m=i,o=f,c=h,t=x,s=p,d=g,b[0]=e,b[1]=t,b[2]=a,b[3]=l,b[4]=s,b[5]=o,b[6]=c,b[7]=d,b[8]=m}else t=b[1],a=b[2],l=b[3],s=b[4],o=b[5],c=b[6],d=b[7],m=b[8];b[9]!==a.id?(u={node_id:a.id},b[9]=a.id,b[10]=u):u=b[10];let{data:g,isLoading:y,isError:j}=p("class_attribute_field",u);b[11]!==j||b[12]!==y||b[13]!==c||b[14]!==g?.data?.results?.[0]?.result?.data?.attributes?(f=()=>{y||j||g?.data?.results?.[0]?.result?.data?.attributes?.length===0||c(g?.data?.results?.[0]?.result?.data?.attributes?.map(t9))},b[11]=j,b[12]=y,b[13]=c,b[14]=g?.data?.results?.[0]?.result?.data?.attributes,b[15]=f):f=b[15];let v=g?.data?.results?.[0]?.result?.data?.attributes?.length,_=g?.data?.results?.[0]?.result?.data?.attributes?.map;return b[16]!==j||b[17]!==y||b[18]!==c||b[19]!==v||b[20]!==_?(h=[y,j,c,v,_],b[16]=j,b[17]=y,b[18]=c,b[19]=v,b[20]=_,b[21]=h):h=b[21],(0,n.useEffect)(f,h),b[22]!==t||b[23]!==a||b[24]!==l||b[25]!==s||b[26]!==o||b[27]!==c||b[28]!==d||b[29]!==m?(x=(0,r.jsx)(tK,{field:a,fieldKey:l,value:m,onChange:o,onFirstChange:c,error:t,helperText:s,multiple:!0,...d}),b[22]=t,b[23]=a,b[24]=l,b[25]=s,b[26]=o,b[27]=c,b[28]=d,b[29]=m,b[30]=x):x=b[30],x};function t9(e){return{firstLetter:e.name.split(". ")[1][0],label:e.name.split(". ")[1],value:e.id}}var ae=a(80770);let at=e=>{let t,a,n,l,s,o,c,d,m,u,f,h=(0,i.c)(21);h[0]!==e?({value:o,onFocus:l,onChange:n,error:t,helperText:a,...s}=e,h[0]=e,h[1]=t,h[2]=a,h[3]=n,h[4]=l,h[5]=s,h[6]=o):(t=h[1],a=h[2],n=h[3],l=h[4],s=h[5],o=h[6]),h[7]===Symbol.for("react.memo_cache_sentinel")?(c={marginLeft:20},h[7]=c):c=h[7];let x=o||"";return h[8]!==n?(d=e=>{n(e.hex)},h[8]=n,h[9]=d):d=h[9],h[10]!==l||h[11]!==s||h[12]!==x||h[13]!==d?(m=(0,r.jsx)(ae.Z,{style:c,color:x,onFocus:l,onChange:d,...s}),h[10]=l,h[11]=s,h[12]=x,h[13]=d,h[14]=m):m=h[14],h[15]!==t||h[16]!==a?(u=a&&(0,r.jsx)(P.Z,{color:t?"error":"textSecondary",variant:"caption",sx:{mt:1},children:a}),h[15]=t,h[16]=a,h[17]=u):u=h[17],h[18]!==m||h[19]!==u?(f=(0,r.jsxs)(r.Fragment,{children:[m,u]}),h[18]=m,h[19]=u,h[20]=f):f=h[20],f},aa=n.memo(e=>{let{field:t,fieldKey:a,isExpanded:l,onToggleField:s,onChangingForm:o,parentId:i,defaultValue:c=""}=e,{id:d,name:m,type:u,validations:f,isValid:h}=t,[x,p]=(0,n.useState)(tC.includes(u)?{label:c,value:c?.split("@")[1]}:tI.includes(u)?[]:c),[g,y]=(0,n.useState)(!1),[j,v]=(0,n.useState)(""),_=(0,A.NL)(),w=b("set_value"),Z=b("add_existing_node"),C=b("remove_from_list"),k=(0,n.useCallback)(e=>{let t=tv(u,e,f);return y(!t.isValid),v(t.message),t.isValid},[u,f]);(0,n.useEffect)(()=>{k(x)},[x,k]);let N=(0,Y.y1)(async e=>{if(!e)return console.warn("No field provided for saving changes");if(!k(x)){e.name,e.type;return}try{await S.ZP.promise(w.mutateAsync({id:e.id,value:x,parentId:i},{onSuccess:async()=>{await _.invalidateQueries({queryKey:["apiData","class_attribute_field",{node_id:Number.parseInt(i)}]})}}),{loading:`Enregistrement de ${tg(e.name)}...`,success:`Changements enregistr\xe9s pour ${tg(e.name)}`,error:`Erreur lors de l'enregistrement des changements pour ${tg(e.name)}`})}catch(e){console.error("Error saving changes:",e),y(!0),v(`Error saving changes: ${e.message}`)}},500,{maxWait:2e3}),I=(0,n.useCallback)(async e=>{if(!e)return void p(null);p(e);try{await S.ZP.promise(w.mutateAsync({id:t.id,value:e},{onSuccess:async()=>{await _.invalidateQueries({queryKey:["apiData","class_attribute_field",{node_id:Number.parseInt(i)}]})}}),{loading:`Enregistrement de ${tg(t.name)}...`,success:`Changements enregistr\xe9s pour ${tg(t.name)}`,error:`Erreur lors de l'enregistrement des changements pour ${tg(t.name)}`})}catch(e){console.error("Error saving changes:",e),y(!0),v(`Error saving changes: ${e.message}`)}},[t.id,t.name,i,_.invalidateQueries,w.mutateAsync]),E=(0,Y.y1)(async function(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!e)return console.warn("No field provided for saving changes");if(!k(t)){e.name,e.type;return}try{await S.ZP.promise((a?Z:C).mutateAsync({node_id:e.id,id:t},{onSuccess:async()=>{await _.invalidateQueries({queryKey:["apiData","class_attribute_field",{node_id:Number.parseInt(i)}]})}}),{loading:`Enregistrement de ${tg(e.name)}...`,success:`Changements enregistr\xe9s pour ${tg(e.name)}`,error:`Erreur lors de l'enregistrement des changements pour ${tg(e.name)}`})}catch(e){console.error("Error saving changes:",e),y(!0),v(`Error saving changes: ${e.message}`)}}),z=(0,n.useCallback)(function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];let a=tv(t.type,e,f);y(!a),a?v(""):v(tj(t.type,e,f)),N(t),p(e)},[t,N,f]),D=(0,n.useCallback)(e=>{let a=tv(t.type,e?.value,f);y(!a),a?v(""):v(tj(t.type,e?.value,f)),E(t,e?.value),p(e)},[t,E,f]),O=(0,n.useCallback)(e=>{p(e)},[]),T=(0,n.useCallback)(e=>{if(!k(e))return;let a=x||[],r=e||[],n=r.filter(e=>!a.some(t=>t.value===e.value));n.length>0&&n.forEach(e=>{E(t,e.value)});let l=a.filter(e=>!r.some(t=>t.value===e.value));l.length>0&&l.forEach(e=>{E(t,e.value,!1)}),p(e)},[t,E,x,k]),L=(0,n.useCallback)(e=>p(e),[]),F=(0,n.useCallback)(()=>{o(m,d)},[o,m,d]),W=(0,n.useCallback)(()=>{s(a,d)},[s,a,d]);return(0,n.useEffect)(()=>()=>{N.flush()},[N]),(0,r.jsx)($.Z,{className:"form-field-wrapper",sx:{p:1},children:(0,r.jsxs)(tl.Z,{container:!0,className:"form-field",spacing:2,alignItems:"center",children:[(0,r.jsx)(tl.Z,{size:{xs:12,sm:4},children:(0,r.jsxs)(tD.Z,{component:"fieldset",sx:{display:"flex",flexDirection:"row"},children:[(0,r.jsx)(R.Z,{tabIndex:-1,variant:"text",color:"primary",onClick:F,title:a,sx:{textAlign:"left",justifyContent:"flex-start"},children:(0,r.jsx)(P.Z,{fontWeight:"medium",color:!1===h?"error":"primary",sx:{fontWeight:!1===h?"bold":"regular"},children:tg(m)})}),!(tz.includes(u)||tI.includes(u)&&t.isDropdown)&&(0,r.jsx)($.Z,{className:"toggle-wrapper",textAlign:"right",children:(0,r.jsx)(V.Z,{onClick:W,size:"small",children:l?(0,r.jsx)(t$.Z,{}):(0,r.jsx)(tO.Z,{})})})]})}),(0,r.jsxs)(tl.Z,{size:{xs:12,sm:6},children:[tN.includes(u)&&(0,r.jsx)(t2,{field:t,error:g,helperText:g?j:""}),t_.includes(u)&&(0,r.jsx)(tT,{field:t,fieldKey:a,value:x,onChange:z,size:"small",error:g,helperText:g?j:""}),tw.includes(u)&&(0,r.jsx)(tW,{fieldKey:a,value:x,onChange:z,error:g,helperText:g?j:""}),tS.includes(u)&&(0,r.jsx)(tR,{fieldKey:a,value:x,onChange:z}),tZ.includes(u)&&l&&(0,r.jsx)(tV,{field:t,fieldKey:a,value:x,onChange:z,size:"small"}),tC.includes(u)&&(0,r.jsx)(tK,{field:t,fieldKey:a,value:x??null,onChange:D,onFirstChange:O,defaultValue:c,error:g,helperText:g?j:""}),tI.includes(u)&&t.isDropdown&&(0,r.jsx)(t7,{field:t,fieldKey:a,value:x??[],onChange:T,onFirstChange:L,error:g,helperText:g?j:""}),tk.includes(u)&&(0,r.jsx)(tY,{field:t,fieldKey:a,value:x,onChange:z,defaultValue:c,error:g,helperText:g?j:""}),tA.includes(u)&&(0,r.jsx)(t6,{value:x,onChange:I,error:g,helperText:j}),tE.includes(u)&&(0,r.jsx)(at,{value:x,onChange:z,error:g,helperText:j})]})]})},a)},(e,t)=>e.fieldKey===t.fieldKey&&e.isExpanded===t.isExpanded&&e.onToggleField===t.onToggleField&&e.defaultValue===t.defaultValue),ar=e=>{let{parentId:t,fields:a,visited:l=new Set,expandedFields:s,toggleField:o,handleChangingForm:i,rootId:c}=e;return a&&Array.isArray(a)?a.map(e=>{let{id:a,name:d,type:m}=e;if(!d||"graph"===d)return null;let u=ty(e.id,e.name);if(l.has(a))return(0,r.jsxs)(P.Z,{color:"error",children:["Circular reference detected for ",d]},`cycle-${a}`);let f=s[u]||!1;return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(aa,{field:e,fieldKey:u,isExpanded:f,onToggleField:o,onChangingForm:i,defaultValue:e.value,parentId:t}),!(tz.includes(m)||tI.includes(m)&&e.isDropdown)&&(0,r.jsx)(an,{fieldKey:u,field:e,rootId:c,isToggle:f})]},u)}):null},an=n.memo(e=>{let{fieldKey:t,field:a,rootId:l,isRoot:s=!1,isToggle:i=!1}=e,{data:c,isLoading:d,error:m,refetch:u}=p("class_attribute_field",{node_id:"string"==typeof a.id?Number.parseInt(a.id):a.id},{enabled:i||s}),f=(0,o.s0)(),h=(0,A.NL)(),x=b("jump"),g=b("add_node"),y=b("list_existing_node"),j=b("add_existing_node"),[v,_]=(0,n.useState)({}),[S,w]=(0,n.useState)(!1),[Z,C]=(0,n.useState)([]),[k,N]=(0,n.useState)(null),[I,E]=(0,n.useState)(!1);(0,n.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e?JSON.stringify(e,null,"tab"===t?"	":t):""},[]);let z=(0,n.useCallback)(async(e,t)=>{try{await x.mutateAsync({node_id:t}),await f(`/add-node/form/${t}`),window.location.reload()}catch(e){console.error("Error changing form:",e)}},[x,f]),{id:D,type:O,name:L}=a,F=(0,n.useRef)(v);(0,n.useEffect)(()=>{F.current=v},[v]);let W=(0,n.useCallback)(async(e,t)=>{let a=F.current[e];_(t=>({...t,[e]:!a}))},[]),V=(0,n.useCallback)(async e=>{let t=e?.id,a=e?.listNodeType;try{await g.mutateAsync({BNodeClass:a,node_id:t},{onSuccess:async()=>{await h.invalidateQueries({queryKey:["apiData","class_attribute_field",{node_id:t}]})}})}catch(e){console.error("Error adding new node:",e)}},[g,h.invalidateQueries]),K=(0,n.useCallback)(async e=>{N(e),w(!0),E(!0);let t=e.listNodeType.split(".").pop();try{let e=await y.mutateAsync({type:t}),a=e?.data?.results?.[0]?.result?.data||[];C(a)}catch(e){console.error("Error fetching class attribute field:",e)}finally{E(!1)}},[y]),M=(0,n.useCallback)(async e=>{try{await j.mutateAsync({id:e.id,node_id:a.id},{onSuccess:async()=>{await h.invalidateQueries({queryKey:["apiData","class_attribute_field",{node_id:a.id}]}),x.mutate({node_id:l})}})}catch(e){console.error("Error adding existing node:",e)}},[j,x,l,a.id,h.invalidateQueries]),H=(0,n.useCallback)((e,t)=>{M(e),w(!1)},[M]);(0,n.useEffect)(()=>{if(!d&&c){let e={},t={};(c?.data?.results?.[0]?.result?.data?.attributes||[]).forEach(a=>{if(a.name&&"null"!==a.value&&void 0!==a.value){let r=ty(a.id,a.name);e[r]=a.value,t[r]=a}})}},[d,c]);let U=c?.data?.results?.[0]?.result?.data?.attributes||[];return(0,r.jsxs)(n.Fragment,{children:[s?(0,r.jsx)($.Z,{component:"form",className:"form-fields",onSubmit:e=>e.preventDefault(),sx:{mt:3},children:U.length>0?(0,r.jsx)(ar,{parentId:a.id,fields:U,expandedFields:v,toggleField:W,handleChangingForm:z,rootId:l}):(0,r.jsx)(P.Z,{children:"No fields available."})}):(0,r.jsxs)($.Z,{className:"nested-fields",sx:{mt:2,pl:2,borderLeft:"1px solid #e0e0e0"},children:[i&&(U.length>0?(0,r.jsx)(ar,{parentId:a.id,fields:U,expandedFields:v,toggleField:W,handleChangingForm:z,rootId:l}):(0,r.jsx)(P.Z,{variant:"body2",color:"text.secondary",children:"No subfields available for this."})),tI.includes(O)&&i&&!a.isDropdown&&(0,r.jsxs)(T.Z,{direction:"row",spacing:2,className:"add-new-node",sx:{mt:2},children:[a.canAddNewNode??(0,r.jsxs)(R.Z,{variant:"outlined",startIcon:(0,r.jsx)(ec.Z,{}),onClick:()=>V(a),children:["Add new ",L]}),(0,r.jsxs)(R.Z,{variant:"outlined",startIcon:(0,r.jsx)(ec.Z,{}),onClick:()=>K(a),children:["Add ",L," from Existing Node"]})]})]}),(0,r.jsx)(tx,{show:S,selectedField:k,existingNodeList:Z,loadingExistingNodes:I,onClose:()=>{w(!1),x.mutate({node_id:l})},onSelectNode:H})]})},(e,t)=>e.fieldKey===t.fieldKey&&e.rootId===t.rootId&&e.isToggle===t.isToggle);var al=a(9599),as=a(97454),ao=a(93162);function ai(e){return"results"===e.name}function ac(e){return(0,r.jsx)(tu.Z,{icon:e.icon,tooltipTitle:e.name,onClick:e.onClick},e.name)}let ad=(0,o.aj)([{Component:function(){let e,t,a,n,l,s=(0,i.c)(9),{data:c,isLoading:m,error:u}=p("endpoints?only_applicable&type=byransha.web.View");s[0]!==c||s[1]!==u||s[2]!==m?(e=m||u||!c?.data?.results?[{kind:"page",title:"Loading...",segment:"home",icon:(0,r.jsx)(g.Z,{})}]:c.data.results.map(Z),s[0]=c,s[1]=u,s[2]=m,s[3]=e):e=s[3];let f=e;return s[4]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(S.x7,{}),s[4]=t):t=s[4],s[5]===Symbol.for("react.memo_cache_sentinel")?(a={title:"",logo:(0,r.jsx)("img",{src:"/logo.svg",alt:"I3S",width:"100%",height:"100%",color:"inherit"}),homeUrl:"/home"},n=(0,r.jsx)(o.j3,{}),s[5]=a,s[6]=n):(a=s[5],n=s[6]),s[7]!==f?(l=(0,r.jsxs)(j._,{dateAdapter:y.y,adapterLocale:"fr",children:[t,(0,r.jsx)(d.C,{navigation:f,theme:w,branding:a,children:n})]}),s[7]=f,s[8]=l):l=s[8],l},children:[{path:"/",element:(0,r.jsx)(()=>{let e,t,a,l,s,c,d,m,u,f,h,x,p,g,y,j=(0,i.c)(34),[v,_]=(0,n.useState)(""),[S,w]=(0,n.useState)(""),[Z,E]=(0,n.useState)(!1),[z,D]=(0,n.useState)(""),O=(0,o.s0)(),$=(0,A.NL)();j[0]!==$?(e={onSuccess:async()=>{await $.invalidateQueries()}},j[0]=$,j[1]=e):e=j[1];let T=b("authenticate",e);N("Login"),j[2]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{E(I)},j[2]=t):t=j[2];let L=t;j[3]!==T||j[4]!==O||j[5]!==S||j[6]!==v?(a=async e=>{e.preventDefault();try{T.mutate({username:v,password:S},{onSuccess:e=>{O("/home")},onError:e=>{console.error(e),D("Failed to connect to the server")}})}catch(e){console.error(e),D("Failed to connect to the server")}},j[3]=T,j[4]=O,j[5]=S,j[6]=v,j[7]=a):a=j[7];let F=a;j[8]===Symbol.for("react.memo_cache_sentinel")?(l=(0,r.jsx)("div",{className:"image-container",children:(0,r.jsx)("img",{src:k,alt:"Logo"})}),j[8]=l):l=j[8];let W=`input-box ${v?"not-empty":""}`;j[9]===Symbol.for("react.memo_cache_sentinel")?(s=e=>_(e.target.value),j[9]=s):s=j[9],j[10]!==v?(c=(0,r.jsx)("input",{type:"text",className:"input-field",placeholder:"Identifiant",value:v,onChange:s,required:!0}),j[10]=v,j[11]=c):c=j[11],j[12]===Symbol.for("react.memo_cache_sentinel")?(d=(0,r.jsx)(C.Xws,{className:"icon"}),j[12]=d):d=j[12],j[13]!==W||j[14]!==c?(m=(0,r.jsxs)("div",{className:W,children:[c,d]}),j[13]=W,j[14]=c,j[15]=m):m=j[15];let P=`input-box ${S?"not-empty":""}`,R=Z?"text":"password";return j[16]===Symbol.for("react.memo_cache_sentinel")?(u=e=>w(e.target.value),j[16]=u):u=j[16],j[17]!==S||j[18]!==R?(f=(0,r.jsx)("input",{type:R,className:"input-field",placeholder:"Mot de passe",value:S,onChange:u,required:!0}),j[17]=S,j[18]=R,j[19]=f):f=j[19],j[20]!==Z?(h=Z?(0,r.jsx)(C.tgn,{className:"toggle-icon icon",onClick:L}):(0,r.jsx)(C.dSq,{className:"toggle-icon icon",onClick:L}),j[20]=Z,j[21]=h):h=j[21],j[22]!==f||j[23]!==h||j[24]!==P?(x=(0,r.jsxs)("div",{className:P,children:[f,h]}),j[22]=f,j[23]=h,j[24]=P,j[25]=x):x=j[25],j[26]!==z?(p=z&&(0,r.jsx)("p",{className:"error-message",children:z}),j[26]=z,j[27]=p):p=j[27],j[28]===Symbol.for("react.memo_cache_sentinel")?(g=(0,r.jsx)("button",{type:"submit",children:(0,r.jsx)("span",{children:"Se connecter"})}),j[28]=g):g=j[28],j[29]!==F||j[30]!==x||j[31]!==p||j[32]!==m?(y=(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsxs)("form",{onSubmit:F,children:[l,m,x,p,g]})})}),j[29]=F,j[30]=x,j[31]=p,j[32]=m,j[33]=y):y=j[33],y},{})},{element:(0,r.jsx)(()=>{let e=(0,o.s0)(),{pathname:t}=(0,o.TH)(),[a,l]=(0,n.useState)(null),{data:s,isLoading:i,error:c}=p("endpoints?only_applicable&type=byransha.web.View"),{data:d,isLoading:m}=p("user_history"),u=(0,A.NL)(),f=b("jump",{onSuccess:async()=>{await u.invalidateQueries()}}),h=b("logout",{onSuccess:async()=>{await u.invalidateQueries(),e("/")}}),x=(0,n.useCallback)(e=>{f.mutate({node_id:e})},[f.mutate]),g=e=>{x(e.id)},y=async()=>{h.mutate({})},j=e=>l(e.currentTarget),v=()=>l(null),_=d?.data?.results?.[0].result.data??[],S=_.length>3?_.slice(-2):_,w=_[_.length-1],Z=b("bnode_class_distribution"),C=b("add_node"),k=async e=>{let t=e||"byransha.labmodel.model.v0.SearchForm";if(t)try{let e=await C.mutateAsync({BNodeClass:t}),a=e?.data?.results?.[0]?.result?.data.id;return await f.mutateAsync({node_id:a}),a}catch(e){throw console.error(`Error during handleCreateAndJump for ${t}:`,e),e}},N=async()=>{try{let t=await Z.mutateAsync({}),a=(t?.data?.results?.[0]?.result?.data||[]).find(e=>{let t=Object.keys(e)[0];return t?.includes("SearchForm")}),r=await k(Object.keys(a)[0]);e(`/add-node/form/${r}`)}catch(e){console.error("Navigation skipped due to error:",e)}};return(0,r.jsx)($.Z,{sx:{'& .MuiDrawer-root .MuiDrawer-paper, & [role="navigation"]':{"&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"}},children:(0,r.jsx)(E.c,{hideNavigation:!0,disableCollapsibleSidebar:!0,slots:{appTitle:()=>(0,r.jsxs)(T.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,r.jsx)($.Z,{sx:{height:"40px",display:"flex",alignItems:"center"},children:(0,r.jsx)("img",{src:"/logo.svg",alt:"I3S",style:{height:"100%"}})}),(0,r.jsxs)(L.Z,{separator:(0,r.jsx)(D.Z,{sx:{color:"#b0bec5",fontSize:"18px"}}),"aria-label":"navigation history",sx:{bgcolor:"transparent",p:"4px 0","& .MuiBreadcrumbs-ol":{alignItems:"center"}},children:[(0,r.jsx)(F.Z,{component:o.rU,sx:{color:"#546e7a",fontSize:"14px",textDecoration:"none",p:"4px 8px",borderRadius:"2px","&:hover":{color:"#306DAD",bgcolor:"#f5f7ff"}},to:"/home",children:"Home"}),_.length>3&&(0,r.jsx)(V.Z,{onClick:j,size:"small",sx:{color:"#90a4ae",p:"2px","&:hover":{color:"#306DAD",bgcolor:"#f5f7ff"}},children:(0,r.jsx)(O.Z,{fontSize:"small"})}),S.map(e=>(0,r.jsx)(F.Z,{component:"button",onClick:()=>g(e),sx:{color:e===w?"#306DAD":"#546e7a",fontSize:"14px",fontWeight:e===w?"500":"400",textDecoration:"none",p:"4px 8px",borderRadius:"2px",bgcolor:e===w?"#e8eaf6":"transparent",transition:"all 0.2s ease","&:hover":{color:"#306DAD",bgcolor:"#f5f7ff"}},children:e.pretty_name},e.id))]}),(0,r.jsx)(K.Z,{anchorEl:a,open:!!a,onClose:v,anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{sx:{borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",mt:"5vh",ml:"18vw"}},children:_.map(e=>(0,r.jsx)(W.Z,{onClick:()=>{g(e),v()},sx:{fontSize:"14px",color:e===w?"#306DAD":"#546e7a",bgcolor:e===w?"#f5f7ff":"transparent","&:hover":{bgcolor:"#e8eaf6",color:"#306DAD"}},children:e.pretty_name},e.id))})]}),toolbarActions:()=>(0,r.jsxs)(T.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,r.jsxs)(V.Z,{onClick:N,children:[" ",(0,r.jsx)(el.Z,{})," "]}),(0,r.jsx)(ee,{}),i?(0,r.jsx)(P.Z,{sx:{color:"#90a4ae",fontSize:"14px"},children:"Loading..."}):c?(0,r.jsx)(P.Z,{sx:{color:"#780906",fontSize:"14px"},children:"Error"}):(0,r.jsxs)($.Z,{sx:{display:"flex",alignItems:"center",gap:1,p:"6px 12px",bgcolor:"#f5f7ff",borderRadius:"4px",transition:"background-color 0.2s ease","&:hover":{bgcolor:"#e8eaf6"}},children:[(0,r.jsx)(P.Z,{sx:{color:"#306DAD",fontSize:"14px",fontWeight:"500"},children:s?.data?.username||"Unknown User"}),(0,r.jsxs)(P.Z,{sx:{color:"#546e7a",fontSize:"14px"},children:["(",s?.data?.user_id||"N/A",")"]}),(0,r.jsxs)(P.Z,{sx:{color:"#90a4ae",fontSize:"12px"},children:["v",s?.data["backend version"]||"N/A"]})]}),(0,r.jsx)(R.Z,{variant:"outlined",size:"small",onClick:y,sx:{ml:2},children:"Se deconnecter"})]})},children:(0,r.jsx)(z._,{style:{maxWidth:"100%"},children:(0,r.jsx)(o.j3,{})})})})},{}),children:[{path:"/home",element:(0,r.jsx)(()=>{let e,t,a,l,s,c,d,m,u,f,h,x,g,y,j,v,_,S,w,Z,C,k,A,I,E,z,D,O,T,L,F,V,M,U,B,q,Q,J,Y,X,ee,et,ea,er,en,el,es,eo,em,eu,ef=(0,i.c)(109),eh=(0,o.s0)(),{data:ex,isLoading:ep}=p("endpoints?only_applicable&type=byransha.web.View");N("Home"),ef[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],ef[0]=e):e=ef[0];let[eb,eg]=(0,n.useState)(e),[ey,ej]=(0,n.useState)(2),[ev,e_]=(0,n.useState)(null);ef[1]===Symbol.for("react.memo_cache_sentinel")?(t=[],ef[1]=t):t=ef[1];let[eS,ew]=(0,n.useState)(t),[eZ,eC]=(0,n.useState)(e3);if((0,n.useState)(!1),(0,n.useState)("#ffffff"),ef[2]!==eS||ef[3]!==eb){let e;ef[5]!==eS?(e=e=>eS.includes(e.name),ef[5]=eS,ef[6]=e):e=ef[6],a=eb.filter(e),ef[2]=eS,ef[3]=eb,ef[4]=a}else a=ef[4];let ek=Math.min(ey,a.length),eN=b("jump");if(ef[7]!==ex?.data?.results?.[0]?.result?.data||ef[8]!==eZ?(l=()=>{if(ex?.data?.results?.[0]?.result?.data){let e=eZ?ex?.data?.results?.[0]?.result?.data:ex?.data?.results?.[0]?.result?.data.filter(e5);eg(e),ew(()=>{let t,a=JSON.parse(localStorage.getItem("selectedViewsSaved"));return t=a&&0!==a.length?a.filter(t=>e.some(e=>e.name===t)):e.map(e8),localStorage.setItem("selectedViewsSaved",JSON.stringify(t)),t});let t=JSON.parse(localStorage.getItem("viewOrder"))||[],a=e;t.length>0&&(a=[...e].sort((e,a)=>{let r=t.indexOf(e.endpoint),n=t.indexOf(a.endpoint);return(-1===r?1/0:r)-(-1===n?1/0:n)})),eg(a)}},ef[7]=ex?.data?.results?.[0]?.result?.data,ef[8]=eZ,ef[9]=l):l=ef[9],ef[10]!==ex||ef[11]!==eZ?(s=[ex,eZ],ef[10]=ex,ef[11]=eZ,ef[12]=s):s=ef[12],n.useEffect(l,s),ef[13]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{let e=()=>ej(e4());return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},d=[e4],ef[13]=c,ef[14]=d):(c=ef[13],d=ef[14]),n.useEffect(c,d),ep){let e,t;return ef[15]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",bgcolor:"#2e3b55"},ef[15]=e):e=ef[15],ef[16]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)($.Z,{sx:e,children:(0,r.jsx)(H.Z,{sx:{color:"#1e88e5"}})}),ef[16]=t):t=ef[16],t}if(!ex||!ex.data||!ex.data.results){let e;return ef[17]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)($.Z,{sx:{bgcolor:"#fff3e0",p:2,borderRadius:2,color:"#ef6c00",textAlign:"center"},children:"Error: Data is null."}),ef[17]=e):e=ef[17],e}ef[18]===Symbol.for("react.memo_cache_sentinel")?(m=e=>e_(e.currentTarget),ef[18]=m):m=ef[18];let eA=m;ef[19]===Symbol.for("react.memo_cache_sentinel")?(u=()=>e_(null),ef[19]=u):u=ef[19];let eI=u;ef[20]!==eZ||ef[21]!==eb?(f=e=>{ew(t=>{let a=t.includes(e)?t.filter(t=>t!==e):[...t,e];return localStorage.setItem("selectedViewsSaved",JSON.stringify(a)),0===eb.filter(e6).filter(e=>a.includes(e.name)).length&&eZ&&(eC(!1),localStorage.setItem("showTechnicalViews",JSON.stringify(!1))),a})},ef[20]=eZ,ef[21]=eb,ef[22]=f):f=ef[22];let eE=f;ef[23]!==ex?.data?.results?.[0]?.result?.data?(h=()=>{eC(e=>{let t=!e;localStorage.setItem("showTechnicalViews",JSON.stringify(t));let a=(ex?.data?.results?.[0]?.result?.data?.filter(e7)||[]).map(e9);return ew(e=>{let r;return r=t?[...new Set([...e,...a])]:e.filter(e=>!a.includes(e)),localStorage.setItem("selectedViewsSaved",JSON.stringify(r)),r}),t})},ef[23]=ex?.data?.results?.[0]?.result?.data,ef[24]=h):h=ef[24];let ez=h;ef[25]!==eb.length?(x=()=>ej(e=>Math.min(e+1,eb.length)),ef[25]=eb.length,ef[26]=x):x=ef[26];let eD=x;ef[27]===Symbol.for("react.memo_cache_sentinel")?(g=()=>ej(te),ef[27]=g):g=ef[27];let eO=g;ef[28]===Symbol.for("react.memo_cache_sentinel")?(y={padding:{xs:"8px",sm:"16px",md:"40px"},maxWidth:"100%",margin:"0 auto",bgcolor:"#2e3b55",minHeight:"100vh",zIndex:1},ef[28]=y):y=ef[28],ef[29]===Symbol.for("react.memo_cache_sentinel")?(j={xs:"column",sm:"row"},ef[29]=j):j=ef[29],ef[30]===Symbol.for("react.memo_cache_sentinel")?(v={display:"flex",flexDirection:j,justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},mb:{xs:2,sm:4},gap:{xs:2,sm:0}},ef[30]=v):v=ef[30],ef[31]===Symbol.for("react.memo_cache_sentinel")?(_={display:"flex",flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:2},alignItems:{xs:"flex-start",sm:"center"},width:{xs:"100%",sm:"auto"}},ef[31]=_):_=ef[31],ef[32]===Symbol.for("react.memo_cache_sentinel")?(S={display:"flex",alignItems:"center",gap:1},ef[32]=S):S=ef[32],ef[33]===Symbol.for("react.memo_cache_sentinel")?(w={xs:36,sm:40},ef[33]=w):w=ef[33],ef[34]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,r.jsx)(R.Z,{variant:"outlined",onClick:eA,sx:{minWidth:w,borderWidth:"2px",borderColor:"#90caf9",color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"4px 8px",sm:"6px 12px"},"&:hover":{borderColor:"#42a5f5",bgcolor:"#37474f"}},children:"Views"}),ef[34]=Z):Z=ef[34];let e$=!!ev;if(ef[35]===Symbol.for("react.memo_cache_sentinel")?(C={sx:{maxHeight:500,maxWidth:400,overflowY:"auto",width:"auto",padding:1,borderRadius:"8px"}},ef[35]=C):C=ef[35],ef[36]!==eE||ef[37]!==eS||ef[38]!==eb){let e;ef[40]!==eE||ef[41]!==eS?(e=(e,t)=>(0,r.jsx)(W.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingRight:1,fontSize:"14px",color:"technical"===e.type?"#283593":"#424242",backgroundColor:"technical"===e.type?"#fff9c4":"transparent",borderRadius:"8px","&:hover":{backgroundColor:"technical"===e.type?"#fff8b0":"#e8eaf6"}},children:(0,r.jsxs)($.Z,{sx:{display:"flex",alignItems:"center",flexGrow:1,borderRadius:"18px"},onClick:()=>eE(e.name),children:[(0,r.jsx)(ei.Z,{checked:eS.includes(e.name),sx:{color:"#90caf9","&.Mui-checked":{color:"#90caf9"}}}),(0,r.jsx)(G.Z,{primary:e.pretty_name})]})},e.name),ef[40]=eE,ef[41]=eS,ef[42]=e):e=ef[42],k=eb.map(e),ef[36]=eE,ef[37]=eS,ef[38]=eb,ef[39]=k}else k=ef[39];ef[43]!==ev||ef[44]!==e$||ef[45]!==k?(A=(0,r.jsxs)($.Z,{sx:S,children:[Z,(0,r.jsx)(K.Z,{anchorEl:ev,open:e$,onClose:eI,PaperProps:C,children:k})]}),ef[43]=ev,ef[44]=e$,ef[45]=k,ef[46]=A):A=ef[46],ef[47]===Symbol.for("react.memo_cache_sentinel")?(I={display:"flex",alignItems:"center",gap:1},ef[47]=I):I=ef[47],ef[48]===Symbol.for("react.memo_cache_sentinel")?(E={color:"#90caf9","&.Mui-checked":{color:"#90caf9"},padding:{xs:"4px",sm:"6px"}},ef[48]=E):E=ef[48],ef[49]!==ez||ef[50]!==eZ?(z=(0,r.jsx)(ei.Z,{checked:eZ,onChange:ez,sx:E}),ef[49]=ez,ef[50]=eZ,ef[51]=z):z=ef[51],ef[52]===Symbol.for("react.memo_cache_sentinel")?(D=(0,r.jsx)(P.Z,{sx:{color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:"Show Technical Views"}),ef[52]=D):D=ef[52],ef[53]!==z?(O=(0,r.jsxs)($.Z,{sx:I,children:[z,D]}),ef[53]=z,ef[54]=O):O=ef[54],ef[55]===Symbol.for("react.memo_cache_sentinel")?(T={display:"flex",alignItems:"center",gap:1},ef[55]=T):T=ef[55];let eT=1===ey;ef[56]===Symbol.for("react.memo_cache_sentinel")?(L={xs:36,sm:40},ef[56]=L):L=ef[56],ef[57]===Symbol.for("react.memo_cache_sentinel")?(F={minWidth:L,borderWidth:"2px",borderColor:"#90caf9",color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"4px",sm:"6px"},"&:hover":{borderColor:"#42a5f5",bgcolor:"#37474f"}},V=(0,r.jsx)(ed.Z,{fontSize:"small"}),ef[57]=F,ef[58]=V):(F=ef[57],V=ef[58]),ef[59]!==eT?(M=(0,r.jsx)(R.Z,{variant:"outlined",onClick:eO,disabled:eT,sx:F,children:V}),ef[59]=eT,ef[60]=M):M=ef[60],ef[61]===Symbol.for("react.memo_cache_sentinel")?(U={color:"#ffffff",fontWeight:"bold",fontSize:{xs:"0.875rem",sm:"1rem"}},ef[61]=U):U=ef[61],ef[62]!==ey?(B=(0,r.jsx)(P.Z,{sx:U,children:ey}),ef[62]=ey,ef[63]=B):B=ef[63];let eL=ey===eb.length;if(ef[64]===Symbol.for("react.memo_cache_sentinel")?(q={xs:36,sm:40},ef[64]=q):q=ef[64],ef[65]===Symbol.for("react.memo_cache_sentinel")?(Q={minWidth:q,borderWidth:"2px",borderColor:"#90caf9",color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"4px",sm:"6px"},"&:hover":{borderColor:"#42a5f5",bgcolor:"#37474f"}},J=(0,r.jsx)(ec.Z,{fontSize:"small"}),ef[65]=Q,ef[66]=J):(Q=ef[65],J=ef[66]),ef[67]!==eD||ef[68]!==eL?(Y=(0,r.jsx)(R.Z,{variant:"outlined",onClick:eD,disabled:eL,sx:Q,children:J}),ef[67]=eD,ef[68]=eL,ef[69]=Y):Y=ef[69],ef[70]!==M||ef[71]!==B||ef[72]!==Y?(X=(0,r.jsxs)($.Z,{sx:T,children:[M,B,Y]}),ef[70]=M,ef[71]=B,ef[72]=Y,ef[73]=X):X=ef[73],ef[74]!==A||ef[75]!==O||ef[76]!==X?(ee=(0,r.jsxs)($.Z,{sx:_,children:[A,O,X]}),ef[74]=A,ef[75]=O,ef[76]=X,ef[77]=ee):ee=ef[77],ef[78]!==eh?(et=()=>eh("/add-node"),ef[78]=eh,ef[79]=et):et=ef[79],ef[80]===Symbol.for("react.memo_cache_sentinel")?(ea={xs:36,sm:40},ef[80]=ea):ea=ef[80],ef[81]===Symbol.for("react.memo_cache_sentinel")?(er={minWidth:ea,borderWidth:"2px",borderColor:"#90caf9",color:"#90caf9",fontSize:{xs:"0.75rem",sm:"0.875rem"},padding:{xs:"4px 8px",sm:"6px 12px"},"&:hover":{borderColor:"#42a5f5",bgcolor:"#37474f"}},ef[81]=er):er=ef[81],ef[82]!==et?(en=(0,r.jsx)(R.Z,{variant:"outlined",onClick:et,sx:er,children:"Add new node"}),ef[82]=et,ef[83]=en):en=ef[83],ef[84]!==ee||ef[85]!==en?(el=(0,r.jsxs)($.Z,{sx:v,children:[ee,en]}),ef[84]=ee,ef[85]=en,ef[86]=el):el=ef[86],ef[87]===Symbol.for("react.memo_cache_sentinel")?(es={display:"flex",flexWrap:"wrap",gap:{xs:2,sm:4}},ef[87]=es):es=ef[87],ef[88]!==ey||ef[89]!==eE||ef[90]!==eN||ef[91]!==eh||ef[92]!==ek||ef[93]!==eS||ef[94]!==eb){let e,t;ef[96]!==eS?(e=e=>eS.includes(e.name),ef[96]=eS,ef[97]=e):e=ef[97],ef[98]!==ey||ef[99]!==eE||ef[100]!==eN||ef[101]!==eh||ef[102]!==ek?(t=(e,t)=>(0,r.jsx)($.Z,{sx:{width:{xs:"100%",sm:`calc(${100/Math.min(ey,2)}% - 16px)`,md:`calc(${100/ek}% - 32px)`}},children:(0,r.jsx)(e2,{view:e,onClick:t=>{t.defaultPrevented||(e.name.endsWith("class_attribute_field")?(eN.mutate({node:e.result?.dialect.split("@")[1]}),eh(`/add-node/form/${e.result?.dialect.split("@")[1]}`)):eh(`/information/${e.name.replaceAll(" ","_")}`))},handleViewToggle:eE})},e.name),ef[98]=ey,ef[99]=eE,ef[100]=eN,ef[101]=eh,ef[102]=ek,ef[103]=t):t=ef[103],eo=eb.filter(e).map(t),ef[88]=ey,ef[89]=eE,ef[90]=eN,ef[91]=eh,ef[92]=ek,ef[93]=eS,ef[94]=eb,ef[95]=eo}else eo=ef[95];return ef[104]!==eo?(em=(0,r.jsx)($.Z,{sx:es,children:eo}),ef[104]=eo,ef[105]=em):em=ef[105],ef[106]!==el||ef[107]!==em?(eu=(0,r.jsxs)($.Z,{sx:y,className:"home-page",children:[el,em]}),ef[106]=el,ef[107]=em,ef[108]=eu):eu=ef[108],eu},{})},{path:"/information/:viewId",element:(0,r.jsx)(()=>{let e,t,a,l,s,c,d,m,u=(0,i.c)(15),{viewId:f}=(0,o.UO)(),h=(0,o.s0)();return(N(`Information for View ${f}`),u[0]!==h?(e=()=>{let e=e=>{"Escape"===e.key&&h("/home")};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},t=[h],u[0]=h,u[1]=e,u[2]=t):(e=u[1],t=u[2]),(0,n.useEffect)(e,t),f)?(u[3]!==f?(a=(0,r.jsx)("h1",{children:f}),l=(0,r.jsx)(e1,{viewId:f}),u[3]=f,u[4]=a,u[5]=l):(a=u[4],l=u[5]),u[6]!==h?(s=()=>{h("/home")},u[6]=h,u[7]=s):s=u[7],u[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)(em.Z,{}),u[8]=c):c=u[8],u[9]!==s?(d=(0,r.jsx)(V.Z,{className:"close-button",onClick:s,"aria-label":"close",children:c}),u[9]=s,u[10]=d):d=u[10],u[11]!==a||u[12]!==l||u[13]!==d?(m=(0,r.jsxs)("div",{className:"information-page",children:[a,l,d]}),u[11]=a,u[12]=l,u[13]=d,u[14]=m):m=u[14],m):(h("/home"),null)},{})},{path:"/add-node",element:(0,r.jsx)(()=>{N("Add node");let e=(0,o.s0)(),{data:t,isLoading:a,error:l,refetch:s}=p("bnode_class_distribution"),i=(0,A.NL)(),[c,d]=(0,n.useState)([]),[m,u]=(0,n.useState)([]),[f,h]=(0,n.useState)(new Set),[x,g]=(0,n.useState)(""),[y,j]=(0,n.useState)(!1),[v,_]=(0,n.useState)(()=>{try{let e=localStorage.getItem("favorites");if(null==e)return[];{let t=JSON.parse(e);return Array.isArray(t)?t:[]}}catch{return[]}}),S=b("jump",{onSuccess:async()=>{await i.invalidateQueries()}}),w=b("add_node"),Z=b("class_information"),C=async e=>{let t=m.find(t=>t.endsWith(e));if(t)try{let e=await w.mutateAsync({BNodeClass:t}),a=e?.data?.results?.[0]?.result?.data.id;return await S.mutateAsync({node_id:a}),a}catch(e){throw console.error(`Error during handleCreateAndJump for ${t}:`,e),e}},k=async t=>{try{let a=await C(t);e(`/add-node/form/${a}`)}catch(e){console.error("Navigation skipped due to error:",e)}},I=e=>{_(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};(0,n.useEffect)(()=>{localStorage.setItem("favorites",JSON.stringify(v))},[v]),(0,n.useEffect)(()=>{if(t)try{let e=(t?.data?.results?.[0]?.result?.data||[]).filter(e=>Object.keys(e)[0]),a=e.map(e=>Object.keys(e)[0].split(".").pop()),r=e.map(e=>Object.keys(e)[0]);d(a),u(r)}catch(e){console.error("Failed to parse class names:",e)}},[t]);let E=(0,n.useCallback)(async e=>{let t=`persisting:${e}`,a=localStorage.getItem(t);if(null!==a)return"true"===a;try{let t=await Z.mutateAsync({classForm:e}),a=t?.data?.results?.[0]?.result?.data;return a?.BusinessNode!==void 0}catch(t){return console.error(`Error fetching info for ${e}:`,t),!1}},[Z.mutateAsync]);return(0,n.useEffect)(()=>{m&&0!==m.length&&(async()=>{let e=new Set;await Promise.all(m.map(async t=>{await E(t)&&e.add(t)})),h(e)})()},[m,E]),(0,r.jsx)(tt.Z,{in:!y,timeout:300,children:(0,r.jsxs)(ta.Z,{component:tr.Z,elevation:3,sx:{p:4,position:"relative",bgcolor:"#f8f9fa",maxWidth:"100%",width:"100%",minHeight:"80vh",overflow:"hidden"},children:[(0,r.jsx)(P.Z,{variant:"h3",component:"h1",gutterBottom:!0,sx:{color:"#2c3e50",textAlign:"center",fontWeight:600,pb:2,borderBottom:"3px solid #3498db"},children:"Add a new node"}),(0,r.jsx)($.Z,{sx:{display:"flex",justifyContent:"center",mb:3,width:"100%"},children:(0,r.jsx)(M.Z,{fullWidth:!0,variant:"outlined",placeholder:"Search class name...",value:x,onChange:e=>g(e.target.value),sx:{maxWidth:400},InputProps:{startAdornment:(0,r.jsx)(tn.Z,{position:"start",children:(0,r.jsx)(tc.Z,{})})}})}),v.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.Z,{variant:"h4",component:"h2",sx:{color:"#34495e",my:3,fontWeight:500},children:"Favorites (Persistent Only)"}),(0,r.jsx)(tl.Z,{container:!0,spacing:2,sx:{mt:2,justifyContent:"center"},children:v.map(e=>{let t=m.find(t=>t.endsWith(e));return{short:e,full:t}}).filter(e=>{let{full:t}=e;return t&&f.has(t)}).filter(e=>{let{short:t}=e;return t.toLowerCase().includes(x.toLowerCase())}).map(e=>{let{short:t}=e;return(0,r.jsx)(tl.Z,{children:(0,r.jsx)(eo.Z,{onClick:()=>k(t),sx:{minWidth:120,cursor:"pointer",transition:"all 0.2s ease","&:hover":{bgcolor:"#f0f8ff",transform:"translateY(-2px)",boxShadow:3}},children:(0,r.jsxs)(es.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",p:2,"&:last-child":{pb:2}},children:[(0,r.jsx)($.Z,{onClick:e=>{e.stopPropagation(),I(t)},sx:{mr:1,display:"inline-flex",cursor:"pointer"},children:(0,r.jsx)(ts.Z,{sx:{color:"#f1c40f"}})}),(0,r.jsx)($.Z,{children:t})]})})},t)})})]}),(0,r.jsx)(P.Z,{variant:"h4",component:"h2",sx:{color:"#34495e",my:3,fontWeight:500},children:"All persisting classes"}),(0,r.jsx)(tl.Z,{container:!0,spacing:2,sx:{mt:2,justifyContent:"center"},children:c.map((e,t)=>({short:e,full:m[t]})).filter(e=>{let{full:t}=e;return f.has(t)}).filter(e=>{let{short:t}=e;return t.toLowerCase().includes(x.toLowerCase())}).map(e=>{let{short:t}=e;return(0,r.jsx)(tl.Z,{children:(0,r.jsx)(eo.Z,{sx:{minWidth:120,cursor:"pointer",transition:"all 0.2s ease","&:hover":{bgcolor:"#f0f8ff",transform:"translateY(-2px)",boxShadow:3}},children:(0,r.jsxs)(es.Z,{onClick:()=>k(t),sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",p:2,"&:last-child":{pb:2}},children:[(0,r.jsx)($.Z,{onClick:e=>{e.stopPropagation(),I(t)},sx:{mr:1,display:"inline-flex",cursor:"pointer"},children:v.includes(t)?(0,r.jsx)(ts.Z,{sx:{color:"#f1c40f"}}):(0,r.jsx)(to.Z,{sx:{color:"#ccc"}})}),(0,r.jsx)($.Z,{children:t})]})})},t)})}),(0,r.jsxs)($.Z,{sx:{position:"absolute",top:10,right:10,display:"flex",gap:1,zIndex:1e3},children:[(0,r.jsx)(V.Z,{onClick:()=>{Object.keys(localStorage).filter(e=>e.startsWith("persisting:")).forEach(e=>localStorage.removeItem(e)),h(new Set),s()},"aria-label":"reload",title:"Reload all classes",sx:{"&:hover":{color:"#3498db"}},children:(0,r.jsx)(ti.Z,{})}),(0,r.jsx)(V.Z,{onClick:()=>{j(!0),setTimeout(()=>e("/home"),300)},"aria-label":"close",title:"Close",sx:{"&:hover":{color:"#e74c3c"}},children:(0,r.jsx)(em.Z,{})})]})]})})},{})},{path:"/add-node/form/:rootId",element:(0,r.jsx)(()=>{let e,t,a,n,l,s,c,d,m,u,f,h,x,g,y,j,v,_,S,w,Z,C,k,N=(0,i.c)(57),{rootId:I}=(0,o.UO)(),E=I?parseInt(I):0,z=(0,A.NL)(),D=(0,o.s0)();N[0]!==E?(e={node_id:E},N[0]=E,N[1]=e):e=N[1];let{data:O,isLoading:T,error:L,refetch:F}=p("class_attribute_field",e),W=O?.data?.results?.[0]?.result?.data?.currentNode?.name,K=b("export_csv"),M=b("remove_node");N[2]!==z||N[3]!==O?.data?.results?.[0]?.result?.data?.attributes?(t={onSuccess:async()=>{await z.invalidateQueries({queryKey:["apiData","class_attribute_field",{node_id:O?.data?.results?.[0]?.result?.data?.attributes?.filter(ai)[0].id}]})}},N[2]=z,N[3]=O?.data?.results?.[0]?.result?.data?.attributes,N[4]=t):t=N[4];let U=b("search_node",t);if(T){let e;return N[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)($.Z,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:(0,r.jsx)(H.Z,{})}),N[5]=e):e=N[5],e}if(L){let e,t=L.message||"Unknown error";return N[6]!==t?(e=(0,r.jsxs)(P.Z,{color:"error",children:["Error loading form fields: ",t]}),N[6]=t,N[7]=e):e=N[7],e}return N[8]===Symbol.for("react.memo_cache_sentinel")?(a={p:3,position:"relative"},N[8]=a):a=N[8],N[9]!==D?(n=()=>D(-1),N[9]=D,N[10]=n):n=N[10],N[11]===Symbol.for("react.memo_cache_sentinel")?(l={position:"absolute",top:16,right:16},s=(0,r.jsx)(tf.Z,{}),N[11]=l,N[12]=s):(l=N[11],s=N[12]),N[13]!==n?(c=(0,r.jsx)(V.Z,{className:"close-button",onClick:n,"aria-label":"close",sx:l,children:s}),N[13]=n,N[14]=c):c=N[14],N[15]!==W?(d=tg(W),N[15]=W,N[16]=d):d=N[16],N[17]!==d?(m=(0,r.jsxs)(P.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:["Form for: ",d]}),N[17]=d,N[18]=m):m=N[18],N[19]!==W||N[20]!==E?(u=ty(E,W),N[19]=W,N[20]=E,N[21]=u):u=N[21],N[22]!==E?(f={id:E},N[22]=E,N[23]=f):f=N[23],N[24]!==E||N[25]!==f||N[26]!==u?(h=(0,r.jsx)(an,{fieldKey:u,rootId:E,isRoot:!0,field:f}),N[24]=E,N[25]=f,N[26]=u,N[27]=h):h=N[27],N[28]!==O?.data?.results?.[0]?.result?.data.currentNode?.type||N[29]!==E||N[30]!==U?(x=O?.data?.results?.[0]?.result?.data.currentNode?.type==="SearchForm"?(0,r.jsx)(R.Z,{variant:"contained",color:"primary",sx:{},onClick:()=>U.mutate({node_id:E}),children:"Rechercher"}):"",N[28]=O?.data?.results?.[0]?.result?.data.currentNode?.type,N[29]=E,N[30]=U,N[31]=x):x=N[31],N[32]!==h||N[33]!==x||N[34]!==c||N[35]!==m?(g=(0,r.jsxs)(ta.Z,{className:"form-page",component:tr.Z,elevation:3,sx:a,children:[c,m,h,x]}),N[32]=h,N[33]=x,N[34]=c,N[35]=m,N[36]=g):g=N[36],N[37]===Symbol.for("react.memo_cache_sentinel")?(y={position:"absolute",bottom:16,right:16},N[37]=y):y=N[37],N[38]===Symbol.for("react.memo_cache_sentinel")?(j=(0,r.jsx)(td.Z,{}),v=(0,r.jsx)(al.Z,{}),N[38]=j,N[39]=v):(j=N[38],v=N[39]),N[40]!==K||N[41]!==W||N[42]!==E?(_={icon:v,name:"Exporter",onClick:async()=>{let e=await K.mutateAsync({node_id:E,includeAllFields:!0,maxDepth:4}),t=new Blob([e?.data?.results?.[0]?.result?.data],{type:"text/csv"});(0,ao.saveAs)(t,`${W}.csv`)}},N[40]=K,N[41]=W,N[42]=E,N[43]=_):_=N[43],N[44]===Symbol.for("react.memo_cache_sentinel")?(S={icon:(0,r.jsx)(ec.Z,{}),name:"Ajouter une nouvelle entr\xe9e"},w=(0,r.jsx)(as.Z,{}),N[44]=S,N[45]=w):(S=N[44],w=N[45]),N[46]!==D||N[47]!==F||N[48]!==M||N[49]!==E?(Z={icon:w,name:"Supprimer",onClick:async()=>{await M.mutateAsync({node_id:E},{onSuccess:async()=>{await F(),D(-1)}})}},N[46]=D,N[47]=F,N[48]=M,N[49]=E,N[50]=Z):Z=N[50],N[51]!==_||N[52]!==Z?(C=(0,r.jsx)(tm.Z,{ariaLabel:"SpeedDial playground example",sx:y,hidden:!1,icon:j,children:[_,S,Z].map(ac)}),N[51]=_,N[52]=Z,N[53]=C):C=N[53],N[54]!==g||N[55]!==C?(k=(0,r.jsxs)(r.Fragment,{children:[g,C]}),N[54]=g,N[55]=C,N[56]=k):k=N[56],k},{})}]}]}]);var am=a(20388),au=a(77300);let af=new am.S,ah=document.getElementById("root");(0,l.createRoot)(ah).render((0,r.jsx)(n.StrictMode,{children:(0,r.jsx)(s.Z,{injectFirst:!0,children:(0,r.jsxs)(A.aH,{client:af,children:[(0,r.jsx)(o.pG,{router:ad}),(0,r.jsx)(au.t,{buttonPosition:"bottom-left",initialIsOpen:!1})]})})}))}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var l=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;a.t=function(r,n){if(1&n&&(r=this(r)),8&n||"object"==typeof r&&r&&(4&n&&r.__esModule||16&n&&"function"==typeof r.then))return r;var l=Object.create(null);a.r(l);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&n&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>{s[e]=()=>r[e]});return s.default=()=>r,a.d(l,s),l}})(),a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>"static/js/async/"+e+"."+({1033:"17f6111d",109:"18832088",115:"0a332a65",1215:"82e721f0",1228:"6c2b16a2",1238:"7b9e0d98",1264:"172e531a",1284:"e6526ff9",1324:"f5066d94",1341:"50bd9b07",137:"b6bd5f18",1385:"50a3be13",1450:"0203df49",1498:"675c1e0d",1527:"8f7d189d",1581:"31c2e037",1595:"2c0b888b",1661:"98fedb5f",1736:"3ab49497",175:"94f042b9",1782:"077992d8",1843:"d7f813bf",1971:"c1c48260",1991:"7dc6f2ac",2012:"fadb1ac3",2014:"5a4fe407",2017:"fc9e679f",202:"642761ec",2020:"48baef7e",2039:"4a3f4043",2050:"25eeedd6",21:"19cc5208",212:"1a88be6e",2155:"cc533dc2",2167:"53b3a372",2168:"162ad6cd",2229:"081c19f0",2237:"be7bce0e",2280:"51f186c1",2334:"06952213",2357:"ea194e41",2385:"41b5032d",2408:"372d80a9",2422:"c66288b1",2440:"08f76bee",2469:"001c98e2",2499:"a6ac0a4e",2571:"1a76d47f",2584:"6b9653c6",2610:"650ab345",2613:"9c8be591",2616:"a4c33fe2",2622:"be9a50ac",2660:"ca101a3a",2708:"4dd8ecd6",2733:"16d45216",2787:"2b8afb23",2812:"a6fa7bfe",2835:"ecf44374",2855:"ef7378af",2860:"c28dec26",2953:"35c0cf75",2957:"7b675c65",2970:"dcf7d9c2",2976:"8a2e6e65",2980:"d25476fa",3013:"1a72b362",3033:"a7410b77",3054:"50d469d1",3063:"ea25ade3",3072:"8dac993c",308:"d7b500f6",3144:"9761ad39",3206:"6f5ac6a9",3245:"3ed7d9bd",3269:"e2d5e929",3336:"fd37ebcd",3346:"2996d696",3409:"df9c4d5c",3417:"b158ea82",3445:"01b0eee1",3447:"ac01d96b",3561:"ce24be3b",3566:"c0220ea3",3581:"6265d624",3594:"914736d8",3598:"70950ca3",3685:"bdb04950",3686:"d70966ae",3717:"589e021b",3764:"58987926",3866:"399f2583",3898:"15a143ea",3936:"00d9571f",3976:"dbca30cb",399:"f71aa3e7",4137:"4e29fff0",4143:"39faedfd",4161:"f92abc5f",4181:"6cb7d27c",4198:"e6567842",4236:"4d0777d8",424:"abb25f5e",4246:"b45faada",4324:"b2b121de",4348:"0c97b272",4378:"2f5e523d",4394:"866e0dcd",4434:"a1c62a07",4437:"4f00e7d6",4565:"37e12ecb",4583:"9dee8b9a",4654:"5331823b",4663:"847fadd3",4682:"6c4db126",4759:"a487fd84",479:"f26f6b45",4793:"c88a55bf",4846:"942b1f8a",4876:"879f412d",488:"c7da8f74",4883:"9842d895",4896:"9e62a43f",493:"65e3fb8a",4947:"7f1a1d42",504:"98ab29eb",5041:"4cc98800",5117:"5499db7f",5183:"a63b90ad",5208:"0c2fa6b5",5243:"793c2351",5253:"b0804947",5265:"349dcd95",528:"7f1e8bdf",5286:"ad285f17",5306:"42e6b653",535:"93bc457c",5379:"17170744",5401:"16a403fc",5468:"607dced2",5498:"562f33c2",5502:"73fb14d8",5556:"1b5eaefa",5557:"57624981",5575:"7bc10500",5610:"0492760a",562:"0b950923",5621:"5a889a50",5697:"2585150f",5764:"fbf272f7",5768:"1d21a87e",5830:"4d5e1352",5892:"bb3b49f8",5902:"4e20bb03",5928:"83613abb",5942:"4dd8a5be",5987:"e6fbd9a1",601:"f0b0c677",6023:"6111a6f7",6029:"648ae64e",6067:"88326a20",6126:"e4a0e87d",6225:"234d94eb",6263:"ebda8212",6265:"5fa9cffe",627:"7ab95313",6272:"947e1439",6290:"1b41690e",6295:"e921d8ca",6358:"83481e93",637:"1301966b",638:"421cc010",6396:"546d781d",6428:"1c5bd5c2",6442:"aa33b13a",6455:"9e714990",6485:"5a7e4ab8",6554:"e9bbe581",6558:"c7ffd25c",6606:"4b6acd55",6692:"a1b93ee9",6722:"dac4eb53",6739:"2eafe7cc",6751:"da426d3b",6801:"0dbe1a34",6818:"a05553ec",6861:"d1342653",6912:"e4126988",6940:"7e01b805",7028:"29270ff4",7098:"0394a3b8",7129:"46e5a880",7167:"eec2add3",7202:"efcae193",7225:"ce340aac",7234:"9ca926e8",725:"61a51fc7",7279:"0dd2eb29",7336:"a1525357",7388:"98969cb1",7398:"cf0b0d64",7440:"29665836",7503:"ce6d1372",7566:"fa2ae713",7584:"617dcb1f",7666:"ff54bbce",7680:"aa6e4ce6",7706:"ee861630",7742:"69927333",78:"5b8e4c05",7829:"174a5a9c",7833:"827cc1a4",7838:"0a5b7cb7",7883:"e2eb032f",7886:"9c03e319",7893:"ef8a2281",7911:"1e067a60",7955:"03d4f38f",8033:"a8da6ec0",807:"18610cdb",8085:"417a35e2",8106:"348c4e05",8125:"6fd302d9",8126:"6791bf5b",8177:"7287e8a0",8235:"ece8289d",8244:"7ae6c967",8281:"77d35550",8289:"71f97a4e",8319:"28e98353",8325:"26eff9e4",8329:"6e9cfc28",8453:"c5ab1e7c",8479:"e222cd71",8483:"e447ade8",8486:"e59274b5",8532:"2cdce6e4",8587:"9c07571b",8615:"0f704e94",8652:"fae82fca",8674:"4dc7a38a",8675:"a52c9010",8679:"2e565919",8681:"0c1b1796",8682:"9f54b55b",8687:"082746b0",8721:"46d0a01e",8824:"a9959219",8830:"768aafde",8863:"b963ad3c",899:"1f008547",8994:"524f7932",9014:"16cc3052",9042:"67556784",9059:"9d355e13",9139:"43f6fcd9",9175:"874b4bbe",9214:"f0050e8d",9226:"af62836b",9230:"3c63ddda",925:"083c6659",9260:"88f16f77",928:"a5be9560",9301:"ea78ec8f",9354:"b53c8118",9366:"83e9fd9b",9394:"a3386079",940:"d90ad1fc",9428:"405c1d6f",9484:"168ca12c",9549:"184b3493",9555:"f2088478",9582:"de81b9bc",9586:"8a68bcb5",9590:"86c0ea9a",9594:"effdc72a",970:"650dd1bb",9760:"b56661f2",9790:"49b3f870",9854:"da9e39b6",9942:"758d285a",9973:"d65b0cec"})[e]+".js",a.miniCssF=e=>""+e+".css",a.h=()=>"95aaf780b8b323f2",a.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="login_page:";a.l=function(r,n,l,s){if(e[r])return void e[r].push(n);if(void 0!==l)for(var o,i,c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var m=c[d];if(m.getAttribute("src")==r||m.getAttribute("data-webpack")==t+l){o=m;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+l),o.src=r),e[r]=[n];var u=function(t,a){o.onerror=o.onload=null,clearTimeout(f);var n=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach(function(e){return e(a)}),t)return t(a)},f=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),i&&document.head.appendChild(o)}})(),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e=[];a.O=(t,r,n,l)=>{if(r){l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[r,n,l];return}for(var o=1/0,s=0;s<e.length;s++){for(var r=e[s][0],n=e[s][1],l=e[s][2],i=!0,c=0;c<r.length;c++)(!1&l||o>=l)&&Object.keys(a.O).every(e=>a.O[e](r[c]))?r.splice(c--,1):(i=!1,l<o&&(o=l));if(i){e.splice(s--,1);var d=n();void 0!==d&&(t=d)}}return t}})(),a.p="/",(()=>{a.b=document.baseURI||self.location.href;var e={2487:0};a.f.j=function(t,r){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var l=new Promise((a,r)=>n=e[t]=[a,r]);r.push(n[2]=l);var s=a.p+a.u(t),o=Error();a.l(s,function(r){if(a.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var l=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",o.name="ChunkLoadError",o.type=l,o.request=s,n[1](o)}},"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,r)=>{var n,l,s=r[0],o=r[1],i=r[2],c=0;if(s.some(t=>0!==e[t])){for(n in o)a.o(o,n)&&(a.m[n]=o[n]);if(i)var d=i(a)}for(t&&t(r);c<s.length;c++)l=s[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(d)},r=self.webpackChunklogin_page=self.webpackChunklogin_page||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a.O(void 0,["2072","3361","2118","4506"],function(){return a(41527)});r=a.O(r)})();